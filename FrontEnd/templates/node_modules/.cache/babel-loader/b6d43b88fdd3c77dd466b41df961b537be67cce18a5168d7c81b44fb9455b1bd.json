{"ast":null,"code":"var _typeof = require(\"/home/val/42/ft_transcendence/front_end/node_modules/@babel/runtime/helpers/typeof.js\")[\"default\"];\nrequire(\"core-js/modules/es.error.cause.js\");\nrequire(\"core-js/modules/es.error.to-string.js\");\nrequire(\"core-js/modules/es.array.concat.js\");\nrequire(\"core-js/modules/es.array.every.js\");\nrequire(\"core-js/modules/es.array.filter.js\");\nrequire(\"core-js/modules/es.array.find.js\");\nrequire(\"core-js/modules/es.array.for-each.js\");\nrequire(\"core-js/modules/es.array.index-of.js\");\nrequire(\"core-js/modules/es.array.join.js\");\nrequire(\"core-js/modules/es.array.last-index-of.js\");\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/es.array.slice.js\");\nrequire(\"core-js/modules/es.date.to-string.js\");\nrequire(\"core-js/modules/es.function.bind.js\");\nrequire(\"core-js/modules/es.function.name.js\");\nrequire(\"core-js/modules/es.number.constructor.js\");\nrequire(\"core-js/modules/es.object.define-getter.js\");\nrequire(\"core-js/modules/es.object.define-property.js\");\nrequire(\"core-js/modules/es.object.keys.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.parse-int.js\");\nrequire(\"core-js/modules/es.regexp.constructor.js\");\nrequire(\"core-js/modules/es.regexp.dot-all.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.regexp.sticky.js\");\nrequire(\"core-js/modules/es.regexp.test.js\");\nrequire(\"core-js/modules/es.regexp.to-string.js\");\nrequire(\"core-js/modules/es.string.match.js\");\nrequire(\"core-js/modules/es.string.replace.js\");\nrequire(\"core-js/modules/es.string.search.js\");\nrequire(\"core-js/modules/es.string.split.js\");\nrequire(\"core-js/modules/es.string.starts-with.js\");\nrequire(\"core-js/modules/es.string.trim.js\");\nrequire(\"core-js/modules/web.timers.js\");\n/*!\r\n * Bootstrap-select v1.13.18 (https://developer.snapappointments.com/bootstrap-select)\r\n *\r\n * Copyright 2012-2020 SnapAppointments, LLC\r\n * Licensed under MIT (https://github.com/snapappointments/bootstrap-select/blob/master/LICENSE)\r\n */\n\n(function (root, factory) {\n  if (root === undefined && window !== undefined) root = window;\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define([\"jquery\"], function (a0) {\n      return factory(a0);\n    });\n  } else if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === 'object' && module.exports) {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require(\"jquery\"));\n  } else {\n    factory(root[\"jQuery\"]);\n  }\n})(this, function (jQuery) {\n  (function ($) {\n    'use strict';\n\n    var DISALLOWED_ATTRIBUTES = ['sanitize', 'whiteList', 'sanitizeFn'];\n    var uriAttrs = ['background', 'cite', 'href', 'itemtype', 'longdesc', 'poster', 'src', 'xlink:href'];\n    var ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i;\n    var DefaultWhitelist = {\n      // Global attributes allowed on any supplied element below.\n      '*': ['class', 'dir', 'id', 'lang', 'role', 'tabindex', 'style', ARIA_ATTRIBUTE_PATTERN],\n      a: ['target', 'href', 'title', 'rel'],\n      area: [],\n      b: [],\n      br: [],\n      col: [],\n      code: [],\n      div: [],\n      em: [],\n      hr: [],\n      h1: [],\n      h2: [],\n      h3: [],\n      h4: [],\n      h5: [],\n      h6: [],\n      i: [],\n      img: ['src', 'alt', 'title', 'width', 'height'],\n      li: [],\n      ol: [],\n      p: [],\n      pre: [],\n      s: [],\n      small: [],\n      span: [],\n      sub: [],\n      sup: [],\n      strong: [],\n      u: [],\n      ul: []\n    };\n\n    /**\r\n     * A pattern that recognizes a commonly useful subset of URLs that are safe.\r\n     *\r\n     * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\r\n     */\n    var SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi;\n\n    /**\r\n     * A pattern that matches safe data URLs. Only matches image, video and audio types.\r\n     *\r\n     * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\r\n     */\n    var DATA_URL_PATTERN = /^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;\n    function allowedAttribute(attr, allowedAttributeList) {\n      var attrName = attr.nodeName.toLowerCase();\n      if ($.inArray(attrName, allowedAttributeList) !== -1) {\n        if ($.inArray(attrName, uriAttrs) !== -1) {\n          return Boolean(attr.nodeValue.match(SAFE_URL_PATTERN) || attr.nodeValue.match(DATA_URL_PATTERN));\n        }\n        return true;\n      }\n      var regExp = $(allowedAttributeList).filter(function (index, value) {\n        return value instanceof RegExp;\n      });\n\n      // Check if a regular expression validates the attribute.\n      for (var i = 0, l = regExp.length; i < l; i++) {\n        if (attrName.match(regExp[i])) {\n          return true;\n        }\n      }\n      return false;\n    }\n    function sanitizeHtml(unsafeElements, whiteList, sanitizeFn) {\n      if (sanitizeFn && typeof sanitizeFn === 'function') {\n        return sanitizeFn(unsafeElements);\n      }\n      var whitelistKeys = Object.keys(whiteList);\n      for (var i = 0, len = unsafeElements.length; i < len; i++) {\n        var elements = unsafeElements[i].querySelectorAll('*');\n        for (var j = 0, len2 = elements.length; j < len2; j++) {\n          var el = elements[j];\n          var elName = el.nodeName.toLowerCase();\n          if (whitelistKeys.indexOf(elName) === -1) {\n            el.parentNode.removeChild(el);\n            continue;\n          }\n          var attributeList = [].slice.call(el.attributes);\n          var whitelistedAttributes = [].concat(whiteList['*'] || [], whiteList[elName] || []);\n          for (var k = 0, len3 = attributeList.length; k < len3; k++) {\n            var attr = attributeList[k];\n            if (!allowedAttribute(attr, whitelistedAttributes)) {\n              el.removeAttribute(attr.nodeName);\n            }\n          }\n        }\n      }\n    }\n\n    // Polyfill for browsers with no classList support\n    // Remove in v2\n    if (!('classList' in document.createElement('_'))) {\n      (function (view) {\n        if (!('Element' in view)) return;\n        var classListProp = 'classList',\n          protoProp = 'prototype',\n          elemCtrProto = view.Element[protoProp],\n          objCtr = Object,\n          classListGetter = function classListGetter() {\n            var $elem = $(this);\n            return {\n              add: function add(classes) {\n                classes = Array.prototype.slice.call(arguments).join(' ');\n                return $elem.addClass(classes);\n              },\n              remove: function remove(classes) {\n                classes = Array.prototype.slice.call(arguments).join(' ');\n                return $elem.removeClass(classes);\n              },\n              toggle: function toggle(classes, force) {\n                return $elem.toggleClass(classes, force);\n              },\n              contains: function contains(classes) {\n                return $elem.hasClass(classes);\n              }\n            };\n          };\n        if (objCtr.defineProperty) {\n          var classListPropDesc = {\n            get: classListGetter,\n            enumerable: true,\n            configurable: true\n          };\n          try {\n            objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n          } catch (ex) {\n            // IE 8 doesn't support enumerable:true\n            // adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36\n            // modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected\n            if (ex.number === undefined || ex.number === -0x7FF5EC54) {\n              classListPropDesc.enumerable = false;\n              objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n            }\n          }\n        } else if (objCtr[protoProp].__defineGetter__) {\n          elemCtrProto.__defineGetter__(classListProp, classListGetter);\n        }\n      })(window);\n    }\n    var testElement = document.createElement('_');\n    testElement.classList.add('c1', 'c2');\n    if (!testElement.classList.contains('c2')) {\n      var _add = DOMTokenList.prototype.add,\n        _remove = DOMTokenList.prototype.remove;\n      DOMTokenList.prototype.add = function () {\n        Array.prototype.forEach.call(arguments, _add.bind(this));\n      };\n      DOMTokenList.prototype.remove = function () {\n        Array.prototype.forEach.call(arguments, _remove.bind(this));\n      };\n    }\n    testElement.classList.toggle('c3', false);\n\n    // Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n    // support the second argument.\n    if (testElement.classList.contains('c3')) {\n      var _toggle = DOMTokenList.prototype.toggle;\n      DOMTokenList.prototype.toggle = function (token, force) {\n        if (1 in arguments && !this.contains(token) === !force) {\n          return force;\n        } else {\n          return _toggle.call(this, token);\n        }\n      };\n    }\n    testElement = null;\n\n    // shallow array comparison\n    function isEqual(array1, array2) {\n      return array1.length === array2.length && array1.every(function (element, index) {\n        return element === array2[index];\n      });\n    }\n    ;\n\n    // <editor-fold desc=\"Shims\">\n    if (!String.prototype.startsWith) {\n      (function () {\n        'use strict';\n\n        // needed to support `apply`/`call` with `undefined`/`null`\n        var defineProperty = function () {\n          // IE 8 only supports `Object.defineProperty` on DOM elements\n          try {\n            var object = {};\n            var $defineProperty = Object.defineProperty;\n            var result = $defineProperty(object, object, object) && $defineProperty;\n          } catch (error) {}\n          return result;\n        }();\n        var toString = {}.toString;\n        var startsWith = function startsWith(search) {\n          if (this == null) {\n            throw new TypeError();\n          }\n          var string = String(this);\n          if (search && toString.call(search) == '[object RegExp]') {\n            throw new TypeError();\n          }\n          var stringLength = string.length;\n          var searchString = String(search);\n          var searchLength = searchString.length;\n          var position = arguments.length > 1 ? arguments[1] : undefined;\n          // `ToInteger`\n          var pos = position ? Number(position) : 0;\n          if (pos != pos) {\n            // better `isNaN`\n            pos = 0;\n          }\n          var start = Math.min(Math.max(pos, 0), stringLength);\n          // Avoid the `indexOf` call if no match is possible\n          if (searchLength + start > stringLength) {\n            return false;\n          }\n          var index = -1;\n          while (++index < searchLength) {\n            if (string.charCodeAt(start + index) != searchString.charCodeAt(index)) {\n              return false;\n            }\n          }\n          return true;\n        };\n        if (defineProperty) {\n          defineProperty(String.prototype, 'startsWith', {\n            'value': startsWith,\n            'configurable': true,\n            'writable': true\n          });\n        } else {\n          String.prototype.startsWith = startsWith;\n        }\n      })();\n    }\n    if (!Object.keys) {\n      Object.keys = function (o,\n      // object\n      k,\n      // key\n      r // result array\n      ) {\n        // initialize object and result\n        r = [];\n        // iterate over object keys\n        for (k in o) {\n          // fill result array with non-prototypical keys\n          r.hasOwnProperty.call(o, k) && r.push(k);\n        }\n        // return result\n        return r;\n      };\n    }\n    if (HTMLSelectElement && !HTMLSelectElement.prototype.hasOwnProperty('selectedOptions')) {\n      Object.defineProperty(HTMLSelectElement.prototype, 'selectedOptions', {\n        get: function get() {\n          return this.querySelectorAll(':checked');\n        }\n      });\n    }\n    function getSelectedOptions(select, ignoreDisabled) {\n      var selectedOptions = select.selectedOptions,\n        options = [],\n        opt;\n      if (ignoreDisabled) {\n        for (var i = 0, len = selectedOptions.length; i < len; i++) {\n          opt = selectedOptions[i];\n          if (!(opt.disabled || opt.parentNode.tagName === 'OPTGROUP' && opt.parentNode.disabled)) {\n            options.push(opt);\n          }\n        }\n        return options;\n      }\n      return selectedOptions;\n    }\n\n    // much faster than $.val()\n    function getSelectValues(select, selectedOptions) {\n      var value = [],\n        options = selectedOptions || select.selectedOptions,\n        opt;\n      for (var i = 0, len = options.length; i < len; i++) {\n        opt = options[i];\n        if (!(opt.disabled || opt.parentNode.tagName === 'OPTGROUP' && opt.parentNode.disabled)) {\n          value.push(opt.value);\n        }\n      }\n      if (!select.multiple) {\n        return !value.length ? null : value[0];\n      }\n      return value;\n    }\n\n    // set data-selected on select element if the value has been programmatically selected\n    // prior to initialization of bootstrap-select\n    // * consider removing or replacing an alternative method *\n    var valHooks = {\n      useDefault: false,\n      _set: $.valHooks.select.set\n    };\n    $.valHooks.select.set = function (elem, value) {\n      if (value && !valHooks.useDefault) $(elem).data('selected', true);\n      return valHooks._set.apply(this, arguments);\n    };\n    var changedArguments = null;\n    var EventIsSupported = function () {\n      try {\n        new Event('change');\n        return true;\n      } catch (e) {\n        return false;\n      }\n    }();\n    $.fn.triggerNative = function (eventName) {\n      var el = this[0],\n        event;\n      if (el.dispatchEvent) {\n        // for modern browsers & IE9+\n        if (EventIsSupported) {\n          // For modern browsers\n          event = new Event(eventName, {\n            bubbles: true\n          });\n        } else {\n          // For IE since it doesn't support Event constructor\n          event = document.createEvent('Event');\n          event.initEvent(eventName, true, false);\n        }\n        el.dispatchEvent(event);\n      } else if (el.fireEvent) {\n        // for IE8\n        event = document.createEventObject();\n        event.eventType = eventName;\n        el.fireEvent('on' + eventName, event);\n      } else {\n        // fall back to jQuery.trigger\n        this.trigger(eventName);\n      }\n    };\n    // </editor-fold>\n\n    function stringSearch(li, searchString, method, normalize) {\n      var stringTypes = ['display', 'subtext', 'tokens'],\n        searchSuccess = false;\n      for (var i = 0; i < stringTypes.length; i++) {\n        var stringType = stringTypes[i],\n          string = li[stringType];\n        if (string) {\n          string = string.toString();\n\n          // Strip HTML tags. This isn't perfect, but it's much faster than any other method\n          if (stringType === 'display') {\n            string = string.replace(/<[^>]+>/g, '');\n          }\n          if (normalize) string = normalizeToBase(string);\n          string = string.toUpperCase();\n          if (method === 'contains') {\n            searchSuccess = string.indexOf(searchString) >= 0;\n          } else {\n            searchSuccess = string.startsWith(searchString);\n          }\n          if (searchSuccess) break;\n        }\n      }\n      return searchSuccess;\n    }\n    function toInteger(value) {\n      return parseInt(value, 10) || 0;\n    }\n\n    // Borrowed from Lodash (_.deburr)\n    /** Used to map Latin Unicode letters to basic Latin letters. */\n    var deburredLetters = {\n      // Latin-1 Supplement block.\n      '\\xc0': 'A',\n      '\\xc1': 'A',\n      '\\xc2': 'A',\n      '\\xc3': 'A',\n      '\\xc4': 'A',\n      '\\xc5': 'A',\n      '\\xe0': 'a',\n      '\\xe1': 'a',\n      '\\xe2': 'a',\n      '\\xe3': 'a',\n      '\\xe4': 'a',\n      '\\xe5': 'a',\n      '\\xc7': 'C',\n      '\\xe7': 'c',\n      '\\xd0': 'D',\n      '\\xf0': 'd',\n      '\\xc8': 'E',\n      '\\xc9': 'E',\n      '\\xca': 'E',\n      '\\xcb': 'E',\n      '\\xe8': 'e',\n      '\\xe9': 'e',\n      '\\xea': 'e',\n      '\\xeb': 'e',\n      '\\xcc': 'I',\n      '\\xcd': 'I',\n      '\\xce': 'I',\n      '\\xcf': 'I',\n      '\\xec': 'i',\n      '\\xed': 'i',\n      '\\xee': 'i',\n      '\\xef': 'i',\n      '\\xd1': 'N',\n      '\\xf1': 'n',\n      '\\xd2': 'O',\n      '\\xd3': 'O',\n      '\\xd4': 'O',\n      '\\xd5': 'O',\n      '\\xd6': 'O',\n      '\\xd8': 'O',\n      '\\xf2': 'o',\n      '\\xf3': 'o',\n      '\\xf4': 'o',\n      '\\xf5': 'o',\n      '\\xf6': 'o',\n      '\\xf8': 'o',\n      '\\xd9': 'U',\n      '\\xda': 'U',\n      '\\xdb': 'U',\n      '\\xdc': 'U',\n      '\\xf9': 'u',\n      '\\xfa': 'u',\n      '\\xfb': 'u',\n      '\\xfc': 'u',\n      '\\xdd': 'Y',\n      '\\xfd': 'y',\n      '\\xff': 'y',\n      '\\xc6': 'Ae',\n      '\\xe6': 'ae',\n      '\\xde': 'Th',\n      '\\xfe': 'th',\n      '\\xdf': 'ss',\n      // Latin Extended-A block.\n      \"\\u0100\": 'A',\n      \"\\u0102\": 'A',\n      \"\\u0104\": 'A',\n      \"\\u0101\": 'a',\n      \"\\u0103\": 'a',\n      \"\\u0105\": 'a',\n      \"\\u0106\": 'C',\n      \"\\u0108\": 'C',\n      \"\\u010A\": 'C',\n      \"\\u010C\": 'C',\n      \"\\u0107\": 'c',\n      \"\\u0109\": 'c',\n      \"\\u010B\": 'c',\n      \"\\u010D\": 'c',\n      \"\\u010E\": 'D',\n      \"\\u0110\": 'D',\n      \"\\u010F\": 'd',\n      \"\\u0111\": 'd',\n      \"\\u0112\": 'E',\n      \"\\u0114\": 'E',\n      \"\\u0116\": 'E',\n      \"\\u0118\": 'E',\n      \"\\u011A\": 'E',\n      \"\\u0113\": 'e',\n      \"\\u0115\": 'e',\n      \"\\u0117\": 'e',\n      \"\\u0119\": 'e',\n      \"\\u011B\": 'e',\n      \"\\u011C\": 'G',\n      \"\\u011E\": 'G',\n      \"\\u0120\": 'G',\n      \"\\u0122\": 'G',\n      \"\\u011D\": 'g',\n      \"\\u011F\": 'g',\n      \"\\u0121\": 'g',\n      \"\\u0123\": 'g',\n      \"\\u0124\": 'H',\n      \"\\u0126\": 'H',\n      \"\\u0125\": 'h',\n      \"\\u0127\": 'h',\n      \"\\u0128\": 'I',\n      \"\\u012A\": 'I',\n      \"\\u012C\": 'I',\n      \"\\u012E\": 'I',\n      \"\\u0130\": 'I',\n      \"\\u0129\": 'i',\n      \"\\u012B\": 'i',\n      \"\\u012D\": 'i',\n      \"\\u012F\": 'i',\n      \"\\u0131\": 'i',\n      \"\\u0134\": 'J',\n      \"\\u0135\": 'j',\n      \"\\u0136\": 'K',\n      \"\\u0137\": 'k',\n      \"\\u0138\": 'k',\n      \"\\u0139\": 'L',\n      \"\\u013B\": 'L',\n      \"\\u013D\": 'L',\n      \"\\u013F\": 'L',\n      \"\\u0141\": 'L',\n      \"\\u013A\": 'l',\n      \"\\u013C\": 'l',\n      \"\\u013E\": 'l',\n      \"\\u0140\": 'l',\n      \"\\u0142\": 'l',\n      \"\\u0143\": 'N',\n      \"\\u0145\": 'N',\n      \"\\u0147\": 'N',\n      \"\\u014A\": 'N',\n      \"\\u0144\": 'n',\n      \"\\u0146\": 'n',\n      \"\\u0148\": 'n',\n      \"\\u014B\": 'n',\n      \"\\u014C\": 'O',\n      \"\\u014E\": 'O',\n      \"\\u0150\": 'O',\n      \"\\u014D\": 'o',\n      \"\\u014F\": 'o',\n      \"\\u0151\": 'o',\n      \"\\u0154\": 'R',\n      \"\\u0156\": 'R',\n      \"\\u0158\": 'R',\n      \"\\u0155\": 'r',\n      \"\\u0157\": 'r',\n      \"\\u0159\": 'r',\n      \"\\u015A\": 'S',\n      \"\\u015C\": 'S',\n      \"\\u015E\": 'S',\n      \"\\u0160\": 'S',\n      \"\\u015B\": 's',\n      \"\\u015D\": 's',\n      \"\\u015F\": 's',\n      \"\\u0161\": 's',\n      \"\\u0162\": 'T',\n      \"\\u0164\": 'T',\n      \"\\u0166\": 'T',\n      \"\\u0163\": 't',\n      \"\\u0165\": 't',\n      \"\\u0167\": 't',\n      \"\\u0168\": 'U',\n      \"\\u016A\": 'U',\n      \"\\u016C\": 'U',\n      \"\\u016E\": 'U',\n      \"\\u0170\": 'U',\n      \"\\u0172\": 'U',\n      \"\\u0169\": 'u',\n      \"\\u016B\": 'u',\n      \"\\u016D\": 'u',\n      \"\\u016F\": 'u',\n      \"\\u0171\": 'u',\n      \"\\u0173\": 'u',\n      \"\\u0174\": 'W',\n      \"\\u0175\": 'w',\n      \"\\u0176\": 'Y',\n      \"\\u0177\": 'y',\n      \"\\u0178\": 'Y',\n      \"\\u0179\": 'Z',\n      \"\\u017B\": 'Z',\n      \"\\u017D\": 'Z',\n      \"\\u017A\": 'z',\n      \"\\u017C\": 'z',\n      \"\\u017E\": 'z',\n      \"\\u0132\": 'IJ',\n      \"\\u0133\": 'ij',\n      \"\\u0152\": 'Oe',\n      \"\\u0153\": 'oe',\n      \"\\u0149\": \"'n\",\n      \"\\u017F\": 's'\n    };\n\n    /** Used to match Latin Unicode letters (excluding mathematical operators). */\n    var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n    /** Used to compose unicode character classes. */\n    var rsComboMarksRange = \"\\\\u0300-\\\\u036f\",\n      reComboHalfMarksRange = \"\\\\ufe20-\\\\ufe2f\",\n      rsComboSymbolsRange = \"\\\\u20d0-\\\\u20ff\",\n      rsComboMarksExtendedRange = \"\\\\u1ab0-\\\\u1aff\",\n      rsComboMarksSupplementRange = \"\\\\u1dc0-\\\\u1dff\",\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange + rsComboMarksExtendedRange + rsComboMarksSupplementRange;\n\n    /** Used to compose unicode capture groups. */\n    var rsCombo = '[' + rsComboRange + ']';\n\n    /**\r\n     * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\r\n     * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\r\n     */\n    var reComboMark = RegExp(rsCombo, 'g');\n    function deburrLetter(key) {\n      return deburredLetters[key];\n    }\n    ;\n    function normalizeToBase(string) {\n      string = string.toString();\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    // List of HTML entities for escaping.\n    var escapeMap = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#x27;',\n      '`': '&#x60;'\n    };\n\n    // Functions for escaping and unescaping strings to/from HTML interpolation.\n    var createEscaper = function createEscaper(map) {\n      var escaper = function escaper(match) {\n        return map[match];\n      };\n      // Regexes for identifying a key that needs to be escaped.\n      var source = '(?:' + Object.keys(map).join('|') + ')';\n      var testRegexp = RegExp(source);\n      var replaceRegexp = RegExp(source, 'g');\n      return function (string) {\n        string = string == null ? '' : '' + string;\n        return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n      };\n    };\n    var htmlEscape = createEscaper(escapeMap);\n\n    /**\r\n     * ------------------------------------------------------------------------\r\n     * Constants\r\n     * ------------------------------------------------------------------------\r\n     */\n\n    var keyCodeMap = {\n      32: ' ',\n      48: '0',\n      49: '1',\n      50: '2',\n      51: '3',\n      52: '4',\n      53: '5',\n      54: '6',\n      55: '7',\n      56: '8',\n      57: '9',\n      59: ';',\n      65: 'A',\n      66: 'B',\n      67: 'C',\n      68: 'D',\n      69: 'E',\n      70: 'F',\n      71: 'G',\n      72: 'H',\n      73: 'I',\n      74: 'J',\n      75: 'K',\n      76: 'L',\n      77: 'M',\n      78: 'N',\n      79: 'O',\n      80: 'P',\n      81: 'Q',\n      82: 'R',\n      83: 'S',\n      84: 'T',\n      85: 'U',\n      86: 'V',\n      87: 'W',\n      88: 'X',\n      89: 'Y',\n      90: 'Z',\n      96: '0',\n      97: '1',\n      98: '2',\n      99: '3',\n      100: '4',\n      101: '5',\n      102: '6',\n      103: '7',\n      104: '8',\n      105: '9'\n    };\n    var keyCodes = {\n      ESCAPE: 27,\n      // KeyboardEvent.which value for Escape (Esc) key\n      ENTER: 13,\n      // KeyboardEvent.which value for Enter key\n      SPACE: 32,\n      // KeyboardEvent.which value for space key\n      TAB: 9,\n      // KeyboardEvent.which value for tab key\n      ARROW_UP: 38,\n      // KeyboardEvent.which value for up arrow key\n      ARROW_DOWN: 40 // KeyboardEvent.which value for down arrow key\n    };\n    var version = {\n      success: false,\n      major: '3'\n    };\n    try {\n      version.full = ($.fn.dropdown.Constructor.VERSION || '').split(' ')[0].split('.');\n      version.major = version.full[0];\n      version.success = true;\n    } catch (err) {\n      // do nothing\n    }\n    var selectId = 0;\n    var EVENT_KEY = '.bs.select';\n    var classNames = {\n      DISABLED: 'disabled',\n      DIVIDER: 'divider',\n      SHOW: 'open',\n      DROPUP: 'dropup',\n      MENU: 'dropdown-menu',\n      MENURIGHT: 'dropdown-menu-right',\n      MENULEFT: 'dropdown-menu-left',\n      // to-do: replace with more advanced template/customization options\n      BUTTONCLASS: 'btn-default',\n      POPOVERHEADER: 'popover-title',\n      ICONBASE: 'glyphicon',\n      TICKICON: 'glyphicon-ok'\n    };\n    var Selector = {\n      MENU: '.' + classNames.MENU\n    };\n    var elementTemplates = {\n      div: document.createElement('div'),\n      span: document.createElement('span'),\n      i: document.createElement('i'),\n      subtext: document.createElement('small'),\n      a: document.createElement('a'),\n      li: document.createElement('li'),\n      whitespace: document.createTextNode(\"\\xA0\"),\n      fragment: document.createDocumentFragment()\n    };\n    elementTemplates.noResults = elementTemplates.li.cloneNode(false);\n    elementTemplates.noResults.className = 'no-results';\n    elementTemplates.a.setAttribute('role', 'option');\n    elementTemplates.a.className = 'dropdown-item';\n    elementTemplates.subtext.className = 'text-muted';\n    elementTemplates.text = elementTemplates.span.cloneNode(false);\n    elementTemplates.text.className = 'text';\n    elementTemplates.checkMark = elementTemplates.span.cloneNode(false);\n    var REGEXP_ARROW = new RegExp(keyCodes.ARROW_UP + '|' + keyCodes.ARROW_DOWN);\n    var REGEXP_TAB_OR_ESCAPE = new RegExp('^' + keyCodes.TAB + '$|' + keyCodes.ESCAPE);\n    var generateOption = {\n      li: function li(content, classes, optgroup) {\n        var li = elementTemplates.li.cloneNode(false);\n        if (content) {\n          if (content.nodeType === 1 || content.nodeType === 11) {\n            li.appendChild(content);\n          } else {\n            li.innerHTML = content;\n          }\n        }\n        if (typeof classes !== 'undefined' && classes !== '') li.className = classes;\n        if (typeof optgroup !== 'undefined' && optgroup !== null) li.classList.add('optgroup-' + optgroup);\n        return li;\n      },\n      a: function a(text, classes, inline) {\n        var a = elementTemplates.a.cloneNode(true);\n        if (text) {\n          if (text.nodeType === 11) {\n            a.appendChild(text);\n          } else {\n            a.insertAdjacentHTML('beforeend', text);\n          }\n        }\n        if (typeof classes !== 'undefined' && classes !== '') a.classList.add.apply(a.classList, classes.split(/\\s+/));\n        if (inline) a.setAttribute('style', inline);\n        return a;\n      },\n      text: function text(options, useFragment) {\n        var textElement = elementTemplates.text.cloneNode(false),\n          subtextElement,\n          iconElement;\n        if (options.content) {\n          textElement.innerHTML = options.content;\n        } else {\n          textElement.textContent = options.text;\n          if (options.icon) {\n            var whitespace = elementTemplates.whitespace.cloneNode(false);\n\n            // need to use <i> for icons in the button to prevent a breaking change\n            // note: switch to span in next major release\n            iconElement = (useFragment === true ? elementTemplates.i : elementTemplates.span).cloneNode(false);\n            iconElement.className = this.options.iconBase + ' ' + options.icon;\n            elementTemplates.fragment.appendChild(iconElement);\n            elementTemplates.fragment.appendChild(whitespace);\n          }\n          if (options.subtext) {\n            subtextElement = elementTemplates.subtext.cloneNode(false);\n            subtextElement.textContent = options.subtext;\n            textElement.appendChild(subtextElement);\n          }\n        }\n        if (useFragment === true) {\n          while (textElement.childNodes.length > 0) {\n            elementTemplates.fragment.appendChild(textElement.childNodes[0]);\n          }\n        } else {\n          elementTemplates.fragment.appendChild(textElement);\n        }\n        return elementTemplates.fragment;\n      },\n      label: function label(options) {\n        var textElement = elementTemplates.text.cloneNode(false),\n          subtextElement,\n          iconElement;\n        textElement.innerHTML = options.display;\n        if (options.icon) {\n          var whitespace = elementTemplates.whitespace.cloneNode(false);\n          iconElement = elementTemplates.span.cloneNode(false);\n          iconElement.className = this.options.iconBase + ' ' + options.icon;\n          elementTemplates.fragment.appendChild(iconElement);\n          elementTemplates.fragment.appendChild(whitespace);\n        }\n        if (options.subtext) {\n          subtextElement = elementTemplates.subtext.cloneNode(false);\n          subtextElement.textContent = options.subtext;\n          textElement.appendChild(subtextElement);\n        }\n        elementTemplates.fragment.appendChild(textElement);\n        return elementTemplates.fragment;\n      }\n    };\n    function showNoResults(searchMatch, searchValue) {\n      if (!searchMatch.length) {\n        elementTemplates.noResults.innerHTML = this.options.noneResultsText.replace('{0}', '\"' + htmlEscape(searchValue) + '\"');\n        this.$menuInner[0].firstChild.appendChild(elementTemplates.noResults);\n      }\n    }\n    var _Selectpicker = function Selectpicker(element, options) {\n      var that = this;\n\n      // bootstrap-select has been initialized - revert valHooks.select.set back to its original function\n      if (!valHooks.useDefault) {\n        $.valHooks.select.set = valHooks._set;\n        valHooks.useDefault = true;\n      }\n      this.$element = $(element);\n      this.$newElement = null;\n      this.$button = null;\n      this.$menu = null;\n      this.options = options;\n      this.selectpicker = {\n        main: {},\n        search: {},\n        current: {},\n        // current changes if a search is in progress\n        view: {},\n        isSearching: false,\n        keydown: {\n          keyHistory: '',\n          resetKeyHistory: {\n            start: function start() {\n              return setTimeout(function () {\n                that.selectpicker.keydown.keyHistory = '';\n              }, 800);\n            }\n          }\n        }\n      };\n      this.sizeInfo = {};\n\n      // If we have no title yet, try to pull it from the html title attribute (jQuery doesnt' pick it up as it's not a\n      // data-attribute)\n      if (this.options.title === null) {\n        this.options.title = this.$element.attr('title');\n      }\n\n      // Format window padding\n      var winPad = this.options.windowPadding;\n      if (typeof winPad === 'number') {\n        this.options.windowPadding = [winPad, winPad, winPad, winPad];\n      }\n\n      // Expose public methods\n      this.val = _Selectpicker.prototype.val;\n      this.render = _Selectpicker.prototype.render;\n      this.refresh = _Selectpicker.prototype.refresh;\n      this.setStyle = _Selectpicker.prototype.setStyle;\n      this.selectAll = _Selectpicker.prototype.selectAll;\n      this.deselectAll = _Selectpicker.prototype.deselectAll;\n      this.destroy = _Selectpicker.prototype.destroy;\n      this.remove = _Selectpicker.prototype.remove;\n      this.show = _Selectpicker.prototype.show;\n      this.hide = _Selectpicker.prototype.hide;\n      this.init();\n    };\n    _Selectpicker.VERSION = '1.13.18';\n\n    // part of this is duplicated in i18n/defaults-en_US.js. Make sure to update both.\n    _Selectpicker.DEFAULTS = {\n      noneSelectedText: 'Nothing selected',\n      noneResultsText: 'No results matched {0}',\n      countSelectedText: function countSelectedText(numSelected, numTotal) {\n        return numSelected == 1 ? '{0} item selected' : '{0} items selected';\n      },\n      maxOptionsText: function maxOptionsText(numAll, numGroup) {\n        return [numAll == 1 ? 'Limit reached ({n} item max)' : 'Limit reached ({n} items max)', numGroup == 1 ? 'Group limit reached ({n} item max)' : 'Group limit reached ({n} items max)'];\n      },\n      selectAllText: 'Select All',\n      deselectAllText: 'Deselect All',\n      doneButton: false,\n      doneButtonText: 'Close',\n      multipleSeparator: ', ',\n      styleBase: 'btn',\n      style: classNames.BUTTONCLASS,\n      size: 'auto',\n      title: null,\n      selectedTextFormat: 'values',\n      width: false,\n      container: false,\n      hideDisabled: false,\n      showSubtext: false,\n      showIcon: true,\n      showContent: true,\n      dropupAuto: true,\n      header: false,\n      liveSearch: false,\n      liveSearchPlaceholder: null,\n      liveSearchNormalize: false,\n      liveSearchStyle: 'contains',\n      actionsBox: false,\n      iconBase: classNames.ICONBASE,\n      tickIcon: classNames.TICKICON,\n      showTick: false,\n      template: {\n        caret: '<span class=\"caret\"></span>'\n      },\n      maxOptions: false,\n      mobile: false,\n      selectOnTab: false,\n      dropdownAlignRight: false,\n      windowPadding: 0,\n      virtualScroll: 600,\n      display: false,\n      sanitize: true,\n      sanitizeFn: null,\n      whiteList: DefaultWhitelist\n    };\n    _Selectpicker.prototype = {\n      constructor: _Selectpicker,\n      init: function init() {\n        var that = this,\n          id = this.$element.attr('id'),\n          element = this.$element[0],\n          form = element.form;\n        selectId++;\n        this.selectId = 'bs-select-' + selectId;\n        element.classList.add('bs-select-hidden');\n        this.multiple = this.$element.prop('multiple');\n        this.autofocus = this.$element.prop('autofocus');\n        if (element.classList.contains('show-tick')) {\n          this.options.showTick = true;\n        }\n        this.$newElement = this.createDropdown();\n        this.buildData();\n        this.$element.after(this.$newElement).prependTo(this.$newElement);\n\n        // ensure select is associated with form element if it got unlinked after moving it inside newElement\n        if (form && element.form === null) {\n          if (!form.id) form.id = 'form-' + this.selectId;\n          element.setAttribute('form', form.id);\n        }\n        this.$button = this.$newElement.children('button');\n        this.$menu = this.$newElement.children(Selector.MENU);\n        this.$menuInner = this.$menu.children('.inner');\n        this.$searchbox = this.$menu.find('input');\n        element.classList.remove('bs-select-hidden');\n        if (this.options.dropdownAlignRight === true) this.$menu[0].classList.add(classNames.MENURIGHT);\n        if (typeof id !== 'undefined') {\n          this.$button.attr('data-id', id);\n        }\n        this.checkDisabled();\n        this.clickListener();\n        if (this.options.liveSearch) {\n          this.liveSearchListener();\n          this.focusedParent = this.$searchbox[0];\n        } else {\n          this.focusedParent = this.$menuInner[0];\n        }\n        this.setStyle();\n        this.render();\n        this.setWidth();\n        if (this.options.container) {\n          this.selectPosition();\n        } else {\n          this.$element.on('hide' + EVENT_KEY, function () {\n            if (that.isVirtual()) {\n              // empty menu on close\n              var menuInner = that.$menuInner[0],\n                emptyMenu = menuInner.firstChild.cloneNode(false);\n\n              // replace the existing UL with an empty one - this is faster than $.empty() or innerHTML = ''\n              menuInner.replaceChild(emptyMenu, menuInner.firstChild);\n              menuInner.scrollTop = 0;\n            }\n          });\n        }\n        this.$menu.data('this', this);\n        this.$newElement.data('this', this);\n        if (this.options.mobile) this.mobile();\n        this.$newElement.on({\n          'hide.bs.dropdown': function hideBsDropdown(e) {\n            that.$element.trigger('hide' + EVENT_KEY, e);\n          },\n          'hidden.bs.dropdown': function hiddenBsDropdown(e) {\n            that.$element.trigger('hidden' + EVENT_KEY, e);\n          },\n          'show.bs.dropdown': function showBsDropdown(e) {\n            that.$element.trigger('show' + EVENT_KEY, e);\n          },\n          'shown.bs.dropdown': function shownBsDropdown(e) {\n            that.$element.trigger('shown' + EVENT_KEY, e);\n          }\n        });\n        if (element.hasAttribute('required')) {\n          this.$element.on('invalid' + EVENT_KEY, function () {\n            that.$button[0].classList.add('bs-invalid');\n            that.$element.on('shown' + EVENT_KEY + '.invalid', function () {\n              that.$element.val(that.$element.val()) // set the value to hide the validation message in Chrome when menu is opened\n              .off('shown' + EVENT_KEY + '.invalid');\n            }).on('rendered' + EVENT_KEY, function () {\n              // if select is no longer invalid, remove the bs-invalid class\n              if (this.validity.valid) that.$button[0].classList.remove('bs-invalid');\n              that.$element.off('rendered' + EVENT_KEY);\n            });\n            that.$button.on('blur' + EVENT_KEY, function () {\n              that.$element.trigger('focus').trigger('blur');\n              that.$button.off('blur' + EVENT_KEY);\n            });\n          });\n        }\n        setTimeout(function () {\n          that.buildList();\n          that.$element.trigger('loaded' + EVENT_KEY);\n        });\n      },\n      createDropdown: function createDropdown() {\n        // Options\n        // If we are multiple or showTick option is set, then add the show-tick class\n        var showTick = this.multiple || this.options.showTick ? ' show-tick' : '',\n          multiselectable = this.multiple ? ' aria-multiselectable=\"true\"' : '',\n          inputGroup = '',\n          autofocus = this.autofocus ? ' autofocus' : '';\n        if (version.major < 4 && this.$element.parent().hasClass('input-group')) {\n          inputGroup = ' input-group-btn';\n        }\n\n        // Elements\n        var drop,\n          header = '',\n          searchbox = '',\n          actionsbox = '',\n          donebutton = '';\n        if (this.options.header) {\n          header = '<div class=\"' + classNames.POPOVERHEADER + '\">' + '<button type=\"button\" class=\"close\" aria-hidden=\"true\">&times;</button>' + this.options.header + '</div>';\n        }\n        if (this.options.liveSearch) {\n          searchbox = '<div class=\"bs-searchbox\">' + '<input type=\"search\" class=\"form-control\" autocomplete=\"off\"' + (this.options.liveSearchPlaceholder === null ? '' : ' placeholder=\"' + htmlEscape(this.options.liveSearchPlaceholder) + '\"') + ' role=\"combobox\" aria-label=\"Search\" aria-controls=\"' + this.selectId + '\" aria-autocomplete=\"list\">' + '</div>';\n        }\n        if (this.multiple && this.options.actionsBox) {\n          actionsbox = '<div class=\"bs-actionsbox\">' + '<div class=\"btn-group btn-group-sm btn-block\">' + '<button type=\"button\" class=\"actions-btn bs-select-all btn ' + classNames.BUTTONCLASS + '\">' + this.options.selectAllText + '</button>' + '<button type=\"button\" class=\"actions-btn bs-deselect-all btn ' + classNames.BUTTONCLASS + '\">' + this.options.deselectAllText + '</button>' + '</div>' + '</div>';\n        }\n        if (this.multiple && this.options.doneButton) {\n          donebutton = '<div class=\"bs-donebutton\">' + '<div class=\"btn-group btn-block\">' + '<button type=\"button\" class=\"btn btn-sm ' + classNames.BUTTONCLASS + '\">' + this.options.doneButtonText + '</button>' + '</div>' + '</div>';\n        }\n        drop = '<div class=\"dropdown bootstrap-select' + showTick + inputGroup + '\">' + '<button type=\"button\" tabindex=\"-1\" class=\"' + this.options.styleBase + ' dropdown-toggle\" ' + (this.options.display === 'static' ? 'data-display=\"static\"' : '') + 'data-toggle=\"dropdown\"' + autofocus + ' role=\"combobox\" aria-owns=\"' + this.selectId + '\" aria-haspopup=\"listbox\" aria-expanded=\"false\">' + '<div class=\"filter-option\">' + '<div class=\"filter-option-inner\">' + '<div class=\"filter-option-inner-inner\"></div>' + '</div> ' + '</div>' + (version.major === '4' ? '' : '<span class=\"bs-caret\">' + this.options.template.caret + '</span>') + '</button>' + '<div class=\"' + classNames.MENU + ' ' + (version.major === '4' ? '' : classNames.SHOW) + '\">' + header + searchbox + actionsbox + '<div class=\"inner ' + classNames.SHOW + '\" role=\"listbox\" id=\"' + this.selectId + '\" tabindex=\"-1\" ' + multiselectable + '>' + '<ul class=\"' + classNames.MENU + ' inner ' + (version.major === '4' ? classNames.SHOW : '') + '\" role=\"presentation\">' + '</ul>' + '</div>' + donebutton + '</div>' + '</div>';\n        return $(drop);\n      },\n      setPositionData: function setPositionData() {\n        this.selectpicker.view.canHighlight = [];\n        this.selectpicker.view.size = 0;\n        this.selectpicker.view.firstHighlightIndex = false;\n        for (var i = 0; i < this.selectpicker.current.data.length; i++) {\n          var li = this.selectpicker.current.data[i],\n            canHighlight = true;\n          if (li.type === 'divider') {\n            canHighlight = false;\n            li.height = this.sizeInfo.dividerHeight;\n          } else if (li.type === 'optgroup-label') {\n            canHighlight = false;\n            li.height = this.sizeInfo.dropdownHeaderHeight;\n          } else {\n            li.height = this.sizeInfo.liHeight;\n          }\n          if (li.disabled) canHighlight = false;\n          this.selectpicker.view.canHighlight.push(canHighlight);\n          if (canHighlight) {\n            this.selectpicker.view.size++;\n            li.posinset = this.selectpicker.view.size;\n            if (this.selectpicker.view.firstHighlightIndex === false) this.selectpicker.view.firstHighlightIndex = i;\n          }\n          li.position = (i === 0 ? 0 : this.selectpicker.current.data[i - 1].position) + li.height;\n        }\n      },\n      isVirtual: function isVirtual() {\n        return this.options.virtualScroll !== false && this.selectpicker.main.elements.length >= this.options.virtualScroll || this.options.virtualScroll === true;\n      },\n      createView: function createView(isSearching, setSize, refresh) {\n        var that = this,\n          scrollTop = 0,\n          active = [],\n          selected,\n          prevActive;\n        this.selectpicker.isSearching = isSearching;\n        this.selectpicker.current = isSearching ? this.selectpicker.search : this.selectpicker.main;\n        this.setPositionData();\n        if (setSize) {\n          if (refresh) {\n            scrollTop = this.$menuInner[0].scrollTop;\n          } else if (!that.multiple) {\n            var element = that.$element[0],\n              selectedIndex = (element.options[element.selectedIndex] || {}).liIndex;\n            if (typeof selectedIndex === 'number' && that.options.size !== false) {\n              var selectedData = that.selectpicker.main.data[selectedIndex],\n                position = selectedData && selectedData.position;\n              if (position) {\n                scrollTop = position - (that.sizeInfo.menuInnerHeight + that.sizeInfo.liHeight) / 2;\n              }\n            }\n          }\n        }\n        scroll(scrollTop, true);\n        this.$menuInner.off('scroll.createView').on('scroll.createView', function (e, updateValue) {\n          if (!that.noScroll) scroll(this.scrollTop, updateValue);\n          that.noScroll = false;\n        });\n        function scroll(scrollTop, init) {\n          var size = that.selectpicker.current.elements.length,\n            chunks = [],\n            chunkSize,\n            chunkCount,\n            firstChunk,\n            lastChunk,\n            currentChunk,\n            prevPositions,\n            positionIsDifferent,\n            previousElements,\n            menuIsDifferent = true,\n            isVirtual = that.isVirtual();\n          that.selectpicker.view.scrollTop = scrollTop;\n          chunkSize = Math.ceil(that.sizeInfo.menuInnerHeight / that.sizeInfo.liHeight * 1.5); // number of options in a chunk\n          chunkCount = Math.round(size / chunkSize) || 1; // number of chunks\n\n          for (var i = 0; i < chunkCount; i++) {\n            var endOfChunk = (i + 1) * chunkSize;\n            if (i === chunkCount - 1) {\n              endOfChunk = size;\n            }\n            chunks[i] = [i * chunkSize + (!i ? 0 : 1), endOfChunk];\n            if (!size) break;\n            if (currentChunk === undefined && scrollTop - 1 <= that.selectpicker.current.data[endOfChunk - 1].position - that.sizeInfo.menuInnerHeight) {\n              currentChunk = i;\n            }\n          }\n          if (currentChunk === undefined) currentChunk = 0;\n          prevPositions = [that.selectpicker.view.position0, that.selectpicker.view.position1];\n\n          // always display previous, current, and next chunks\n          firstChunk = Math.max(0, currentChunk - 1);\n          lastChunk = Math.min(chunkCount - 1, currentChunk + 1);\n          that.selectpicker.view.position0 = isVirtual === false ? 0 : Math.max(0, chunks[firstChunk][0]) || 0;\n          that.selectpicker.view.position1 = isVirtual === false ? size : Math.min(size, chunks[lastChunk][1]) || 0;\n          positionIsDifferent = prevPositions[0] !== that.selectpicker.view.position0 || prevPositions[1] !== that.selectpicker.view.position1;\n          if (that.activeIndex !== undefined) {\n            prevActive = that.selectpicker.main.elements[that.prevActiveIndex];\n            active = that.selectpicker.main.elements[that.activeIndex];\n            selected = that.selectpicker.main.elements[that.selectedIndex];\n            if (init) {\n              if (that.activeIndex !== that.selectedIndex) {\n                that.defocusItem(active);\n              }\n              that.activeIndex = undefined;\n            }\n            if (that.activeIndex && that.activeIndex !== that.selectedIndex) {\n              that.defocusItem(selected);\n            }\n          }\n          if (that.prevActiveIndex !== undefined && that.prevActiveIndex !== that.activeIndex && that.prevActiveIndex !== that.selectedIndex) {\n            that.defocusItem(prevActive);\n          }\n          if (init || positionIsDifferent) {\n            previousElements = that.selectpicker.view.visibleElements ? that.selectpicker.view.visibleElements.slice() : [];\n            if (isVirtual === false) {\n              that.selectpicker.view.visibleElements = that.selectpicker.current.elements;\n            } else {\n              that.selectpicker.view.visibleElements = that.selectpicker.current.elements.slice(that.selectpicker.view.position0, that.selectpicker.view.position1);\n            }\n            that.setOptionStatus();\n\n            // if searching, check to make sure the list has actually been updated before updating DOM\n            // this prevents unnecessary repaints\n            if (isSearching || isVirtual === false && init) menuIsDifferent = !isEqual(previousElements, that.selectpicker.view.visibleElements);\n\n            // if virtual scroll is disabled and not searching,\n            // menu should never need to be updated more than once\n            if ((init || isVirtual === true) && menuIsDifferent) {\n              var menuInner = that.$menuInner[0],\n                menuFragment = document.createDocumentFragment(),\n                emptyMenu = menuInner.firstChild.cloneNode(false),\n                marginTop,\n                marginBottom,\n                elements = that.selectpicker.view.visibleElements,\n                toSanitize = [];\n\n              // replace the existing UL with an empty one - this is faster than $.empty()\n              menuInner.replaceChild(emptyMenu, menuInner.firstChild);\n              for (var i = 0, visibleElementsLen = elements.length; i < visibleElementsLen; i++) {\n                var element = elements[i],\n                  elText,\n                  elementData;\n                if (that.options.sanitize) {\n                  elText = element.lastChild;\n                  if (elText) {\n                    elementData = that.selectpicker.current.data[i + that.selectpicker.view.position0];\n                    if (elementData && elementData.content && !elementData.sanitized) {\n                      toSanitize.push(elText);\n                      elementData.sanitized = true;\n                    }\n                  }\n                }\n                menuFragment.appendChild(element);\n              }\n              if (that.options.sanitize && toSanitize.length) {\n                sanitizeHtml(toSanitize, that.options.whiteList, that.options.sanitizeFn);\n              }\n              if (isVirtual === true) {\n                marginTop = that.selectpicker.view.position0 === 0 ? 0 : that.selectpicker.current.data[that.selectpicker.view.position0 - 1].position;\n                marginBottom = that.selectpicker.view.position1 > size - 1 ? 0 : that.selectpicker.current.data[size - 1].position - that.selectpicker.current.data[that.selectpicker.view.position1 - 1].position;\n                menuInner.firstChild.style.marginTop = marginTop + 'px';\n                menuInner.firstChild.style.marginBottom = marginBottom + 'px';\n              } else {\n                menuInner.firstChild.style.marginTop = 0;\n                menuInner.firstChild.style.marginBottom = 0;\n              }\n              menuInner.firstChild.appendChild(menuFragment);\n\n              // if an option is encountered that is wider than the current menu width, update the menu width accordingly\n              // switch to ResizeObserver with increased browser support\n              if (isVirtual === true && that.sizeInfo.hasScrollBar) {\n                var menuInnerInnerWidth = menuInner.firstChild.offsetWidth;\n                if (init && menuInnerInnerWidth < that.sizeInfo.menuInnerInnerWidth && that.sizeInfo.totalMenuWidth > that.sizeInfo.selectWidth) {\n                  menuInner.firstChild.style.minWidth = that.sizeInfo.menuInnerInnerWidth + 'px';\n                } else if (menuInnerInnerWidth > that.sizeInfo.menuInnerInnerWidth) {\n                  // set to 0 to get actual width of menu\n                  that.$menu[0].style.minWidth = 0;\n                  var actualMenuWidth = menuInner.firstChild.offsetWidth;\n                  if (actualMenuWidth > that.sizeInfo.menuInnerInnerWidth) {\n                    that.sizeInfo.menuInnerInnerWidth = actualMenuWidth;\n                    menuInner.firstChild.style.minWidth = that.sizeInfo.menuInnerInnerWidth + 'px';\n                  }\n\n                  // reset to default CSS styling\n                  that.$menu[0].style.minWidth = '';\n                }\n              }\n            }\n          }\n          that.prevActiveIndex = that.activeIndex;\n          if (!that.options.liveSearch) {\n            that.$menuInner.trigger('focus');\n          } else if (isSearching && init) {\n            var index = 0,\n              newActive;\n            if (!that.selectpicker.view.canHighlight[index]) {\n              index = 1 + that.selectpicker.view.canHighlight.slice(1).indexOf(true);\n            }\n            newActive = that.selectpicker.view.visibleElements[index];\n            that.defocusItem(that.selectpicker.view.currentActive);\n            that.activeIndex = (that.selectpicker.current.data[index] || {}).index;\n            that.focusItem(newActive);\n          }\n        }\n        $(window).off('resize' + EVENT_KEY + '.' + this.selectId + '.createView').on('resize' + EVENT_KEY + '.' + this.selectId + '.createView', function () {\n          var isActive = that.$newElement.hasClass(classNames.SHOW);\n          if (isActive) scroll(that.$menuInner[0].scrollTop);\n        });\n      },\n      focusItem: function focusItem(li, liData, noStyle) {\n        if (li) {\n          liData = liData || this.selectpicker.main.data[this.activeIndex];\n          var a = li.firstChild;\n          if (a) {\n            a.setAttribute('aria-setsize', this.selectpicker.view.size);\n            a.setAttribute('aria-posinset', liData.posinset);\n            if (noStyle !== true) {\n              this.focusedParent.setAttribute('aria-activedescendant', a.id);\n              li.classList.add('active');\n              a.classList.add('active');\n            }\n          }\n        }\n      },\n      defocusItem: function defocusItem(li) {\n        if (li) {\n          li.classList.remove('active');\n          if (li.firstChild) li.firstChild.classList.remove('active');\n        }\n      },\n      setPlaceholder: function setPlaceholder() {\n        var that = this,\n          updateIndex = false;\n        if (this.options.title && !this.multiple) {\n          if (!this.selectpicker.view.titleOption) this.selectpicker.view.titleOption = document.createElement('option');\n\n          // this option doesn't create a new <li> element, but does add a new option at the start,\n          // so startIndex should increase to prevent having to check every option for the bs-title-option class\n          updateIndex = true;\n          var element = this.$element[0],\n            selectTitleOption = false,\n            titleNotAppended = !this.selectpicker.view.titleOption.parentNode,\n            selectedIndex = element.selectedIndex,\n            selectedOption = element.options[selectedIndex],\n            navigation = window.performance && window.performance.getEntriesByType('navigation'),\n            // Safari doesn't support getEntriesByType('navigation') - fall back to performance.navigation\n            isNotBackForward = navigation && navigation.length ? navigation[0].type !== 'back_forward' : window.performance.navigation.type !== 2;\n          if (titleNotAppended) {\n            // Use native JS to prepend option (faster)\n            this.selectpicker.view.titleOption.className = 'bs-title-option';\n            this.selectpicker.view.titleOption.value = '';\n\n            // Check if selected or data-selected attribute is already set on an option. If not, select the titleOption option.\n            // the selected item may have been changed by user or programmatically before the bootstrap select plugin runs,\n            // if so, the select will have the data-selected attribute\n            selectTitleOption = !selectedOption || selectedIndex === 0 && selectedOption.defaultSelected === false && this.$element.data('selected') === undefined;\n          }\n          if (titleNotAppended || this.selectpicker.view.titleOption.index !== 0) {\n            element.insertBefore(this.selectpicker.view.titleOption, element.firstChild);\n          }\n\n          // Set selected *after* appending to select,\n          // otherwise the option doesn't get selected in IE\n          // set using selectedIndex, as setting the selected attr to true here doesn't work in IE11\n          if (selectTitleOption && isNotBackForward) {\n            element.selectedIndex = 0;\n          } else if (document.readyState !== 'complete') {\n            // if navigation type is back_forward, there's a chance the select will have its value set by BFCache\n            // wait for that value to be set, then run render again\n            window.addEventListener('pageshow', function () {\n              if (that.selectpicker.view.displayedValue !== element.value) that.render();\n            });\n          }\n        }\n        return updateIndex;\n      },\n      buildData: function buildData() {\n        var optionSelector = ':not([hidden]):not([data-hidden=\"true\"])',\n          mainData = [],\n          optID = 0,\n          startIndex = this.setPlaceholder() ? 1 : 0; // append the titleOption if necessary and skip the first option in the loop\n\n        if (this.options.hideDisabled) optionSelector += ':not(:disabled)';\n        var selectOptions = this.$element[0].querySelectorAll('select > *' + optionSelector);\n        function addDivider(config) {\n          var previousData = mainData[mainData.length - 1];\n\n          // ensure optgroup doesn't create back-to-back dividers\n          if (previousData && previousData.type === 'divider' && (previousData.optID || config.optID)) {\n            return;\n          }\n          config = config || {};\n          config.type = 'divider';\n          mainData.push(config);\n        }\n        function addOption(option, config) {\n          config = config || {};\n          config.divider = option.getAttribute('data-divider') === 'true';\n          if (config.divider) {\n            addDivider({\n              optID: config.optID\n            });\n          } else {\n            var liIndex = mainData.length,\n              cssText = option.style.cssText,\n              inlineStyle = cssText ? htmlEscape(cssText) : '',\n              optionClass = (option.className || '') + (config.optgroupClass || '');\n            if (config.optID) optionClass = 'opt ' + optionClass;\n            config.optionClass = optionClass.trim();\n            config.inlineStyle = inlineStyle;\n            config.text = option.textContent;\n            config.content = option.getAttribute('data-content');\n            config.tokens = option.getAttribute('data-tokens');\n            config.subtext = option.getAttribute('data-subtext');\n            config.icon = option.getAttribute('data-icon');\n            option.liIndex = liIndex;\n            config.display = config.content || config.text;\n            config.type = 'option';\n            config.index = liIndex;\n            config.option = option;\n            config.selected = !!option.selected;\n            config.disabled = config.disabled || !!option.disabled;\n            mainData.push(config);\n          }\n        }\n        function addOptgroup(index, selectOptions) {\n          var optgroup = selectOptions[index],\n            // skip placeholder option\n            previous = index - 1 < startIndex ? false : selectOptions[index - 1],\n            next = selectOptions[index + 1],\n            options = optgroup.querySelectorAll('option' + optionSelector);\n          if (!options.length) return;\n          var config = {\n              display: htmlEscape(optgroup.label),\n              subtext: optgroup.getAttribute('data-subtext'),\n              icon: optgroup.getAttribute('data-icon'),\n              type: 'optgroup-label',\n              optgroupClass: ' ' + (optgroup.className || '')\n            },\n            headerIndex,\n            lastIndex;\n          optID++;\n          if (previous) {\n            addDivider({\n              optID: optID\n            });\n          }\n          config.optID = optID;\n          mainData.push(config);\n          for (var j = 0, len = options.length; j < len; j++) {\n            var option = options[j];\n            if (j === 0) {\n              headerIndex = mainData.length - 1;\n              lastIndex = headerIndex + len;\n            }\n            addOption(option, {\n              headerIndex: headerIndex,\n              lastIndex: lastIndex,\n              optID: config.optID,\n              optgroupClass: config.optgroupClass,\n              disabled: optgroup.disabled\n            });\n          }\n          if (next) {\n            addDivider({\n              optID: optID\n            });\n          }\n        }\n        for (var len = selectOptions.length, i = startIndex; i < len; i++) {\n          var item = selectOptions[i];\n          if (item.tagName !== 'OPTGROUP') {\n            addOption(item, {});\n          } else {\n            addOptgroup(i, selectOptions);\n          }\n        }\n        this.selectpicker.main.data = this.selectpicker.current.data = mainData;\n      },\n      buildList: function buildList() {\n        var that = this,\n          selectData = this.selectpicker.main.data,\n          mainElements = [],\n          widestOptionLength = 0;\n        if ((that.options.showTick || that.multiple) && !elementTemplates.checkMark.parentNode) {\n          elementTemplates.checkMark.className = this.options.iconBase + ' ' + that.options.tickIcon + ' check-mark';\n          elementTemplates.a.appendChild(elementTemplates.checkMark);\n        }\n        function buildElement(item) {\n          var liElement,\n            combinedLength = 0;\n          switch (item.type) {\n            case 'divider':\n              liElement = generateOption.li(false, classNames.DIVIDER, item.optID ? item.optID + 'div' : undefined);\n              break;\n            case 'option':\n              liElement = generateOption.li(generateOption.a(generateOption.text.call(that, item), item.optionClass, item.inlineStyle), '', item.optID);\n              if (liElement.firstChild) {\n                liElement.firstChild.id = that.selectId + '-' + item.index;\n              }\n              break;\n            case 'optgroup-label':\n              liElement = generateOption.li(generateOption.label.call(that, item), 'dropdown-header' + item.optgroupClass, item.optID);\n              break;\n          }\n          item.element = liElement;\n          mainElements.push(liElement);\n\n          // count the number of characters in the option - not perfect, but should work in most cases\n          if (item.display) combinedLength += item.display.length;\n          if (item.subtext) combinedLength += item.subtext.length;\n          // if there is an icon, ensure this option's width is checked\n          if (item.icon) combinedLength += 1;\n          if (combinedLength > widestOptionLength) {\n            widestOptionLength = combinedLength;\n\n            // guess which option is the widest\n            // use this when calculating menu width\n            // not perfect, but it's fast, and the width will be updating accordingly when scrolling\n            that.selectpicker.view.widestOption = mainElements[mainElements.length - 1];\n          }\n        }\n        for (var len = selectData.length, i = 0; i < len; i++) {\n          var item = selectData[i];\n          buildElement(item);\n        }\n        this.selectpicker.main.elements = this.selectpicker.current.elements = mainElements;\n      },\n      findLis: function findLis() {\n        return this.$menuInner.find('.inner > li');\n      },\n      render: function render() {\n        var that = this,\n          element = this.$element[0],\n          // ensure titleOption is appended and selected (if necessary) before getting selectedOptions\n          placeholderSelected = this.setPlaceholder() && element.selectedIndex === 0,\n          selectedOptions = getSelectedOptions(element, this.options.hideDisabled),\n          selectedCount = selectedOptions.length,\n          button = this.$button[0],\n          buttonInner = button.querySelector('.filter-option-inner-inner'),\n          multipleSeparator = document.createTextNode(this.options.multipleSeparator),\n          titleFragment = elementTemplates.fragment.cloneNode(false),\n          showCount,\n          countMax,\n          hasContent = false;\n        button.classList.toggle('bs-placeholder', that.multiple ? !selectedCount : !getSelectValues(element, selectedOptions));\n        if (!that.multiple && selectedOptions.length === 1) {\n          that.selectpicker.view.displayedValue = getSelectValues(element, selectedOptions);\n        }\n        if (this.options.selectedTextFormat === 'static') {\n          titleFragment = generateOption.text.call(this, {\n            text: this.options.title\n          }, true);\n        } else {\n          showCount = this.multiple && this.options.selectedTextFormat.indexOf('count') !== -1 && selectedCount > 1;\n\n          // determine if the number of selected options will be shown (showCount === true)\n          if (showCount) {\n            countMax = this.options.selectedTextFormat.split('>');\n            showCount = countMax.length > 1 && selectedCount > countMax[1] || countMax.length === 1 && selectedCount >= 2;\n          }\n\n          // only loop through all selected options if the count won't be shown\n          if (showCount === false) {\n            if (!placeholderSelected) {\n              for (var selectedIndex = 0; selectedIndex < selectedCount; selectedIndex++) {\n                if (selectedIndex < 50) {\n                  var option = selectedOptions[selectedIndex],\n                    thisData = this.selectpicker.main.data[option.liIndex],\n                    titleOptions = {};\n                  if (this.multiple && selectedIndex > 0) {\n                    titleFragment.appendChild(multipleSeparator.cloneNode(false));\n                  }\n                  if (option.title) {\n                    titleOptions.text = option.title;\n                  } else if (thisData) {\n                    if (thisData.content && that.options.showContent) {\n                      titleOptions.content = thisData.content.toString();\n                      hasContent = true;\n                    } else {\n                      if (that.options.showIcon) {\n                        titleOptions.icon = thisData.icon;\n                      }\n                      if (that.options.showSubtext && !that.multiple && thisData.subtext) titleOptions.subtext = ' ' + thisData.subtext;\n                      titleOptions.text = option.textContent.trim();\n                    }\n                  }\n                  titleFragment.appendChild(generateOption.text.call(this, titleOptions, true));\n                } else {\n                  break;\n                }\n              }\n\n              // add ellipsis\n              if (selectedCount > 49) {\n                titleFragment.appendChild(document.createTextNode('...'));\n              }\n            }\n          } else {\n            var optionSelector = ':not([hidden]):not([data-hidden=\"true\"]):not([data-divider=\"true\"])';\n            if (this.options.hideDisabled) optionSelector += ':not(:disabled)';\n\n            // If this is a multiselect, and selectedTextFormat is count, then show 1 of 2 selected, etc.\n            var totalCount = this.$element[0].querySelectorAll('select > option' + optionSelector + ', optgroup' + optionSelector + ' option' + optionSelector).length,\n              tr8nText = typeof this.options.countSelectedText === 'function' ? this.options.countSelectedText(selectedCount, totalCount) : this.options.countSelectedText;\n            titleFragment = generateOption.text.call(this, {\n              text: tr8nText.replace('{0}', selectedCount.toString()).replace('{1}', totalCount.toString())\n            }, true);\n          }\n        }\n        if (this.options.title == undefined) {\n          // use .attr to ensure undefined is returned if title attribute is not set\n          this.options.title = this.$element.attr('title');\n        }\n\n        // If the select doesn't have a title, then use the default, or if nothing is set at all, use noneSelectedText\n        if (!titleFragment.childNodes.length) {\n          titleFragment = generateOption.text.call(this, {\n            text: typeof this.options.title !== 'undefined' ? this.options.title : this.options.noneSelectedText\n          }, true);\n        }\n\n        // strip all HTML tags and trim the result, then unescape any escaped tags\n        button.title = titleFragment.textContent.replace(/<[^>]*>?/g, '').trim();\n        if (this.options.sanitize && hasContent) {\n          sanitizeHtml([titleFragment], that.options.whiteList, that.options.sanitizeFn);\n        }\n        buttonInner.innerHTML = '';\n        buttonInner.appendChild(titleFragment);\n        if (version.major < 4 && this.$newElement[0].classList.contains('bs3-has-addon')) {\n          var filterExpand = button.querySelector('.filter-expand'),\n            clone = buttonInner.cloneNode(true);\n          clone.className = 'filter-expand';\n          if (filterExpand) {\n            button.replaceChild(clone, filterExpand);\n          } else {\n            button.appendChild(clone);\n          }\n        }\n        this.$element.trigger('rendered' + EVENT_KEY);\n      },\n      /**\r\n       * @param [style]\r\n       * @param [status]\r\n       */\n      setStyle: function setStyle(newStyle, status) {\n        var button = this.$button[0],\n          newElement = this.$newElement[0],\n          style = this.options.style.trim(),\n          buttonClass;\n        if (this.$element.attr('class')) {\n          this.$newElement.addClass(this.$element.attr('class').replace(/selectpicker|mobile-device|bs-select-hidden|validate\\[.*\\]/gi, ''));\n        }\n        if (version.major < 4) {\n          newElement.classList.add('bs3');\n          if (newElement.parentNode.classList && newElement.parentNode.classList.contains('input-group') && (newElement.previousElementSibling || newElement.nextElementSibling) && (newElement.previousElementSibling || newElement.nextElementSibling).classList.contains('input-group-addon')) {\n            newElement.classList.add('bs3-has-addon');\n          }\n        }\n        if (newStyle) {\n          buttonClass = newStyle.trim();\n        } else {\n          buttonClass = style;\n        }\n        if (status == 'add') {\n          if (buttonClass) button.classList.add.apply(button.classList, buttonClass.split(' '));\n        } else if (status == 'remove') {\n          if (buttonClass) button.classList.remove.apply(button.classList, buttonClass.split(' '));\n        } else {\n          if (style) button.classList.remove.apply(button.classList, style.split(' '));\n          if (buttonClass) button.classList.add.apply(button.classList, buttonClass.split(' '));\n        }\n      },\n      liHeight: function liHeight(refresh) {\n        if (!refresh && (this.options.size === false || Object.keys(this.sizeInfo).length)) return;\n        var newElement = elementTemplates.div.cloneNode(false),\n          menu = elementTemplates.div.cloneNode(false),\n          menuInner = elementTemplates.div.cloneNode(false),\n          menuInnerInner = document.createElement('ul'),\n          divider = elementTemplates.li.cloneNode(false),\n          dropdownHeader = elementTemplates.li.cloneNode(false),\n          li,\n          a = elementTemplates.a.cloneNode(false),\n          text = elementTemplates.span.cloneNode(false),\n          header = this.options.header && this.$menu.find('.' + classNames.POPOVERHEADER).length > 0 ? this.$menu.find('.' + classNames.POPOVERHEADER)[0].cloneNode(true) : null,\n          search = this.options.liveSearch ? elementTemplates.div.cloneNode(false) : null,\n          actions = this.options.actionsBox && this.multiple && this.$menu.find('.bs-actionsbox').length > 0 ? this.$menu.find('.bs-actionsbox')[0].cloneNode(true) : null,\n          doneButton = this.options.doneButton && this.multiple && this.$menu.find('.bs-donebutton').length > 0 ? this.$menu.find('.bs-donebutton')[0].cloneNode(true) : null,\n          firstOption = this.$element.find('option')[0];\n        this.sizeInfo.selectWidth = this.$newElement[0].offsetWidth;\n        text.className = 'text';\n        a.className = 'dropdown-item ' + (firstOption ? firstOption.className : '');\n        newElement.className = this.$menu[0].parentNode.className + ' ' + classNames.SHOW;\n        newElement.style.width = 0; // ensure button width doesn't affect natural width of menu when calculating\n        if (this.options.width === 'auto') menu.style.minWidth = 0;\n        menu.className = classNames.MENU + ' ' + classNames.SHOW;\n        menuInner.className = 'inner ' + classNames.SHOW;\n        menuInnerInner.className = classNames.MENU + ' inner ' + (version.major === '4' ? classNames.SHOW : '');\n        divider.className = classNames.DIVIDER;\n        dropdownHeader.className = 'dropdown-header';\n        text.appendChild(document.createTextNode(\"\\u200B\"));\n        if (this.selectpicker.current.data.length) {\n          for (var i = 0; i < this.selectpicker.current.data.length; i++) {\n            var data = this.selectpicker.current.data[i];\n            if (data.type === 'option') {\n              li = data.element;\n              break;\n            }\n          }\n        } else {\n          li = elementTemplates.li.cloneNode(false);\n          a.appendChild(text);\n          li.appendChild(a);\n        }\n        dropdownHeader.appendChild(text.cloneNode(true));\n        if (this.selectpicker.view.widestOption) {\n          menuInnerInner.appendChild(this.selectpicker.view.widestOption.cloneNode(true));\n        }\n        menuInnerInner.appendChild(li);\n        menuInnerInner.appendChild(divider);\n        menuInnerInner.appendChild(dropdownHeader);\n        if (header) menu.appendChild(header);\n        if (search) {\n          var input = document.createElement('input');\n          search.className = 'bs-searchbox';\n          input.className = 'form-control';\n          search.appendChild(input);\n          menu.appendChild(search);\n        }\n        if (actions) menu.appendChild(actions);\n        menuInner.appendChild(menuInnerInner);\n        menu.appendChild(menuInner);\n        if (doneButton) menu.appendChild(doneButton);\n        newElement.appendChild(menu);\n        document.body.appendChild(newElement);\n        var liHeight = li.offsetHeight,\n          dropdownHeaderHeight = dropdownHeader ? dropdownHeader.offsetHeight : 0,\n          headerHeight = header ? header.offsetHeight : 0,\n          searchHeight = search ? search.offsetHeight : 0,\n          actionsHeight = actions ? actions.offsetHeight : 0,\n          doneButtonHeight = doneButton ? doneButton.offsetHeight : 0,\n          dividerHeight = $(divider).outerHeight(true),\n          // fall back to jQuery if getComputedStyle is not supported\n          menuStyle = window.getComputedStyle ? window.getComputedStyle(menu) : false,\n          menuWidth = menu.offsetWidth,\n          $menu = menuStyle ? null : $(menu),\n          menuPadding = {\n            vert: toInteger(menuStyle ? menuStyle.paddingTop : $menu.css('paddingTop')) + toInteger(menuStyle ? menuStyle.paddingBottom : $menu.css('paddingBottom')) + toInteger(menuStyle ? menuStyle.borderTopWidth : $menu.css('borderTopWidth')) + toInteger(menuStyle ? menuStyle.borderBottomWidth : $menu.css('borderBottomWidth')),\n            horiz: toInteger(menuStyle ? menuStyle.paddingLeft : $menu.css('paddingLeft')) + toInteger(menuStyle ? menuStyle.paddingRight : $menu.css('paddingRight')) + toInteger(menuStyle ? menuStyle.borderLeftWidth : $menu.css('borderLeftWidth')) + toInteger(menuStyle ? menuStyle.borderRightWidth : $menu.css('borderRightWidth'))\n          },\n          menuExtras = {\n            vert: menuPadding.vert + toInteger(menuStyle ? menuStyle.marginTop : $menu.css('marginTop')) + toInteger(menuStyle ? menuStyle.marginBottom : $menu.css('marginBottom')) + 2,\n            horiz: menuPadding.horiz + toInteger(menuStyle ? menuStyle.marginLeft : $menu.css('marginLeft')) + toInteger(menuStyle ? menuStyle.marginRight : $menu.css('marginRight')) + 2\n          },\n          scrollBarWidth;\n        menuInner.style.overflowY = 'scroll';\n        scrollBarWidth = menu.offsetWidth - menuWidth;\n        document.body.removeChild(newElement);\n        this.sizeInfo.liHeight = liHeight;\n        this.sizeInfo.dropdownHeaderHeight = dropdownHeaderHeight;\n        this.sizeInfo.headerHeight = headerHeight;\n        this.sizeInfo.searchHeight = searchHeight;\n        this.sizeInfo.actionsHeight = actionsHeight;\n        this.sizeInfo.doneButtonHeight = doneButtonHeight;\n        this.sizeInfo.dividerHeight = dividerHeight;\n        this.sizeInfo.menuPadding = menuPadding;\n        this.sizeInfo.menuExtras = menuExtras;\n        this.sizeInfo.menuWidth = menuWidth;\n        this.sizeInfo.menuInnerInnerWidth = menuWidth - menuPadding.horiz;\n        this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth;\n        this.sizeInfo.scrollBarWidth = scrollBarWidth;\n        this.sizeInfo.selectHeight = this.$newElement[0].offsetHeight;\n        this.setPositionData();\n      },\n      getSelectPosition: function getSelectPosition() {\n        var that = this,\n          $window = $(window),\n          pos = that.$newElement.offset(),\n          $container = $(that.options.container),\n          containerPos;\n        if (that.options.container && $container.length && !$container.is('body')) {\n          containerPos = $container.offset();\n          containerPos.top += parseInt($container.css('borderTopWidth'));\n          containerPos.left += parseInt($container.css('borderLeftWidth'));\n        } else {\n          containerPos = {\n            top: 0,\n            left: 0\n          };\n        }\n        var winPad = that.options.windowPadding;\n        this.sizeInfo.selectOffsetTop = pos.top - containerPos.top - $window.scrollTop();\n        this.sizeInfo.selectOffsetBot = $window.height() - this.sizeInfo.selectOffsetTop - this.sizeInfo.selectHeight - containerPos.top - winPad[2];\n        this.sizeInfo.selectOffsetLeft = pos.left - containerPos.left - $window.scrollLeft();\n        this.sizeInfo.selectOffsetRight = $window.width() - this.sizeInfo.selectOffsetLeft - this.sizeInfo.selectWidth - containerPos.left - winPad[1];\n        this.sizeInfo.selectOffsetTop -= winPad[0];\n        this.sizeInfo.selectOffsetLeft -= winPad[3];\n      },\n      setMenuSize: function setMenuSize(isAuto) {\n        this.getSelectPosition();\n        var selectWidth = this.sizeInfo.selectWidth,\n          liHeight = this.sizeInfo.liHeight,\n          headerHeight = this.sizeInfo.headerHeight,\n          searchHeight = this.sizeInfo.searchHeight,\n          actionsHeight = this.sizeInfo.actionsHeight,\n          doneButtonHeight = this.sizeInfo.doneButtonHeight,\n          divHeight = this.sizeInfo.dividerHeight,\n          menuPadding = this.sizeInfo.menuPadding,\n          menuInnerHeight,\n          menuHeight,\n          divLength = 0,\n          minHeight,\n          _minHeight,\n          maxHeight,\n          menuInnerMinHeight,\n          estimate,\n          isDropup;\n        if (this.options.dropupAuto) {\n          // Get the estimated height of the menu without scrollbars.\n          // This is useful for smaller menus, where there might be plenty of room\n          // below the button without setting dropup, but we can't know\n          // the exact height of the menu until createView is called later\n          estimate = liHeight * this.selectpicker.current.elements.length + menuPadding.vert;\n          isDropup = this.sizeInfo.selectOffsetTop - this.sizeInfo.selectOffsetBot > this.sizeInfo.menuExtras.vert && estimate + this.sizeInfo.menuExtras.vert + 50 > this.sizeInfo.selectOffsetBot;\n\n          // ensure dropup doesn't change while searching (so menu doesn't bounce back and forth)\n          if (this.selectpicker.isSearching === true) {\n            isDropup = this.selectpicker.dropup;\n          }\n          this.$newElement.toggleClass(classNames.DROPUP, isDropup);\n          this.selectpicker.dropup = isDropup;\n        }\n        if (this.options.size === 'auto') {\n          _minHeight = this.selectpicker.current.elements.length > 3 ? this.sizeInfo.liHeight * 3 + this.sizeInfo.menuExtras.vert - 2 : 0;\n          menuHeight = this.sizeInfo.selectOffsetBot - this.sizeInfo.menuExtras.vert;\n          minHeight = _minHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight;\n          menuInnerMinHeight = Math.max(_minHeight - menuPadding.vert, 0);\n          if (this.$newElement.hasClass(classNames.DROPUP)) {\n            menuHeight = this.sizeInfo.selectOffsetTop - this.sizeInfo.menuExtras.vert;\n          }\n          maxHeight = menuHeight;\n          menuInnerHeight = menuHeight - headerHeight - searchHeight - actionsHeight - doneButtonHeight - menuPadding.vert;\n        } else if (this.options.size && this.options.size != 'auto' && this.selectpicker.current.elements.length > this.options.size) {\n          for (var i = 0; i < this.options.size; i++) {\n            if (this.selectpicker.current.data[i].type === 'divider') divLength++;\n          }\n          menuHeight = liHeight * this.options.size + divLength * divHeight + menuPadding.vert;\n          menuInnerHeight = menuHeight - menuPadding.vert;\n          maxHeight = menuHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight;\n          minHeight = menuInnerMinHeight = '';\n        }\n        this.$menu.css({\n          'max-height': maxHeight + 'px',\n          'overflow': 'hidden',\n          'min-height': minHeight + 'px'\n        });\n        this.$menuInner.css({\n          'max-height': menuInnerHeight + 'px',\n          'overflow-y': 'auto',\n          'min-height': menuInnerMinHeight + 'px'\n        });\n\n        // ensure menuInnerHeight is always a positive number to prevent issues calculating chunkSize in createView\n        this.sizeInfo.menuInnerHeight = Math.max(menuInnerHeight, 1);\n        if (this.selectpicker.current.data.length && this.selectpicker.current.data[this.selectpicker.current.data.length - 1].position > this.sizeInfo.menuInnerHeight) {\n          this.sizeInfo.hasScrollBar = true;\n          this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth + this.sizeInfo.scrollBarWidth;\n        }\n        if (this.options.dropdownAlignRight === 'auto') {\n          this.$menu.toggleClass(classNames.MENURIGHT, this.sizeInfo.selectOffsetLeft > this.sizeInfo.selectOffsetRight && this.sizeInfo.selectOffsetRight < this.sizeInfo.totalMenuWidth - selectWidth);\n        }\n        if (this.dropdown && this.dropdown._popper) this.dropdown._popper.update();\n      },\n      setSize: function setSize(refresh) {\n        this.liHeight(refresh);\n        if (this.options.header) this.$menu.css('padding-top', 0);\n        if (this.options.size !== false) {\n          var that = this,\n            $window = $(window);\n          this.setMenuSize();\n          if (this.options.liveSearch) {\n            this.$searchbox.off('input.setMenuSize propertychange.setMenuSize').on('input.setMenuSize propertychange.setMenuSize', function () {\n              return that.setMenuSize();\n            });\n          }\n          if (this.options.size === 'auto') {\n            $window.off('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize').on('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize', function () {\n              return that.setMenuSize();\n            });\n          } else if (this.options.size && this.options.size != 'auto' && this.selectpicker.current.elements.length > this.options.size) {\n            $window.off('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize');\n          }\n        }\n        this.createView(false, true, refresh);\n      },\n      setWidth: function setWidth() {\n        var that = this;\n        if (this.options.width === 'auto') {\n          requestAnimationFrame(function () {\n            that.$menu.css('min-width', '0');\n            that.$element.on('loaded' + EVENT_KEY, function () {\n              that.liHeight();\n              that.setMenuSize();\n\n              // Get correct width if element is hidden\n              var $selectClone = that.$newElement.clone().appendTo('body'),\n                btnWidth = $selectClone.css('width', 'auto').children('button').outerWidth();\n              $selectClone.remove();\n\n              // Set width to whatever's larger, button title or longest option\n              that.sizeInfo.selectWidth = Math.max(that.sizeInfo.totalMenuWidth, btnWidth);\n              that.$newElement.css('width', that.sizeInfo.selectWidth + 'px');\n            });\n          });\n        } else if (this.options.width === 'fit') {\n          // Remove inline min-width so width can be changed from 'auto'\n          this.$menu.css('min-width', '');\n          this.$newElement.css('width', '').addClass('fit-width');\n        } else if (this.options.width) {\n          // Remove inline min-width so width can be changed from 'auto'\n          this.$menu.css('min-width', '');\n          this.$newElement.css('width', this.options.width);\n        } else {\n          // Remove inline min-width/width so width can be changed\n          this.$menu.css('min-width', '');\n          this.$newElement.css('width', '');\n        }\n        // Remove fit-width class if width is changed programmatically\n        if (this.$newElement.hasClass('fit-width') && this.options.width !== 'fit') {\n          this.$newElement[0].classList.remove('fit-width');\n        }\n      },\n      selectPosition: function selectPosition() {\n        this.$bsContainer = $('<div class=\"bs-container\" />');\n        var that = this,\n          $container = $(this.options.container),\n          pos,\n          containerPos,\n          actualHeight,\n          getPlacement = function getPlacement($element) {\n            var containerPosition = {},\n              // fall back to dropdown's default display setting if display is not manually set\n              display = that.options.display || (\n              // Bootstrap 3 doesn't have $.fn.dropdown.Constructor.Default\n              $.fn.dropdown.Constructor.Default ? $.fn.dropdown.Constructor.Default.display : false);\n            that.$bsContainer.addClass($element.attr('class').replace(/form-control|fit-width/gi, '')).toggleClass(classNames.DROPUP, $element.hasClass(classNames.DROPUP));\n            pos = $element.offset();\n            if (!$container.is('body')) {\n              containerPos = $container.offset();\n              containerPos.top += parseInt($container.css('borderTopWidth')) - $container.scrollTop();\n              containerPos.left += parseInt($container.css('borderLeftWidth')) - $container.scrollLeft();\n            } else {\n              containerPos = {\n                top: 0,\n                left: 0\n              };\n            }\n            actualHeight = $element.hasClass(classNames.DROPUP) ? 0 : $element[0].offsetHeight;\n\n            // Bootstrap 4+ uses Popper for menu positioning\n            if (version.major < 4 || display === 'static') {\n              containerPosition.top = pos.top - containerPos.top + actualHeight;\n              containerPosition.left = pos.left - containerPos.left;\n            }\n            containerPosition.width = $element[0].offsetWidth;\n            that.$bsContainer.css(containerPosition);\n          };\n        this.$button.on('click.bs.dropdown.data-api', function () {\n          if (that.isDisabled()) {\n            return;\n          }\n          getPlacement(that.$newElement);\n          that.$bsContainer.appendTo(that.options.container).toggleClass(classNames.SHOW, !that.$button.hasClass(classNames.SHOW)).append(that.$menu);\n        });\n        $(window).off('resize' + EVENT_KEY + '.' + this.selectId + ' scroll' + EVENT_KEY + '.' + this.selectId).on('resize' + EVENT_KEY + '.' + this.selectId + ' scroll' + EVENT_KEY + '.' + this.selectId, function () {\n          var isActive = that.$newElement.hasClass(classNames.SHOW);\n          if (isActive) getPlacement(that.$newElement);\n        });\n        this.$element.on('hide' + EVENT_KEY, function () {\n          that.$menu.data('height', that.$menu.height());\n          that.$bsContainer.detach();\n        });\n      },\n      setOptionStatus: function setOptionStatus(selectedOnly) {\n        var that = this;\n        that.noScroll = false;\n        if (that.selectpicker.view.visibleElements && that.selectpicker.view.visibleElements.length) {\n          for (var i = 0; i < that.selectpicker.view.visibleElements.length; i++) {\n            var liData = that.selectpicker.current.data[i + that.selectpicker.view.position0],\n              option = liData.option;\n            if (option) {\n              if (selectedOnly !== true) {\n                that.setDisabled(liData.index, liData.disabled);\n              }\n              that.setSelected(liData.index, option.selected);\n            }\n          }\n        }\n      },\n      /**\r\n       * @param {number} index - the index of the option that is being changed\r\n       * @param {boolean} selected - true if the option is being selected, false if being deselected\r\n       */\n      setSelected: function setSelected(index, selected) {\n        var li = this.selectpicker.main.elements[index],\n          liData = this.selectpicker.main.data[index],\n          activeIndexIsSet = this.activeIndex !== undefined,\n          thisIsActive = this.activeIndex === index,\n          prevActive,\n          a,\n          // if current option is already active\n          // OR\n          // if the current option is being selected, it's NOT multiple, and\n          // activeIndex is undefined:\n          //  - when the menu is first being opened, OR\n          //  - after a search has been performed, OR\n          //  - when retainActive is false when selecting a new option (i.e. index of the newly selected option is not the same as the current activeIndex)\n          keepActive = thisIsActive || selected && !this.multiple && !activeIndexIsSet;\n        liData.selected = selected;\n        a = li.firstChild;\n        if (selected) {\n          this.selectedIndex = index;\n        }\n        li.classList.toggle('selected', selected);\n        if (keepActive) {\n          this.focusItem(li, liData);\n          this.selectpicker.view.currentActive = li;\n          this.activeIndex = index;\n        } else {\n          this.defocusItem(li);\n        }\n        if (a) {\n          a.classList.toggle('selected', selected);\n          if (selected) {\n            a.setAttribute('aria-selected', true);\n          } else {\n            if (this.multiple) {\n              a.setAttribute('aria-selected', false);\n            } else {\n              a.removeAttribute('aria-selected');\n            }\n          }\n        }\n        if (!keepActive && !activeIndexIsSet && selected && this.prevActiveIndex !== undefined) {\n          prevActive = this.selectpicker.main.elements[this.prevActiveIndex];\n          this.defocusItem(prevActive);\n        }\n      },\n      /**\r\n       * @param {number} index - the index of the option that is being disabled\r\n       * @param {boolean} disabled - true if the option is being disabled, false if being enabled\r\n       */\n      setDisabled: function setDisabled(index, disabled) {\n        var li = this.selectpicker.main.elements[index],\n          a;\n        this.selectpicker.main.data[index].disabled = disabled;\n        a = li.firstChild;\n        li.classList.toggle(classNames.DISABLED, disabled);\n        if (a) {\n          if (version.major === '4') a.classList.toggle(classNames.DISABLED, disabled);\n          if (disabled) {\n            a.setAttribute('aria-disabled', disabled);\n            a.setAttribute('tabindex', -1);\n          } else {\n            a.removeAttribute('aria-disabled');\n            a.setAttribute('tabindex', 0);\n          }\n        }\n      },\n      isDisabled: function isDisabled() {\n        return this.$element[0].disabled;\n      },\n      checkDisabled: function checkDisabled() {\n        if (this.isDisabled()) {\n          this.$newElement[0].classList.add(classNames.DISABLED);\n          this.$button.addClass(classNames.DISABLED).attr('aria-disabled', true);\n        } else {\n          if (this.$button[0].classList.contains(classNames.DISABLED)) {\n            this.$newElement[0].classList.remove(classNames.DISABLED);\n            this.$button.removeClass(classNames.DISABLED).attr('aria-disabled', false);\n          }\n        }\n      },\n      clickListener: function clickListener() {\n        var that = this,\n          $document = $(document);\n        $document.data('spaceSelect', false);\n        this.$button.on('keyup', function (e) {\n          if (/(32)/.test(e.keyCode.toString(10)) && $document.data('spaceSelect')) {\n            e.preventDefault();\n            $document.data('spaceSelect', false);\n          }\n        });\n        this.$newElement.on('show.bs.dropdown', function () {\n          if (version.major > 3 && !that.dropdown) {\n            that.dropdown = that.$button.data('bs.dropdown');\n            that.dropdown._menu = that.$menu[0];\n          }\n        });\n        this.$button.on('click.bs.dropdown.data-api', function () {\n          if (!that.$newElement.hasClass(classNames.SHOW)) {\n            that.setSize();\n          }\n        });\n        function setFocus() {\n          if (that.options.liveSearch) {\n            that.$searchbox.trigger('focus');\n          } else {\n            that.$menuInner.trigger('focus');\n          }\n        }\n        function checkPopperExists() {\n          if (that.dropdown && that.dropdown._popper && that.dropdown._popper.state.isCreated) {\n            setFocus();\n          } else {\n            requestAnimationFrame(checkPopperExists);\n          }\n        }\n        this.$element.on('shown' + EVENT_KEY, function () {\n          if (that.$menuInner[0].scrollTop !== that.selectpicker.view.scrollTop) {\n            that.$menuInner[0].scrollTop = that.selectpicker.view.scrollTop;\n          }\n          if (version.major > 3) {\n            requestAnimationFrame(checkPopperExists);\n          } else {\n            setFocus();\n          }\n        });\n\n        // ensure posinset and setsize are correct before selecting an option via a click\n        this.$menuInner.on('mouseenter', 'li a', function (e) {\n          var hoverLi = this.parentElement,\n            position0 = that.isVirtual() ? that.selectpicker.view.position0 : 0,\n            index = Array.prototype.indexOf.call(hoverLi.parentElement.children, hoverLi),\n            hoverData = that.selectpicker.current.data[index + position0];\n          that.focusItem(hoverLi, hoverData, true);\n        });\n        this.$menuInner.on('click', 'li a', function (e, retainActive) {\n          var $this = $(this),\n            element = that.$element[0],\n            position0 = that.isVirtual() ? that.selectpicker.view.position0 : 0,\n            clickedData = that.selectpicker.current.data[$this.parent().index() + position0],\n            clickedIndex = clickedData.index,\n            prevValue = getSelectValues(element),\n            prevIndex = element.selectedIndex,\n            prevOption = element.options[prevIndex],\n            triggerChange = true;\n\n          // Don't close on multi choice menu\n          if (that.multiple && that.options.maxOptions !== 1) {\n            e.stopPropagation();\n          }\n          e.preventDefault();\n\n          // Don't run if the select is disabled\n          if (!that.isDisabled() && !$this.parent().hasClass(classNames.DISABLED)) {\n            var option = clickedData.option,\n              $option = $(option),\n              state = option.selected,\n              $optgroup = $option.parent('optgroup'),\n              $optgroupOptions = $optgroup.find('option'),\n              maxOptions = that.options.maxOptions,\n              maxOptionsGrp = $optgroup.data('maxOptions') || false;\n            if (clickedIndex === that.activeIndex) retainActive = true;\n            if (!retainActive) {\n              that.prevActiveIndex = that.activeIndex;\n              that.activeIndex = undefined;\n            }\n            if (!that.multiple) {\n              // Deselect all others if not multi select box\n              if (prevOption) prevOption.selected = false;\n              option.selected = true;\n              that.setSelected(clickedIndex, true);\n            } else {\n              // Toggle the one we have chosen if we are multi select.\n              option.selected = !state;\n              that.setSelected(clickedIndex, !state);\n              that.focusedParent.focus();\n              if (maxOptions !== false || maxOptionsGrp !== false) {\n                var maxReached = maxOptions < getSelectedOptions(element).length,\n                  maxReachedGrp = maxOptionsGrp < $optgroup.find('option:selected').length;\n                if (maxOptions && maxReached || maxOptionsGrp && maxReachedGrp) {\n                  if (maxOptions && maxOptions == 1) {\n                    element.selectedIndex = -1;\n                    option.selected = true;\n                    that.setOptionStatus(true);\n                  } else if (maxOptionsGrp && maxOptionsGrp == 1) {\n                    for (var i = 0; i < $optgroupOptions.length; i++) {\n                      var _option = $optgroupOptions[i];\n                      _option.selected = false;\n                      that.setSelected(_option.liIndex, false);\n                    }\n                    option.selected = true;\n                    that.setSelected(clickedIndex, true);\n                  } else {\n                    var maxOptionsText = typeof that.options.maxOptionsText === 'string' ? [that.options.maxOptionsText, that.options.maxOptionsText] : that.options.maxOptionsText,\n                      maxOptionsArr = typeof maxOptionsText === 'function' ? maxOptionsText(maxOptions, maxOptionsGrp) : maxOptionsText,\n                      maxTxt = maxOptionsArr[0].replace('{n}', maxOptions),\n                      maxTxtGrp = maxOptionsArr[1].replace('{n}', maxOptionsGrp),\n                      $notify = $('<div class=\"notify\"></div>');\n                    // If {var} is set in array, replace it\n                    /** @deprecated */\n                    if (maxOptionsArr[2]) {\n                      maxTxt = maxTxt.replace('{var}', maxOptionsArr[2][maxOptions > 1 ? 0 : 1]);\n                      maxTxtGrp = maxTxtGrp.replace('{var}', maxOptionsArr[2][maxOptionsGrp > 1 ? 0 : 1]);\n                    }\n                    option.selected = false;\n                    that.$menu.append($notify);\n                    if (maxOptions && maxReached) {\n                      $notify.append($('<div>' + maxTxt + '</div>'));\n                      triggerChange = false;\n                      that.$element.trigger('maxReached' + EVENT_KEY);\n                    }\n                    if (maxOptionsGrp && maxReachedGrp) {\n                      $notify.append($('<div>' + maxTxtGrp + '</div>'));\n                      triggerChange = false;\n                      that.$element.trigger('maxReachedGrp' + EVENT_KEY);\n                    }\n                    setTimeout(function () {\n                      that.setSelected(clickedIndex, false);\n                    }, 10);\n                    $notify[0].classList.add('fadeOut');\n                    setTimeout(function () {\n                      $notify.remove();\n                    }, 1050);\n                  }\n                }\n              }\n            }\n            if (!that.multiple || that.multiple && that.options.maxOptions === 1) {\n              that.$button.trigger('focus');\n            } else if (that.options.liveSearch) {\n              that.$searchbox.trigger('focus');\n            }\n\n            // Trigger select 'change'\n            if (triggerChange) {\n              if (that.multiple || prevIndex !== element.selectedIndex) {\n                // $option.prop('selected') is current option state (selected/unselected). prevValue is the value of the select prior to being changed.\n                changedArguments = [option.index, $option.prop('selected'), prevValue];\n                that.$element.triggerNative('change');\n              }\n            }\n          }\n        });\n        this.$menu.on('click', 'li.' + classNames.DISABLED + ' a, .' + classNames.POPOVERHEADER + ', .' + classNames.POPOVERHEADER + ' :not(.close)', function (e) {\n          if (e.currentTarget == this) {\n            e.preventDefault();\n            e.stopPropagation();\n            if (that.options.liveSearch && !$(e.target).hasClass('close')) {\n              that.$searchbox.trigger('focus');\n            } else {\n              that.$button.trigger('focus');\n            }\n          }\n        });\n        this.$menuInner.on('click', '.divider, .dropdown-header', function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n          if (that.options.liveSearch) {\n            that.$searchbox.trigger('focus');\n          } else {\n            that.$button.trigger('focus');\n          }\n        });\n        this.$menu.on('click', '.' + classNames.POPOVERHEADER + ' .close', function () {\n          that.$button.trigger('click');\n        });\n        this.$searchbox.on('click', function (e) {\n          e.stopPropagation();\n        });\n        this.$menu.on('click', '.actions-btn', function (e) {\n          if (that.options.liveSearch) {\n            that.$searchbox.trigger('focus');\n          } else {\n            that.$button.trigger('focus');\n          }\n          e.preventDefault();\n          e.stopPropagation();\n          if ($(this).hasClass('bs-select-all')) {\n            that.selectAll();\n          } else {\n            that.deselectAll();\n          }\n        });\n        this.$button.on('focus' + EVENT_KEY, function (e) {\n          var tabindex = that.$element[0].getAttribute('tabindex');\n\n          // only change when button is actually focused\n          if (tabindex !== undefined && e.originalEvent && e.originalEvent.isTrusted) {\n            // apply select element's tabindex to ensure correct order is followed when tabbing to the next element\n            this.setAttribute('tabindex', tabindex);\n            // set element's tabindex to -1 to allow for reverse tabbing\n            that.$element[0].setAttribute('tabindex', -1);\n            that.selectpicker.view.tabindex = tabindex;\n          }\n        }).on('blur' + EVENT_KEY, function (e) {\n          // revert everything to original tabindex\n          if (that.selectpicker.view.tabindex !== undefined && e.originalEvent && e.originalEvent.isTrusted) {\n            that.$element[0].setAttribute('tabindex', that.selectpicker.view.tabindex);\n            this.setAttribute('tabindex', -1);\n            that.selectpicker.view.tabindex = undefined;\n          }\n        });\n        this.$element.on('change' + EVENT_KEY, function () {\n          that.render();\n          that.$element.trigger('changed' + EVENT_KEY, changedArguments);\n          changedArguments = null;\n        }).on('focus' + EVENT_KEY, function () {\n          if (!that.options.mobile) that.$button[0].focus();\n        });\n      },\n      liveSearchListener: function liveSearchListener() {\n        var that = this;\n        this.$button.on('click.bs.dropdown.data-api', function () {\n          if (!!that.$searchbox.val()) {\n            that.$searchbox.val('');\n            that.selectpicker.search.previousValue = undefined;\n          }\n        });\n        this.$searchbox.on('click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api', function (e) {\n          e.stopPropagation();\n        });\n        this.$searchbox.on('input propertychange', function () {\n          var searchValue = that.$searchbox[0].value;\n          that.selectpicker.search.elements = [];\n          that.selectpicker.search.data = [];\n          if (searchValue) {\n            var i,\n              searchMatch = [],\n              q = searchValue.toUpperCase(),\n              cache = {},\n              cacheArr = [],\n              searchStyle = that._searchStyle(),\n              normalizeSearch = that.options.liveSearchNormalize;\n            if (normalizeSearch) q = normalizeToBase(q);\n            for (var i = 0; i < that.selectpicker.main.data.length; i++) {\n              var li = that.selectpicker.main.data[i];\n              if (!cache[i]) {\n                cache[i] = stringSearch(li, q, searchStyle, normalizeSearch);\n              }\n              if (cache[i] && li.headerIndex !== undefined && cacheArr.indexOf(li.headerIndex) === -1) {\n                if (li.headerIndex > 0) {\n                  cache[li.headerIndex - 1] = true;\n                  cacheArr.push(li.headerIndex - 1);\n                }\n                cache[li.headerIndex] = true;\n                cacheArr.push(li.headerIndex);\n                cache[li.lastIndex + 1] = true;\n              }\n              if (cache[i] && li.type !== 'optgroup-label') cacheArr.push(i);\n            }\n            for (var i = 0, cacheLen = cacheArr.length; i < cacheLen; i++) {\n              var index = cacheArr[i],\n                prevIndex = cacheArr[i - 1],\n                li = that.selectpicker.main.data[index],\n                liPrev = that.selectpicker.main.data[prevIndex];\n              if (li.type !== 'divider' || li.type === 'divider' && liPrev && liPrev.type !== 'divider' && cacheLen - 1 !== i) {\n                that.selectpicker.search.data.push(li);\n                searchMatch.push(that.selectpicker.main.elements[index]);\n              }\n            }\n            that.activeIndex = undefined;\n            that.noScroll = true;\n            that.$menuInner.scrollTop(0);\n            that.selectpicker.search.elements = searchMatch;\n            that.createView(true);\n            showNoResults.call(that, searchMatch, searchValue);\n          } else if (that.selectpicker.search.previousValue) {\n            // for IE11 (#2402)\n            that.$menuInner.scrollTop(0);\n            that.createView(false);\n          }\n          that.selectpicker.search.previousValue = searchValue;\n        });\n      },\n      _searchStyle: function _searchStyle() {\n        return this.options.liveSearchStyle || 'contains';\n      },\n      val: function val(value) {\n        var element = this.$element[0];\n        if (typeof value !== 'undefined') {\n          var prevValue = getSelectValues(element);\n          changedArguments = [null, null, prevValue];\n          this.$element.val(value).trigger('changed' + EVENT_KEY, changedArguments);\n          if (this.$newElement.hasClass(classNames.SHOW)) {\n            if (this.multiple) {\n              this.setOptionStatus(true);\n            } else {\n              var liSelectedIndex = (element.options[element.selectedIndex] || {}).liIndex;\n              if (typeof liSelectedIndex === 'number') {\n                this.setSelected(this.selectedIndex, false);\n                this.setSelected(liSelectedIndex, true);\n              }\n            }\n          }\n          this.render();\n          changedArguments = null;\n          return this.$element;\n        } else {\n          return this.$element.val();\n        }\n      },\n      changeAll: function changeAll(status) {\n        if (!this.multiple) return;\n        if (typeof status === 'undefined') status = true;\n        var element = this.$element[0],\n          previousSelected = 0,\n          currentSelected = 0,\n          prevValue = getSelectValues(element);\n        element.classList.add('bs-select-hidden');\n        for (var i = 0, data = this.selectpicker.current.data, len = data.length; i < len; i++) {\n          var liData = data[i],\n            option = liData.option;\n          if (option && !liData.disabled && liData.type !== 'divider') {\n            if (liData.selected) previousSelected++;\n            option.selected = status;\n            if (status === true) currentSelected++;\n          }\n        }\n        element.classList.remove('bs-select-hidden');\n        if (previousSelected === currentSelected) return;\n        this.setOptionStatus();\n        changedArguments = [null, null, prevValue];\n        this.$element.triggerNative('change');\n      },\n      selectAll: function selectAll() {\n        return this.changeAll(true);\n      },\n      deselectAll: function deselectAll() {\n        return this.changeAll(false);\n      },\n      toggle: function toggle(e) {\n        e = e || window.event;\n        if (e) e.stopPropagation();\n        this.$button.trigger('click.bs.dropdown.data-api');\n      },\n      keydown: function keydown(e) {\n        var $this = $(this),\n          isToggle = $this.hasClass('dropdown-toggle'),\n          $parent = isToggle ? $this.closest('.dropdown') : $this.closest(Selector.MENU),\n          that = $parent.data('this'),\n          $items = that.findLis(),\n          index,\n          isActive,\n          liActive,\n          activeLi,\n          offset,\n          updateScroll = false,\n          downOnTab = e.which === keyCodes.TAB && !isToggle && !that.options.selectOnTab,\n          isArrowKey = REGEXP_ARROW.test(e.which) || downOnTab,\n          scrollTop = that.$menuInner[0].scrollTop,\n          isVirtual = that.isVirtual(),\n          position0 = isVirtual === true ? that.selectpicker.view.position0 : 0;\n\n        // do nothing if a function key is pressed\n        if (e.which >= 112 && e.which <= 123) return;\n        isActive = that.$newElement.hasClass(classNames.SHOW);\n        if (!isActive && (isArrowKey || e.which >= 48 && e.which <= 57 || e.which >= 96 && e.which <= 105 || e.which >= 65 && e.which <= 90)) {\n          that.$button.trigger('click.bs.dropdown.data-api');\n          if (that.options.liveSearch) {\n            that.$searchbox.trigger('focus');\n            return;\n          }\n        }\n        if (e.which === keyCodes.ESCAPE && isActive) {\n          e.preventDefault();\n          that.$button.trigger('click.bs.dropdown.data-api').trigger('focus');\n        }\n        if (isArrowKey) {\n          // if up or down\n          if (!$items.length) return;\n          liActive = that.selectpicker.main.elements[that.activeIndex];\n          index = liActive ? Array.prototype.indexOf.call(liActive.parentElement.children, liActive) : -1;\n          if (index !== -1) {\n            that.defocusItem(liActive);\n          }\n          if (e.which === keyCodes.ARROW_UP) {\n            // up\n            if (index !== -1) index--;\n            if (index + position0 < 0) index += $items.length;\n            if (!that.selectpicker.view.canHighlight[index + position0]) {\n              index = that.selectpicker.view.canHighlight.slice(0, index + position0).lastIndexOf(true) - position0;\n              if (index === -1) index = $items.length - 1;\n            }\n          } else if (e.which === keyCodes.ARROW_DOWN || downOnTab) {\n            // down\n            index++;\n            if (index + position0 >= that.selectpicker.view.canHighlight.length) index = that.selectpicker.view.firstHighlightIndex;\n            if (!that.selectpicker.view.canHighlight[index + position0]) {\n              index = index + 1 + that.selectpicker.view.canHighlight.slice(index + position0 + 1).indexOf(true);\n            }\n          }\n          e.preventDefault();\n          var liActiveIndex = position0 + index;\n          if (e.which === keyCodes.ARROW_UP) {\n            // up\n            // scroll to bottom and highlight last option\n            if (position0 === 0 && index === $items.length - 1) {\n              that.$menuInner[0].scrollTop = that.$menuInner[0].scrollHeight;\n              liActiveIndex = that.selectpicker.current.elements.length - 1;\n            } else {\n              activeLi = that.selectpicker.current.data[liActiveIndex];\n              offset = activeLi.position - activeLi.height;\n              updateScroll = offset < scrollTop;\n            }\n          } else if (e.which === keyCodes.ARROW_DOWN || downOnTab) {\n            // down\n            // scroll to top and highlight first option\n            if (index === that.selectpicker.view.firstHighlightIndex) {\n              that.$menuInner[0].scrollTop = 0;\n              liActiveIndex = that.selectpicker.view.firstHighlightIndex;\n            } else {\n              activeLi = that.selectpicker.current.data[liActiveIndex];\n              offset = activeLi.position - that.sizeInfo.menuInnerHeight;\n              updateScroll = offset > scrollTop;\n            }\n          }\n          liActive = that.selectpicker.current.elements[liActiveIndex];\n          that.activeIndex = that.selectpicker.current.data[liActiveIndex].index;\n          that.focusItem(liActive);\n          that.selectpicker.view.currentActive = liActive;\n          if (updateScroll) that.$menuInner[0].scrollTop = offset;\n          if (that.options.liveSearch) {\n            that.$searchbox.trigger('focus');\n          } else {\n            $this.trigger('focus');\n          }\n        } else if (!$this.is('input') && !REGEXP_TAB_OR_ESCAPE.test(e.which) || e.which === keyCodes.SPACE && that.selectpicker.keydown.keyHistory) {\n          var searchMatch,\n            matches = [],\n            keyHistory;\n          e.preventDefault();\n          that.selectpicker.keydown.keyHistory += keyCodeMap[e.which];\n          if (that.selectpicker.keydown.resetKeyHistory.cancel) clearTimeout(that.selectpicker.keydown.resetKeyHistory.cancel);\n          that.selectpicker.keydown.resetKeyHistory.cancel = that.selectpicker.keydown.resetKeyHistory.start();\n          keyHistory = that.selectpicker.keydown.keyHistory;\n\n          // if all letters are the same, set keyHistory to just the first character when searching\n          if (/^(.)\\1+$/.test(keyHistory)) {\n            keyHistory = keyHistory.charAt(0);\n          }\n\n          // find matches\n          for (var i = 0; i < that.selectpicker.current.data.length; i++) {\n            var li = that.selectpicker.current.data[i],\n              hasMatch;\n            hasMatch = stringSearch(li, keyHistory, 'startsWith', true);\n            if (hasMatch && that.selectpicker.view.canHighlight[i]) {\n              matches.push(li.index);\n            }\n          }\n          if (matches.length) {\n            var matchIndex = 0;\n            $items.removeClass('active').find('a').removeClass('active');\n\n            // either only one key has been pressed or they are all the same key\n            if (keyHistory.length === 1) {\n              matchIndex = matches.indexOf(that.activeIndex);\n              if (matchIndex === -1 || matchIndex === matches.length - 1) {\n                matchIndex = 0;\n              } else {\n                matchIndex++;\n              }\n            }\n            searchMatch = matches[matchIndex];\n            activeLi = that.selectpicker.main.data[searchMatch];\n            if (scrollTop - activeLi.position > 0) {\n              offset = activeLi.position - activeLi.height;\n              updateScroll = true;\n            } else {\n              offset = activeLi.position - that.sizeInfo.menuInnerHeight;\n              // if the option is already visible at the current scroll position, just keep it the same\n              updateScroll = activeLi.position > scrollTop + that.sizeInfo.menuInnerHeight;\n            }\n            liActive = that.selectpicker.main.elements[searchMatch];\n            that.activeIndex = matches[matchIndex];\n            that.focusItem(liActive);\n            if (liActive) liActive.firstChild.focus();\n            if (updateScroll) that.$menuInner[0].scrollTop = offset;\n            $this.trigger('focus');\n          }\n        }\n\n        // Select focused option if \"Enter\", \"Spacebar\" or \"Tab\" (when selectOnTab is true) are pressed inside the menu.\n        if (isActive && (e.which === keyCodes.SPACE && !that.selectpicker.keydown.keyHistory || e.which === keyCodes.ENTER || e.which === keyCodes.TAB && that.options.selectOnTab)) {\n          if (e.which !== keyCodes.SPACE) e.preventDefault();\n          if (!that.options.liveSearch || e.which !== keyCodes.SPACE) {\n            that.$menuInner.find('.active a').trigger('click', true); // retain active class\n            $this.trigger('focus');\n            if (!that.options.liveSearch) {\n              // Prevent screen from scrolling if the user hits the spacebar\n              e.preventDefault();\n              // Fixes spacebar selection of dropdown items in FF & IE\n              $(document).data('spaceSelect', true);\n            }\n          }\n        }\n      },\n      mobile: function mobile() {\n        // ensure mobile is set to true if mobile function is called after init\n        this.options.mobile = true;\n        this.$element[0].classList.add('mobile-device');\n      },\n      refresh: function refresh() {\n        // update options if data attributes have been changed\n        var config = $.extend({}, this.options, this.$element.data());\n        this.options = config;\n        this.checkDisabled();\n        this.buildData();\n        this.setStyle();\n        this.render();\n        this.buildList();\n        this.setWidth();\n        this.setSize(true);\n        this.$element.trigger('refreshed' + EVENT_KEY);\n      },\n      hide: function hide() {\n        this.$newElement.hide();\n      },\n      show: function show() {\n        this.$newElement.show();\n      },\n      remove: function remove() {\n        this.$newElement.remove();\n        this.$element.remove();\n      },\n      destroy: function destroy() {\n        this.$newElement.before(this.$element).remove();\n        if (this.$bsContainer) {\n          this.$bsContainer.remove();\n        } else {\n          this.$menu.remove();\n        }\n        if (this.selectpicker.view.titleOption && this.selectpicker.view.titleOption.parentNode) {\n          this.selectpicker.view.titleOption.parentNode.removeChild(this.selectpicker.view.titleOption);\n        }\n        this.$element.off(EVENT_KEY).removeData('selectpicker').removeClass('bs-select-hidden selectpicker');\n        $(window).off(EVENT_KEY + '.' + this.selectId);\n      }\n    };\n\n    // SELECTPICKER PLUGIN DEFINITION\n    // ==============================\n    function Plugin(option) {\n      // get the args of the outer function..\n      var args = arguments;\n      // The arguments of the function are explicitly re-defined from the argument list, because the shift causes them\n      // to get lost/corrupted in android 2.3 and IE9 #715 #775\n      var _option = option;\n      [].shift.apply(args);\n\n      // if the version was not set successfully\n      if (!version.success) {\n        // try to retreive it again\n        try {\n          version.full = ($.fn.dropdown.Constructor.VERSION || '').split(' ')[0].split('.');\n        } catch (err) {\n          // fall back to use BootstrapVersion if set\n          if (_Selectpicker.BootstrapVersion) {\n            version.full = _Selectpicker.BootstrapVersion.split(' ')[0].split('.');\n          } else {\n            version.full = [version.major, '0', '0'];\n            console.warn('There was an issue retrieving Bootstrap\\'s version. ' + 'Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. ' + 'If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.', err);\n          }\n        }\n        version.major = version.full[0];\n        version.success = true;\n      }\n      if (version.major === '4') {\n        // some defaults need to be changed if using Bootstrap 4\n        // check to see if they have already been manually changed before forcing them to update\n        var toUpdate = [];\n        if (_Selectpicker.DEFAULTS.style === classNames.BUTTONCLASS) toUpdate.push({\n          name: 'style',\n          className: 'BUTTONCLASS'\n        });\n        if (_Selectpicker.DEFAULTS.iconBase === classNames.ICONBASE) toUpdate.push({\n          name: 'iconBase',\n          className: 'ICONBASE'\n        });\n        if (_Selectpicker.DEFAULTS.tickIcon === classNames.TICKICON) toUpdate.push({\n          name: 'tickIcon',\n          className: 'TICKICON'\n        });\n        classNames.DIVIDER = 'dropdown-divider';\n        classNames.SHOW = 'show';\n        classNames.BUTTONCLASS = 'btn-light';\n        classNames.POPOVERHEADER = 'popover-header';\n        classNames.ICONBASE = '';\n        classNames.TICKICON = 'bs-ok-default';\n        for (var i = 0; i < toUpdate.length; i++) {\n          var option = toUpdate[i];\n          _Selectpicker.DEFAULTS[option.name] = classNames[option.className];\n        }\n      }\n      var value;\n      var chain = this.each(function () {\n        var $this = $(this);\n        if ($this.is('select')) {\n          var data = $this.data('selectpicker'),\n            options = _typeof(_option) == 'object' && _option;\n          if (!data) {\n            var dataAttributes = $this.data();\n            for (var dataAttr in dataAttributes) {\n              if (Object.prototype.hasOwnProperty.call(dataAttributes, dataAttr) && $.inArray(dataAttr, DISALLOWED_ATTRIBUTES) !== -1) {\n                delete dataAttributes[dataAttr];\n              }\n            }\n            var config = $.extend({}, _Selectpicker.DEFAULTS, $.fn.selectpicker.defaults || {}, dataAttributes, options);\n            config.template = $.extend({}, _Selectpicker.DEFAULTS.template, $.fn.selectpicker.defaults ? $.fn.selectpicker.defaults.template : {}, dataAttributes.template, options.template);\n            $this.data('selectpicker', data = new _Selectpicker(this, config));\n          } else if (options) {\n            for (var i in options) {\n              if (Object.prototype.hasOwnProperty.call(options, i)) {\n                data.options[i] = options[i];\n              }\n            }\n          }\n          if (typeof _option == 'string') {\n            if (data[_option] instanceof Function) {\n              value = data[_option].apply(data, args);\n            } else {\n              value = data.options[_option];\n            }\n          }\n        }\n      });\n      if (typeof value !== 'undefined') {\n        // noinspection JSUnusedAssignment\n        return value;\n      } else {\n        return chain;\n      }\n    }\n    var old = $.fn.selectpicker;\n    $.fn.selectpicker = Plugin;\n    $.fn.selectpicker.Constructor = _Selectpicker;\n\n    // SELECTPICKER NO CONFLICT\n    // ========================\n    $.fn.selectpicker.noConflict = function () {\n      $.fn.selectpicker = old;\n      return this;\n    };\n\n    // get Bootstrap's keydown event handler for either Bootstrap 4 or Bootstrap 3\n    function keydownHandler() {\n      if ($.fn.dropdown) {\n        // wait to define until function is called in case Bootstrap isn't loaded yet\n        var bootstrapKeydown = $.fn.dropdown.Constructor._dataApiKeydownHandler || $.fn.dropdown.Constructor.prototype.keydown;\n        return bootstrapKeydown.apply(this, arguments);\n      }\n    }\n    $(document).off('keydown.bs.dropdown.data-api').on('keydown.bs.dropdown.data-api', ':not(.bootstrap-select) > [data-toggle=\"dropdown\"]', keydownHandler).on('keydown.bs.dropdown.data-api', ':not(.bootstrap-select) > .dropdown-menu', keydownHandler).on('keydown' + EVENT_KEY, '.bootstrap-select [data-toggle=\"dropdown\"], .bootstrap-select [role=\"listbox\"], .bootstrap-select .bs-searchbox input', _Selectpicker.prototype.keydown).on('focusin.modal', '.bootstrap-select [data-toggle=\"dropdown\"], .bootstrap-select [role=\"listbox\"], .bootstrap-select .bs-searchbox input', function (e) {\n      e.stopPropagation();\n    });\n\n    // SELECTPICKER DATA-API\n    // =====================\n    $(window).on('load' + EVENT_KEY + '.data-api', function () {\n      $('.selectpicker').each(function () {\n        var $selectpicker = $(this);\n        Plugin.call($selectpicker, $selectpicker.data());\n      });\n    });\n  })(jQuery);\n});","map":{"version":3,"names":["$","DISALLOWED_ATTRIBUTES","uriAttrs","ARIA_ATTRIBUTE_PATTERN","DefaultWhitelist","a","area","b","br","col","code","div","em","hr","h1","h2","h3","h4","h5","h6","i","img","li","ol","p","pre","s","small","span","sub","sup","strong","u","ul","SAFE_URL_PATTERN","DATA_URL_PATTERN","allowedAttribute","attr","allowedAttributeList","attrName","nodeName","toLowerCase","inArray","Boolean","nodeValue","match","regExp","filter","index","value","RegExp","l","length","sanitizeHtml","unsafeElements","whiteList","sanitizeFn","whitelistKeys","Object","keys","len","elements","querySelectorAll","j","len2","el","elName","indexOf","parentNode","removeChild","attributeList","slice","call","attributes","whitelistedAttributes","concat","k","len3","removeAttribute","document","createElement","view","classListProp","protoProp","elemCtrProto","Element","objCtr","classListGetter","$elem","add","classes","Array","prototype","arguments","join","addClass","remove","removeClass","toggle","force","toggleClass","contains","hasClass","defineProperty","classListPropDesc","get","enumerable","configurable","ex","number","undefined","__defineGetter__","window","testElement","classList","_add","DOMTokenList","_remove","forEach","bind","_toggle","token","isEqual","array1","array2","every","element","String","startsWith","object","$defineProperty","result","error","toString","search","TypeError","string","stringLength","searchString","searchLength","position","pos","Number","start","Math","min","max","charCodeAt","o","r","hasOwnProperty","push","HTMLSelectElement","getSelectedOptions","select","ignoreDisabled","selectedOptions","options","opt","disabled","tagName","getSelectValues","multiple","valHooks","useDefault","_set","set","elem","data","apply","changedArguments","EventIsSupported","Event","e","fn","triggerNative","eventName","event","dispatchEvent","bubbles","createEvent","initEvent","fireEvent","createEventObject","eventType","trigger","stringSearch","method","normalize","stringTypes","searchSuccess","stringType","replace","normalizeToBase","toUpperCase","toInteger","parseInt","deburredLetters","reLatin","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboMarksExtendedRange","rsComboMarksSupplementRange","rsComboRange","rsCombo","reComboMark","deburrLetter","key","escapeMap","createEscaper","map","escaper","source","testRegexp","replaceRegexp","test","htmlEscape","keyCodeMap","keyCodes","ESCAPE","ENTER","SPACE","TAB","ARROW_UP","ARROW_DOWN","version","success","major","full","dropdown","Constructor","VERSION","split","err","selectId","EVENT_KEY","classNames","DISABLED","DIVIDER","SHOW","DROPUP","MENU","MENURIGHT","MENULEFT","BUTTONCLASS","POPOVERHEADER","ICONBASE","TICKICON","Selector","elementTemplates","subtext","whitespace","createTextNode","fragment","createDocumentFragment","noResults","cloneNode","className","setAttribute","text","checkMark","REGEXP_ARROW","REGEXP_TAB_OR_ESCAPE","generateOption","content","optgroup","nodeType","appendChild","innerHTML","inline","insertAdjacentHTML","useFragment","textElement","subtextElement","iconElement","textContent","icon","iconBase","childNodes","label","display","showNoResults","searchMatch","searchValue","noneResultsText","$menuInner","firstChild","Selectpicker","that","$element","$newElement","$button","$menu","selectpicker","main","current","isSearching","keydown","keyHistory","resetKeyHistory","setTimeout","sizeInfo","title","winPad","windowPadding","val","render","refresh","setStyle","selectAll","deselectAll","destroy","show","hide","init","DEFAULTS","noneSelectedText","countSelectedText","numSelected","numTotal","maxOptionsText","numAll","numGroup","selectAllText","deselectAllText","doneButton","doneButtonText","multipleSeparator","styleBase","style","size","selectedTextFormat","width","container","hideDisabled","showSubtext","showIcon","showContent","dropupAuto","header","liveSearch","liveSearchPlaceholder","liveSearchNormalize","liveSearchStyle","actionsBox","tickIcon","showTick","template","caret","maxOptions","mobile","selectOnTab","dropdownAlignRight","virtualScroll","sanitize","constructor","id","form","prop","autofocus","createDropdown","buildData","after","prependTo","children","$searchbox","find","checkDisabled","clickListener","liveSearchListener","focusedParent","setWidth","selectPosition","on","isVirtual","menuInner","emptyMenu","replaceChild","scrollTop","hideBsDropdown","hiddenBsDropdown","showBsDropdown","shownBsDropdown","hasAttribute","off","validity","valid","buildList","multiselectable","inputGroup","parent","drop","searchbox","actionsbox","donebutton","setPositionData","canHighlight","firstHighlightIndex","type","height","dividerHeight","dropdownHeaderHeight","liHeight","posinset","createView","setSize","active","selected","prevActive","selectedIndex","liIndex","selectedData","menuInnerHeight","scroll","updateValue","noScroll","chunks","chunkSize","chunkCount","firstChunk","lastChunk","currentChunk","prevPositions","positionIsDifferent","previousElements","menuIsDifferent","ceil","round","endOfChunk","position0","position1","activeIndex","prevActiveIndex","defocusItem","visibleElements","setOptionStatus","menuFragment","marginTop","marginBottom","toSanitize","visibleElementsLen","elText","elementData","lastChild","sanitized","hasScrollBar","menuInnerInnerWidth","offsetWidth","totalMenuWidth","selectWidth","minWidth","actualMenuWidth","newActive","currentActive","focusItem","isActive","liData","noStyle","setPlaceholder","updateIndex","titleOption","selectTitleOption","titleNotAppended","selectedOption","navigation","performance","getEntriesByType","isNotBackForward","defaultSelected","insertBefore","readyState","addEventListener","displayedValue","optionSelector","mainData","optID","startIndex","selectOptions","addDivider","config","previousData","addOption","option","divider","getAttribute","cssText","inlineStyle","optionClass","optgroupClass","trim","tokens","addOptgroup","previous","next","headerIndex","lastIndex","item","selectData","mainElements","widestOptionLength","buildElement","liElement","combinedLength","widestOption","findLis","placeholderSelected","selectedCount","button","buttonInner","querySelector","titleFragment","showCount","countMax","hasContent","thisData","titleOptions","totalCount","tr8nText","filterExpand","clone","newStyle","status","newElement","buttonClass","previousElementSibling","nextElementSibling","menu","menuInnerInner","dropdownHeader","actions","firstOption","input","body","offsetHeight","headerHeight","searchHeight","actionsHeight","doneButtonHeight","outerHeight","menuStyle","getComputedStyle","menuWidth","menuPadding","vert","paddingTop","css","paddingBottom","borderTopWidth","borderBottomWidth","horiz","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","menuExtras","marginLeft","marginRight","scrollBarWidth","overflowY","selectHeight","getSelectPosition","$window","offset","$container","containerPos","is","top","left","selectOffsetTop","selectOffsetBot","selectOffsetLeft","scrollLeft","selectOffsetRight","setMenuSize","isAuto","divHeight","menuHeight","divLength","minHeight","_minHeight","maxHeight","menuInnerMinHeight","estimate","isDropup","dropup","_popper","update","requestAnimationFrame","$selectClone","appendTo","btnWidth","outerWidth","$bsContainer","actualHeight","getPlacement","containerPosition","Default","isDisabled","append","detach","selectedOnly","setDisabled","setSelected","activeIndexIsSet","thisIsActive","keepActive","$document","keyCode","preventDefault","_menu","setFocus","checkPopperExists","state","isCreated","hoverLi","parentElement","hoverData","retainActive","$this","clickedData","clickedIndex","prevValue","prevIndex","prevOption","triggerChange","stopPropagation","$option","$optgroup","$optgroupOptions","maxOptionsGrp","focus","maxReached","maxReachedGrp","_option","maxOptionsArr","maxTxt","maxTxtGrp","$notify","currentTarget","target","tabindex","originalEvent","isTrusted","previousValue","q","cache","cacheArr","searchStyle","_searchStyle","normalizeSearch","cacheLen","liPrev","liSelectedIndex","changeAll","previousSelected","currentSelected","isToggle","$parent","closest","$items","liActive","activeLi","updateScroll","downOnTab","which","isArrowKey","lastIndexOf","liActiveIndex","scrollHeight","matches","cancel","clearTimeout","charAt","hasMatch","matchIndex","extend","before","removeData","Plugin","args","shift","BootstrapVersion","console","warn","toUpdate","name","chain","each","_typeof","dataAttributes","dataAttr","defaults","Function","old","noConflict","keydownHandler","bootstrapKeydown","_dataApiKeydownHandler","$selectpicker","jQuery"],"sources":["../../js/bootstrap-select.js"],"sourcesContent":["(function ($) {\r\n  'use strict';\r\n\r\n  var DISALLOWED_ATTRIBUTES = ['sanitize', 'whiteList', 'sanitizeFn'];\r\n\r\n  var uriAttrs = [\r\n    'background',\r\n    'cite',\r\n    'href',\r\n    'itemtype',\r\n    'longdesc',\r\n    'poster',\r\n    'src',\r\n    'xlink:href'\r\n  ];\r\n\r\n  var ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i;\r\n\r\n  var DefaultWhitelist = {\r\n    // Global attributes allowed on any supplied element below.\r\n    '*': ['class', 'dir', 'id', 'lang', 'role', 'tabindex', 'style', ARIA_ATTRIBUTE_PATTERN],\r\n    a: ['target', 'href', 'title', 'rel'],\r\n    area: [],\r\n    b: [],\r\n    br: [],\r\n    col: [],\r\n    code: [],\r\n    div: [],\r\n    em: [],\r\n    hr: [],\r\n    h1: [],\r\n    h2: [],\r\n    h3: [],\r\n    h4: [],\r\n    h5: [],\r\n    h6: [],\r\n    i: [],\r\n    img: ['src', 'alt', 'title', 'width', 'height'],\r\n    li: [],\r\n    ol: [],\r\n    p: [],\r\n    pre: [],\r\n    s: [],\r\n    small: [],\r\n    span: [],\r\n    sub: [],\r\n    sup: [],\r\n    strong: [],\r\n    u: [],\r\n    ul: []\r\n  }\r\n\r\n  /**\r\n   * A pattern that recognizes a commonly useful subset of URLs that are safe.\r\n   *\r\n   * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\r\n   */\r\n  var SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi;\r\n\r\n  /**\r\n   * A pattern that matches safe data URLs. Only matches image, video and audio types.\r\n   *\r\n   * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\r\n   */\r\n  var DATA_URL_PATTERN = /^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;\r\n\r\n  function allowedAttribute (attr, allowedAttributeList) {\r\n    var attrName = attr.nodeName.toLowerCase()\r\n\r\n    if ($.inArray(attrName, allowedAttributeList) !== -1) {\r\n      if ($.inArray(attrName, uriAttrs) !== -1) {\r\n        return Boolean(attr.nodeValue.match(SAFE_URL_PATTERN) || attr.nodeValue.match(DATA_URL_PATTERN))\r\n      }\r\n\r\n      return true\r\n    }\r\n\r\n    var regExp = $(allowedAttributeList).filter(function (index, value) {\r\n      return value instanceof RegExp\r\n    })\r\n\r\n    // Check if a regular expression validates the attribute.\r\n    for (var i = 0, l = regExp.length; i < l; i++) {\r\n      if (attrName.match(regExp[i])) {\r\n        return true\r\n      }\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  function sanitizeHtml (unsafeElements, whiteList, sanitizeFn) {\r\n    if (sanitizeFn && typeof sanitizeFn === 'function') {\r\n      return sanitizeFn(unsafeElements);\r\n    }\r\n\r\n    var whitelistKeys = Object.keys(whiteList);\r\n\r\n    for (var i = 0, len = unsafeElements.length; i < len; i++) {\r\n      var elements = unsafeElements[i].querySelectorAll('*');\r\n\r\n      for (var j = 0, len2 = elements.length; j < len2; j++) {\r\n        var el = elements[j];\r\n        var elName = el.nodeName.toLowerCase();\r\n\r\n        if (whitelistKeys.indexOf(elName) === -1) {\r\n          el.parentNode.removeChild(el);\r\n\r\n          continue;\r\n        }\r\n\r\n        var attributeList = [].slice.call(el.attributes);\r\n        var whitelistedAttributes = [].concat(whiteList['*'] || [], whiteList[elName] || []);\r\n\r\n        for (var k = 0, len3 = attributeList.length; k < len3; k++) {\r\n          var attr = attributeList[k];\r\n\r\n          if (!allowedAttribute(attr, whitelistedAttributes)) {\r\n            el.removeAttribute(attr.nodeName);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Polyfill for browsers with no classList support\r\n  // Remove in v2\r\n  if (!('classList' in document.createElement('_'))) {\r\n    (function (view) {\r\n      if (!('Element' in view)) return;\r\n\r\n      var classListProp = 'classList',\r\n          protoProp = 'prototype',\r\n          elemCtrProto = view.Element[protoProp],\r\n          objCtr = Object,\r\n          classListGetter = function () {\r\n            var $elem = $(this);\r\n\r\n            return {\r\n              add: function (classes) {\r\n                classes = Array.prototype.slice.call(arguments).join(' ');\r\n                return $elem.addClass(classes);\r\n              },\r\n              remove: function (classes) {\r\n                classes = Array.prototype.slice.call(arguments).join(' ');\r\n                return $elem.removeClass(classes);\r\n              },\r\n              toggle: function (classes, force) {\r\n                return $elem.toggleClass(classes, force);\r\n              },\r\n              contains: function (classes) {\r\n                return $elem.hasClass(classes);\r\n              }\r\n            }\r\n          };\r\n\r\n      if (objCtr.defineProperty) {\r\n        var classListPropDesc = {\r\n          get: classListGetter,\r\n          enumerable: true,\r\n          configurable: true\r\n        };\r\n        try {\r\n          objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\r\n        } catch (ex) { // IE 8 doesn't support enumerable:true\r\n          // adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36\r\n          // modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected\r\n          if (ex.number === undefined || ex.number === -0x7FF5EC54) {\r\n            classListPropDesc.enumerable = false;\r\n            objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\r\n          }\r\n        }\r\n      } else if (objCtr[protoProp].__defineGetter__) {\r\n        elemCtrProto.__defineGetter__(classListProp, classListGetter);\r\n      }\r\n    }(window));\r\n  }\r\n\r\n  var testElement = document.createElement('_');\r\n\r\n  testElement.classList.add('c1', 'c2');\r\n\r\n  if (!testElement.classList.contains('c2')) {\r\n    var _add = DOMTokenList.prototype.add,\r\n        _remove = DOMTokenList.prototype.remove;\r\n\r\n    DOMTokenList.prototype.add = function () {\r\n      Array.prototype.forEach.call(arguments, _add.bind(this));\r\n    }\r\n\r\n    DOMTokenList.prototype.remove = function () {\r\n      Array.prototype.forEach.call(arguments, _remove.bind(this));\r\n    }\r\n  }\r\n\r\n  testElement.classList.toggle('c3', false);\r\n\r\n  // Polyfill for IE 10 and Firefox <24, where classList.toggle does not\r\n  // support the second argument.\r\n  if (testElement.classList.contains('c3')) {\r\n    var _toggle = DOMTokenList.prototype.toggle;\r\n\r\n    DOMTokenList.prototype.toggle = function (token, force) {\r\n      if (1 in arguments && !this.contains(token) === !force) {\r\n        return force;\r\n      } else {\r\n        return _toggle.call(this, token);\r\n      }\r\n    };\r\n  }\r\n\r\n  testElement = null;\r\n\r\n  // shallow array comparison\r\n  function isEqual (array1, array2) {\r\n    return array1.length === array2.length && array1.every(function (element, index) {\r\n      return element === array2[index];\r\n    });\r\n  };\r\n\r\n  // <editor-fold desc=\"Shims\">\r\n  if (!String.prototype.startsWith) {\r\n    (function () {\r\n      'use strict'; // needed to support `apply`/`call` with `undefined`/`null`\r\n      var defineProperty = (function () {\r\n        // IE 8 only supports `Object.defineProperty` on DOM elements\r\n        try {\r\n          var object = {};\r\n          var $defineProperty = Object.defineProperty;\r\n          var result = $defineProperty(object, object, object) && $defineProperty;\r\n        } catch (error) {\r\n        }\r\n        return result;\r\n      }());\r\n      var toString = {}.toString;\r\n      var startsWith = function (search) {\r\n        if (this == null) {\r\n          throw new TypeError();\r\n        }\r\n        var string = String(this);\r\n        if (search && toString.call(search) == '[object RegExp]') {\r\n          throw new TypeError();\r\n        }\r\n        var stringLength = string.length;\r\n        var searchString = String(search);\r\n        var searchLength = searchString.length;\r\n        var position = arguments.length > 1 ? arguments[1] : undefined;\r\n        // `ToInteger`\r\n        var pos = position ? Number(position) : 0;\r\n        if (pos != pos) { // better `isNaN`\r\n          pos = 0;\r\n        }\r\n        var start = Math.min(Math.max(pos, 0), stringLength);\r\n        // Avoid the `indexOf` call if no match is possible\r\n        if (searchLength + start > stringLength) {\r\n          return false;\r\n        }\r\n        var index = -1;\r\n        while (++index < searchLength) {\r\n          if (string.charCodeAt(start + index) != searchString.charCodeAt(index)) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      };\r\n      if (defineProperty) {\r\n        defineProperty(String.prototype, 'startsWith', {\r\n          'value': startsWith,\r\n          'configurable': true,\r\n          'writable': true\r\n        });\r\n      } else {\r\n        String.prototype.startsWith = startsWith;\r\n      }\r\n    }());\r\n  }\r\n\r\n  if (!Object.keys) {\r\n    Object.keys = function (\r\n      o, // object\r\n      k, // key\r\n      r  // result array\r\n    ) {\r\n      // initialize object and result\r\n      r = [];\r\n      // iterate over object keys\r\n      for (k in o) {\r\n        // fill result array with non-prototypical keys\r\n        r.hasOwnProperty.call(o, k) && r.push(k);\r\n      }\r\n      // return result\r\n      return r;\r\n    };\r\n  }\r\n\r\n  if (HTMLSelectElement && !HTMLSelectElement.prototype.hasOwnProperty('selectedOptions')) {\r\n    Object.defineProperty(HTMLSelectElement.prototype, 'selectedOptions', {\r\n      get: function () {\r\n        return this.querySelectorAll(':checked');\r\n      }\r\n    });\r\n  }\r\n\r\n  function getSelectedOptions (select, ignoreDisabled) {\r\n    var selectedOptions = select.selectedOptions,\r\n        options = [],\r\n        opt;\r\n\r\n    if (ignoreDisabled) {\r\n      for (var i = 0, len = selectedOptions.length; i < len; i++) {\r\n        opt = selectedOptions[i];\r\n\r\n        if (!(opt.disabled || opt.parentNode.tagName === 'OPTGROUP' && opt.parentNode.disabled)) {\r\n          options.push(opt);\r\n        }\r\n      }\r\n\r\n      return options;\r\n    }\r\n\r\n    return selectedOptions;\r\n  }\r\n\r\n  // much faster than $.val()\r\n  function getSelectValues (select, selectedOptions) {\r\n    var value = [],\r\n        options = selectedOptions || select.selectedOptions,\r\n        opt;\r\n\r\n    for (var i = 0, len = options.length; i < len; i++) {\r\n      opt = options[i];\r\n\r\n      if (!(opt.disabled || opt.parentNode.tagName === 'OPTGROUP' && opt.parentNode.disabled)) {\r\n        value.push(opt.value);\r\n      }\r\n    }\r\n\r\n    if (!select.multiple) {\r\n      return !value.length ? null : value[0];\r\n    }\r\n\r\n    return value;\r\n  }\r\n\r\n  // set data-selected on select element if the value has been programmatically selected\r\n  // prior to initialization of bootstrap-select\r\n  // * consider removing or replacing an alternative method *\r\n  var valHooks = {\r\n    useDefault: false,\r\n    _set: $.valHooks.select.set\r\n  };\r\n\r\n  $.valHooks.select.set = function (elem, value) {\r\n    if (value && !valHooks.useDefault) $(elem).data('selected', true);\r\n\r\n    return valHooks._set.apply(this, arguments);\r\n  };\r\n\r\n  var changedArguments = null;\r\n\r\n  var EventIsSupported = (function () {\r\n    try {\r\n      new Event('change');\r\n      return true;\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  })();\r\n\r\n  $.fn.triggerNative = function (eventName) {\r\n    var el = this[0],\r\n        event;\r\n\r\n    if (el.dispatchEvent) { // for modern browsers & IE9+\r\n      if (EventIsSupported) {\r\n        // For modern browsers\r\n        event = new Event(eventName, {\r\n          bubbles: true\r\n        });\r\n      } else {\r\n        // For IE since it doesn't support Event constructor\r\n        event = document.createEvent('Event');\r\n        event.initEvent(eventName, true, false);\r\n      }\r\n\r\n      el.dispatchEvent(event);\r\n    } else if (el.fireEvent) { // for IE8\r\n      event = document.createEventObject();\r\n      event.eventType = eventName;\r\n      el.fireEvent('on' + eventName, event);\r\n    } else {\r\n      // fall back to jQuery.trigger\r\n      this.trigger(eventName);\r\n    }\r\n  };\r\n  // </editor-fold>\r\n\r\n  function stringSearch (li, searchString, method, normalize) {\r\n    var stringTypes = [\r\n          'display',\r\n          'subtext',\r\n          'tokens'\r\n        ],\r\n        searchSuccess = false;\r\n\r\n    for (var i = 0; i < stringTypes.length; i++) {\r\n      var stringType = stringTypes[i],\r\n          string = li[stringType];\r\n\r\n      if (string) {\r\n        string = string.toString();\r\n\r\n        // Strip HTML tags. This isn't perfect, but it's much faster than any other method\r\n        if (stringType === 'display') {\r\n          string = string.replace(/<[^>]+>/g, '');\r\n        }\r\n\r\n        if (normalize) string = normalizeToBase(string);\r\n        string = string.toUpperCase();\r\n\r\n        if (method === 'contains') {\r\n          searchSuccess = string.indexOf(searchString) >= 0;\r\n        } else {\r\n          searchSuccess = string.startsWith(searchString);\r\n        }\r\n\r\n        if (searchSuccess) break;\r\n      }\r\n    }\r\n\r\n    return searchSuccess;\r\n  }\r\n\r\n  function toInteger (value) {\r\n    return parseInt(value, 10) || 0;\r\n  }\r\n\r\n  // Borrowed from Lodash (_.deburr)\r\n  /** Used to map Latin Unicode letters to basic Latin letters. */\r\n  var deburredLetters = {\r\n    // Latin-1 Supplement block.\r\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\r\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\r\n    '\\xc7': 'C',  '\\xe7': 'c',\r\n    '\\xd0': 'D',  '\\xf0': 'd',\r\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\r\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\r\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\r\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\r\n    '\\xd1': 'N',  '\\xf1': 'n',\r\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\r\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\r\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\r\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\r\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\r\n    '\\xc6': 'Ae', '\\xe6': 'ae',\r\n    '\\xde': 'Th', '\\xfe': 'th',\r\n    '\\xdf': 'ss',\r\n    // Latin Extended-A block.\r\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\r\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\r\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\r\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\r\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\r\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\r\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\r\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\r\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\r\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\r\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\r\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\r\n    '\\u0134': 'J',  '\\u0135': 'j',\r\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\r\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\r\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\r\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\r\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\r\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\r\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\r\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\r\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\r\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\r\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\r\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\r\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\r\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\r\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\r\n    '\\u0174': 'W',  '\\u0175': 'w',\r\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\r\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\r\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\r\n    '\\u0132': 'IJ', '\\u0133': 'ij',\r\n    '\\u0152': 'Oe', '\\u0153': 'oe',\r\n    '\\u0149': \"'n\", '\\u017f': 's'\r\n  };\r\n\r\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\r\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\r\n\r\n  /** Used to compose unicode character classes. */\r\n  var rsComboMarksRange = '\\\\u0300-\\\\u036f',\r\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\r\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\r\n      rsComboMarksExtendedRange = '\\\\u1ab0-\\\\u1aff',\r\n      rsComboMarksSupplementRange = '\\\\u1dc0-\\\\u1dff',\r\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange + rsComboMarksExtendedRange + rsComboMarksSupplementRange;\r\n\r\n  /** Used to compose unicode capture groups. */\r\n  var rsCombo = '[' + rsComboRange + ']';\r\n\r\n  /**\r\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\r\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\r\n   */\r\n  var reComboMark = RegExp(rsCombo, 'g');\r\n\r\n  function deburrLetter (key) {\r\n    return deburredLetters[key];\r\n  };\r\n\r\n  function normalizeToBase (string) {\r\n    string = string.toString();\r\n    return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\r\n  }\r\n\r\n  // List of HTML entities for escaping.\r\n  var escapeMap = {\r\n    '&': '&amp;',\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    '\"': '&quot;',\r\n    \"'\": '&#x27;',\r\n    '`': '&#x60;'\r\n  };\r\n\r\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\r\n  var createEscaper = function (map) {\r\n    var escaper = function (match) {\r\n      return map[match];\r\n    };\r\n    // Regexes for identifying a key that needs to be escaped.\r\n    var source = '(?:' + Object.keys(map).join('|') + ')';\r\n    var testRegexp = RegExp(source);\r\n    var replaceRegexp = RegExp(source, 'g');\r\n    return function (string) {\r\n      string = string == null ? '' : '' + string;\r\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\r\n    };\r\n  };\r\n\r\n  var htmlEscape = createEscaper(escapeMap);\r\n\r\n  /**\r\n   * ------------------------------------------------------------------------\r\n   * Constants\r\n   * ------------------------------------------------------------------------\r\n   */\r\n\r\n  var keyCodeMap = {\r\n    32: ' ',\r\n    48: '0',\r\n    49: '1',\r\n    50: '2',\r\n    51: '3',\r\n    52: '4',\r\n    53: '5',\r\n    54: '6',\r\n    55: '7',\r\n    56: '8',\r\n    57: '9',\r\n    59: ';',\r\n    65: 'A',\r\n    66: 'B',\r\n    67: 'C',\r\n    68: 'D',\r\n    69: 'E',\r\n    70: 'F',\r\n    71: 'G',\r\n    72: 'H',\r\n    73: 'I',\r\n    74: 'J',\r\n    75: 'K',\r\n    76: 'L',\r\n    77: 'M',\r\n    78: 'N',\r\n    79: 'O',\r\n    80: 'P',\r\n    81: 'Q',\r\n    82: 'R',\r\n    83: 'S',\r\n    84: 'T',\r\n    85: 'U',\r\n    86: 'V',\r\n    87: 'W',\r\n    88: 'X',\r\n    89: 'Y',\r\n    90: 'Z',\r\n    96: '0',\r\n    97: '1',\r\n    98: '2',\r\n    99: '3',\r\n    100: '4',\r\n    101: '5',\r\n    102: '6',\r\n    103: '7',\r\n    104: '8',\r\n    105: '9'\r\n  };\r\n\r\n  var keyCodes = {\r\n    ESCAPE: 27, // KeyboardEvent.which value for Escape (Esc) key\r\n    ENTER: 13, // KeyboardEvent.which value for Enter key\r\n    SPACE: 32, // KeyboardEvent.which value for space key\r\n    TAB: 9, // KeyboardEvent.which value for tab key\r\n    ARROW_UP: 38, // KeyboardEvent.which value for up arrow key\r\n    ARROW_DOWN: 40 // KeyboardEvent.which value for down arrow key\r\n  }\r\n\r\n  var version = {\r\n    success: false,\r\n    major: '3'\r\n  };\r\n\r\n  try {\r\n    version.full = ($.fn.dropdown.Constructor.VERSION || '').split(' ')[0].split('.');\r\n    version.major = version.full[0];\r\n    version.success = true;\r\n  } catch (err) {\r\n    // do nothing\r\n  }\r\n\r\n  var selectId = 0;\r\n\r\n  var EVENT_KEY = '.bs.select';\r\n\r\n  var classNames = {\r\n    DISABLED: 'disabled',\r\n    DIVIDER: 'divider',\r\n    SHOW: 'open',\r\n    DROPUP: 'dropup',\r\n    MENU: 'dropdown-menu',\r\n    MENURIGHT: 'dropdown-menu-right',\r\n    MENULEFT: 'dropdown-menu-left',\r\n    // to-do: replace with more advanced template/customization options\r\n    BUTTONCLASS: 'btn-default',\r\n    POPOVERHEADER: 'popover-title',\r\n    ICONBASE: 'glyphicon',\r\n    TICKICON: 'glyphicon-ok'\r\n  }\r\n\r\n  var Selector = {\r\n    MENU: '.' + classNames.MENU\r\n  }\r\n\r\n  var elementTemplates = {\r\n    div: document.createElement('div'),\r\n    span: document.createElement('span'),\r\n    i: document.createElement('i'),\r\n    subtext: document.createElement('small'),\r\n    a: document.createElement('a'),\r\n    li: document.createElement('li'),\r\n    whitespace: document.createTextNode('\\u00A0'),\r\n    fragment: document.createDocumentFragment()\r\n  }\r\n\r\n  elementTemplates.noResults = elementTemplates.li.cloneNode(false);\r\n  elementTemplates.noResults.className = 'no-results';\r\n\r\n  elementTemplates.a.setAttribute('role', 'option');\r\n  elementTemplates.a.className = 'dropdown-item';\r\n\r\n  elementTemplates.subtext.className = 'text-muted';\r\n\r\n  elementTemplates.text = elementTemplates.span.cloneNode(false);\r\n  elementTemplates.text.className = 'text';\r\n\r\n  elementTemplates.checkMark = elementTemplates.span.cloneNode(false);\r\n\r\n  var REGEXP_ARROW = new RegExp(keyCodes.ARROW_UP + '|' + keyCodes.ARROW_DOWN);\r\n  var REGEXP_TAB_OR_ESCAPE = new RegExp('^' + keyCodes.TAB + '$|' + keyCodes.ESCAPE);\r\n\r\n  var generateOption = {\r\n    li: function (content, classes, optgroup) {\r\n      var li = elementTemplates.li.cloneNode(false);\r\n\r\n      if (content) {\r\n        if (content.nodeType === 1 || content.nodeType === 11) {\r\n          li.appendChild(content);\r\n        } else {\r\n          li.innerHTML = content;\r\n        }\r\n      }\r\n\r\n      if (typeof classes !== 'undefined' && classes !== '') li.className = classes;\r\n      if (typeof optgroup !== 'undefined' && optgroup !== null) li.classList.add('optgroup-' + optgroup);\r\n\r\n      return li;\r\n    },\r\n\r\n    a: function (text, classes, inline) {\r\n      var a = elementTemplates.a.cloneNode(true);\r\n\r\n      if (text) {\r\n        if (text.nodeType === 11) {\r\n          a.appendChild(text);\r\n        } else {\r\n          a.insertAdjacentHTML('beforeend', text);\r\n        }\r\n      }\r\n\r\n      if (typeof classes !== 'undefined' && classes !== '') a.classList.add.apply(a.classList, classes.split(/\\s+/));\r\n      if (inline) a.setAttribute('style', inline);\r\n\r\n      return a;\r\n    },\r\n\r\n    text: function (options, useFragment) {\r\n      var textElement = elementTemplates.text.cloneNode(false),\r\n          subtextElement,\r\n          iconElement;\r\n\r\n      if (options.content) {\r\n        textElement.innerHTML = options.content;\r\n      } else {\r\n        textElement.textContent = options.text;\r\n\r\n        if (options.icon) {\r\n          var whitespace = elementTemplates.whitespace.cloneNode(false);\r\n\r\n          // need to use <i> for icons in the button to prevent a breaking change\r\n          // note: switch to span in next major release\r\n          iconElement = (useFragment === true ? elementTemplates.i : elementTemplates.span).cloneNode(false);\r\n          iconElement.className = this.options.iconBase + ' ' + options.icon;\r\n\r\n          elementTemplates.fragment.appendChild(iconElement);\r\n          elementTemplates.fragment.appendChild(whitespace);\r\n        }\r\n\r\n        if (options.subtext) {\r\n          subtextElement = elementTemplates.subtext.cloneNode(false);\r\n          subtextElement.textContent = options.subtext;\r\n          textElement.appendChild(subtextElement);\r\n        }\r\n      }\r\n\r\n      if (useFragment === true) {\r\n        while (textElement.childNodes.length > 0) {\r\n          elementTemplates.fragment.appendChild(textElement.childNodes[0]);\r\n        }\r\n      } else {\r\n        elementTemplates.fragment.appendChild(textElement);\r\n      }\r\n\r\n      return elementTemplates.fragment;\r\n    },\r\n\r\n    label: function (options) {\r\n      var textElement = elementTemplates.text.cloneNode(false),\r\n          subtextElement,\r\n          iconElement;\r\n\r\n      textElement.innerHTML = options.display;\r\n\r\n      if (options.icon) {\r\n        var whitespace = elementTemplates.whitespace.cloneNode(false);\r\n\r\n        iconElement = elementTemplates.span.cloneNode(false);\r\n        iconElement.className = this.options.iconBase + ' ' + options.icon;\r\n\r\n        elementTemplates.fragment.appendChild(iconElement);\r\n        elementTemplates.fragment.appendChild(whitespace);\r\n      }\r\n\r\n      if (options.subtext) {\r\n        subtextElement = elementTemplates.subtext.cloneNode(false);\r\n        subtextElement.textContent = options.subtext;\r\n        textElement.appendChild(subtextElement);\r\n      }\r\n\r\n      elementTemplates.fragment.appendChild(textElement);\r\n\r\n      return elementTemplates.fragment;\r\n    }\r\n  }\r\n\r\n  function showNoResults (searchMatch, searchValue) {\r\n    if (!searchMatch.length) {\r\n      elementTemplates.noResults.innerHTML = this.options.noneResultsText.replace('{0}', '\"' + htmlEscape(searchValue) + '\"');\r\n      this.$menuInner[0].firstChild.appendChild(elementTemplates.noResults);\r\n    }\r\n  }\r\n\r\n  var Selectpicker = function (element, options) {\r\n    var that = this;\r\n\r\n    // bootstrap-select has been initialized - revert valHooks.select.set back to its original function\r\n    if (!valHooks.useDefault) {\r\n      $.valHooks.select.set = valHooks._set;\r\n      valHooks.useDefault = true;\r\n    }\r\n\r\n    this.$element = $(element);\r\n    this.$newElement = null;\r\n    this.$button = null;\r\n    this.$menu = null;\r\n    this.options = options;\r\n    this.selectpicker = {\r\n      main: {},\r\n      search: {},\r\n      current: {}, // current changes if a search is in progress\r\n      view: {},\r\n      isSearching: false,\r\n      keydown: {\r\n        keyHistory: '',\r\n        resetKeyHistory: {\r\n          start: function () {\r\n            return setTimeout(function () {\r\n              that.selectpicker.keydown.keyHistory = '';\r\n            }, 800);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    this.sizeInfo = {};\r\n\r\n    // If we have no title yet, try to pull it from the html title attribute (jQuery doesnt' pick it up as it's not a\r\n    // data-attribute)\r\n    if (this.options.title === null) {\r\n      this.options.title = this.$element.attr('title');\r\n    }\r\n\r\n    // Format window padding\r\n    var winPad = this.options.windowPadding;\r\n    if (typeof winPad === 'number') {\r\n      this.options.windowPadding = [winPad, winPad, winPad, winPad];\r\n    }\r\n\r\n    // Expose public methods\r\n    this.val = Selectpicker.prototype.val;\r\n    this.render = Selectpicker.prototype.render;\r\n    this.refresh = Selectpicker.prototype.refresh;\r\n    this.setStyle = Selectpicker.prototype.setStyle;\r\n    this.selectAll = Selectpicker.prototype.selectAll;\r\n    this.deselectAll = Selectpicker.prototype.deselectAll;\r\n    this.destroy = Selectpicker.prototype.destroy;\r\n    this.remove = Selectpicker.prototype.remove;\r\n    this.show = Selectpicker.prototype.show;\r\n    this.hide = Selectpicker.prototype.hide;\r\n\r\n    this.init();\r\n  };\r\n\r\n  Selectpicker.VERSION = '1.13.18';\r\n\r\n  // part of this is duplicated in i18n/defaults-en_US.js. Make sure to update both.\r\n  Selectpicker.DEFAULTS = {\r\n    noneSelectedText: 'Nothing selected',\r\n    noneResultsText: 'No results matched {0}',\r\n    countSelectedText: function (numSelected, numTotal) {\r\n      return (numSelected == 1) ? '{0} item selected' : '{0} items selected';\r\n    },\r\n    maxOptionsText: function (numAll, numGroup) {\r\n      return [\r\n        (numAll == 1) ? 'Limit reached ({n} item max)' : 'Limit reached ({n} items max)',\r\n        (numGroup == 1) ? 'Group limit reached ({n} item max)' : 'Group limit reached ({n} items max)'\r\n      ];\r\n    },\r\n    selectAllText: 'Select All',\r\n    deselectAllText: 'Deselect All',\r\n    doneButton: false,\r\n    doneButtonText: 'Close',\r\n    multipleSeparator: ', ',\r\n    styleBase: 'btn',\r\n    style: classNames.BUTTONCLASS,\r\n    size: 'auto',\r\n    title: null,\r\n    selectedTextFormat: 'values',\r\n    width: false,\r\n    container: false,\r\n    hideDisabled: false,\r\n    showSubtext: false,\r\n    showIcon: true,\r\n    showContent: true,\r\n    dropupAuto: true,\r\n    header: false,\r\n    liveSearch: false,\r\n    liveSearchPlaceholder: null,\r\n    liveSearchNormalize: false,\r\n    liveSearchStyle: 'contains',\r\n    actionsBox: false,\r\n    iconBase: classNames.ICONBASE,\r\n    tickIcon: classNames.TICKICON,\r\n    showTick: false,\r\n    template: {\r\n      caret: '<span class=\"caret\"></span>'\r\n    },\r\n    maxOptions: false,\r\n    mobile: false,\r\n    selectOnTab: false,\r\n    dropdownAlignRight: false,\r\n    windowPadding: 0,\r\n    virtualScroll: 600,\r\n    display: false,\r\n    sanitize: true,\r\n    sanitizeFn: null,\r\n    whiteList: DefaultWhitelist\r\n  };\r\n\r\n  Selectpicker.prototype = {\r\n\r\n    constructor: Selectpicker,\r\n\r\n    init: function () {\r\n      var that = this,\r\n          id = this.$element.attr('id'),\r\n          element = this.$element[0],\r\n          form = element.form;\r\n\r\n      selectId++;\r\n      this.selectId = 'bs-select-' + selectId;\r\n\r\n      element.classList.add('bs-select-hidden');\r\n\r\n      this.multiple = this.$element.prop('multiple');\r\n      this.autofocus = this.$element.prop('autofocus');\r\n\r\n      if (element.classList.contains('show-tick')) {\r\n        this.options.showTick = true;\r\n      }\r\n\r\n      this.$newElement = this.createDropdown();\r\n      this.buildData();\r\n      this.$element\r\n        .after(this.$newElement)\r\n        .prependTo(this.$newElement);\r\n\r\n      // ensure select is associated with form element if it got unlinked after moving it inside newElement\r\n      if (form && element.form === null) {\r\n        if (!form.id) form.id = 'form-' + this.selectId;\r\n        element.setAttribute('form', form.id);\r\n      }\r\n\r\n      this.$button = this.$newElement.children('button');\r\n      this.$menu = this.$newElement.children(Selector.MENU);\r\n      this.$menuInner = this.$menu.children('.inner');\r\n      this.$searchbox = this.$menu.find('input');\r\n\r\n      element.classList.remove('bs-select-hidden');\r\n\r\n      if (this.options.dropdownAlignRight === true) this.$menu[0].classList.add(classNames.MENURIGHT);\r\n\r\n      if (typeof id !== 'undefined') {\r\n        this.$button.attr('data-id', id);\r\n      }\r\n\r\n      this.checkDisabled();\r\n      this.clickListener();\r\n\r\n      if (this.options.liveSearch) {\r\n        this.liveSearchListener();\r\n        this.focusedParent = this.$searchbox[0];\r\n      } else {\r\n        this.focusedParent = this.$menuInner[0];\r\n      }\r\n\r\n      this.setStyle();\r\n      this.render();\r\n      this.setWidth();\r\n      if (this.options.container) {\r\n        this.selectPosition();\r\n      } else {\r\n        this.$element.on('hide' + EVENT_KEY, function () {\r\n          if (that.isVirtual()) {\r\n            // empty menu on close\r\n            var menuInner = that.$menuInner[0],\r\n                emptyMenu = menuInner.firstChild.cloneNode(false);\r\n\r\n            // replace the existing UL with an empty one - this is faster than $.empty() or innerHTML = ''\r\n            menuInner.replaceChild(emptyMenu, menuInner.firstChild);\r\n            menuInner.scrollTop = 0;\r\n          }\r\n        });\r\n      }\r\n      this.$menu.data('this', this);\r\n      this.$newElement.data('this', this);\r\n      if (this.options.mobile) this.mobile();\r\n\r\n      this.$newElement.on({\r\n        'hide.bs.dropdown': function (e) {\r\n          that.$element.trigger('hide' + EVENT_KEY, e);\r\n        },\r\n        'hidden.bs.dropdown': function (e) {\r\n          that.$element.trigger('hidden' + EVENT_KEY, e);\r\n        },\r\n        'show.bs.dropdown': function (e) {\r\n          that.$element.trigger('show' + EVENT_KEY, e);\r\n        },\r\n        'shown.bs.dropdown': function (e) {\r\n          that.$element.trigger('shown' + EVENT_KEY, e);\r\n        }\r\n      });\r\n\r\n      if (element.hasAttribute('required')) {\r\n        this.$element.on('invalid' + EVENT_KEY, function () {\r\n          that.$button[0].classList.add('bs-invalid');\r\n\r\n          that.$element\r\n            .on('shown' + EVENT_KEY + '.invalid', function () {\r\n              that.$element\r\n                .val(that.$element.val()) // set the value to hide the validation message in Chrome when menu is opened\r\n                .off('shown' + EVENT_KEY + '.invalid');\r\n            })\r\n            .on('rendered' + EVENT_KEY, function () {\r\n              // if select is no longer invalid, remove the bs-invalid class\r\n              if (this.validity.valid) that.$button[0].classList.remove('bs-invalid');\r\n              that.$element.off('rendered' + EVENT_KEY);\r\n            });\r\n\r\n          that.$button.on('blur' + EVENT_KEY, function () {\r\n            that.$element.trigger('focus').trigger('blur');\r\n            that.$button.off('blur' + EVENT_KEY);\r\n          });\r\n        });\r\n      }\r\n\r\n      setTimeout(function () {\r\n        that.buildList();\r\n        that.$element.trigger('loaded' + EVENT_KEY);\r\n      });\r\n    },\r\n\r\n    createDropdown: function () {\r\n      // Options\r\n      // If we are multiple or showTick option is set, then add the show-tick class\r\n      var showTick = (this.multiple || this.options.showTick) ? ' show-tick' : '',\r\n          multiselectable = this.multiple ? ' aria-multiselectable=\"true\"' : '',\r\n          inputGroup = '',\r\n          autofocus = this.autofocus ? ' autofocus' : '';\r\n\r\n      if (version.major < 4 && this.$element.parent().hasClass('input-group')) {\r\n        inputGroup = ' input-group-btn';\r\n      }\r\n\r\n      // Elements\r\n      var drop,\r\n          header = '',\r\n          searchbox = '',\r\n          actionsbox = '',\r\n          donebutton = '';\r\n\r\n      if (this.options.header) {\r\n        header =\r\n          '<div class=\"' + classNames.POPOVERHEADER + '\">' +\r\n            '<button type=\"button\" class=\"close\" aria-hidden=\"true\">&times;</button>' +\r\n              this.options.header +\r\n          '</div>';\r\n      }\r\n\r\n      if (this.options.liveSearch) {\r\n        searchbox =\r\n          '<div class=\"bs-searchbox\">' +\r\n            '<input type=\"search\" class=\"form-control\" autocomplete=\"off\"' +\r\n              (\r\n                this.options.liveSearchPlaceholder === null ? ''\r\n                :\r\n                ' placeholder=\"' + htmlEscape(this.options.liveSearchPlaceholder) + '\"'\r\n              ) +\r\n              ' role=\"combobox\" aria-label=\"Search\" aria-controls=\"' + this.selectId + '\" aria-autocomplete=\"list\">' +\r\n          '</div>';\r\n      }\r\n\r\n      if (this.multiple && this.options.actionsBox) {\r\n        actionsbox =\r\n          '<div class=\"bs-actionsbox\">' +\r\n            '<div class=\"btn-group btn-group-sm btn-block\">' +\r\n              '<button type=\"button\" class=\"actions-btn bs-select-all btn ' + classNames.BUTTONCLASS + '\">' +\r\n                this.options.selectAllText +\r\n              '</button>' +\r\n              '<button type=\"button\" class=\"actions-btn bs-deselect-all btn ' + classNames.BUTTONCLASS + '\">' +\r\n                this.options.deselectAllText +\r\n              '</button>' +\r\n            '</div>' +\r\n          '</div>';\r\n      }\r\n\r\n      if (this.multiple && this.options.doneButton) {\r\n        donebutton =\r\n          '<div class=\"bs-donebutton\">' +\r\n            '<div class=\"btn-group btn-block\">' +\r\n              '<button type=\"button\" class=\"btn btn-sm ' + classNames.BUTTONCLASS + '\">' +\r\n                this.options.doneButtonText +\r\n              '</button>' +\r\n            '</div>' +\r\n          '</div>';\r\n      }\r\n\r\n      drop =\r\n        '<div class=\"dropdown bootstrap-select' + showTick + inputGroup + '\">' +\r\n          '<button type=\"button\" tabindex=\"-1\" class=\"' + this.options.styleBase + ' dropdown-toggle\" ' + (this.options.display === 'static' ? 'data-display=\"static\"' : '') + 'data-toggle=\"dropdown\"' + autofocus + ' role=\"combobox\" aria-owns=\"' + this.selectId + '\" aria-haspopup=\"listbox\" aria-expanded=\"false\">' +\r\n            '<div class=\"filter-option\">' +\r\n              '<div class=\"filter-option-inner\">' +\r\n                '<div class=\"filter-option-inner-inner\"></div>' +\r\n              '</div> ' +\r\n            '</div>' +\r\n            (\r\n              version.major === '4' ? ''\r\n              :\r\n              '<span class=\"bs-caret\">' +\r\n                this.options.template.caret +\r\n              '</span>'\r\n            ) +\r\n          '</button>' +\r\n          '<div class=\"' + classNames.MENU + ' ' + (version.major === '4' ? '' : classNames.SHOW) + '\">' +\r\n            header +\r\n            searchbox +\r\n            actionsbox +\r\n            '<div class=\"inner ' + classNames.SHOW + '\" role=\"listbox\" id=\"' + this.selectId + '\" tabindex=\"-1\" ' + multiselectable + '>' +\r\n                '<ul class=\"' + classNames.MENU + ' inner ' + (version.major === '4' ? classNames.SHOW : '') + '\" role=\"presentation\">' +\r\n                '</ul>' +\r\n            '</div>' +\r\n            donebutton +\r\n          '</div>' +\r\n        '</div>';\r\n\r\n      return $(drop);\r\n    },\r\n\r\n    setPositionData: function () {\r\n      this.selectpicker.view.canHighlight = [];\r\n      this.selectpicker.view.size = 0;\r\n      this.selectpicker.view.firstHighlightIndex = false;\r\n\r\n      for (var i = 0; i < this.selectpicker.current.data.length; i++) {\r\n        var li = this.selectpicker.current.data[i],\r\n            canHighlight = true;\r\n\r\n        if (li.type === 'divider') {\r\n          canHighlight = false;\r\n          li.height = this.sizeInfo.dividerHeight;\r\n        } else if (li.type === 'optgroup-label') {\r\n          canHighlight = false;\r\n          li.height = this.sizeInfo.dropdownHeaderHeight;\r\n        } else {\r\n          li.height = this.sizeInfo.liHeight;\r\n        }\r\n\r\n        if (li.disabled) canHighlight = false;\r\n\r\n        this.selectpicker.view.canHighlight.push(canHighlight);\r\n\r\n        if (canHighlight) {\r\n          this.selectpicker.view.size++;\r\n          li.posinset = this.selectpicker.view.size;\r\n          if (this.selectpicker.view.firstHighlightIndex === false) this.selectpicker.view.firstHighlightIndex = i;\r\n        }\r\n\r\n        li.position = (i === 0 ? 0 : this.selectpicker.current.data[i - 1].position) + li.height;\r\n      }\r\n    },\r\n\r\n    isVirtual: function () {\r\n      return (this.options.virtualScroll !== false) && (this.selectpicker.main.elements.length >= this.options.virtualScroll) || this.options.virtualScroll === true;\r\n    },\r\n\r\n    createView: function (isSearching, setSize, refresh) {\r\n      var that = this,\r\n          scrollTop = 0,\r\n          active = [],\r\n          selected,\r\n          prevActive;\r\n\r\n      this.selectpicker.isSearching = isSearching;\r\n      this.selectpicker.current = isSearching ? this.selectpicker.search : this.selectpicker.main;\r\n\r\n      this.setPositionData();\r\n\r\n      if (setSize) {\r\n        if (refresh) {\r\n          scrollTop = this.$menuInner[0].scrollTop;\r\n        } else if (!that.multiple) {\r\n          var element = that.$element[0],\r\n              selectedIndex = (element.options[element.selectedIndex] || {}).liIndex;\r\n\r\n          if (typeof selectedIndex === 'number' && that.options.size !== false) {\r\n            var selectedData = that.selectpicker.main.data[selectedIndex],\r\n                position = selectedData && selectedData.position;\r\n\r\n            if (position) {\r\n              scrollTop = position - ((that.sizeInfo.menuInnerHeight + that.sizeInfo.liHeight) / 2);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      scroll(scrollTop, true);\r\n\r\n      this.$menuInner.off('scroll.createView').on('scroll.createView', function (e, updateValue) {\r\n        if (!that.noScroll) scroll(this.scrollTop, updateValue);\r\n        that.noScroll = false;\r\n      });\r\n\r\n      function scroll (scrollTop, init) {\r\n        var size = that.selectpicker.current.elements.length,\r\n            chunks = [],\r\n            chunkSize,\r\n            chunkCount,\r\n            firstChunk,\r\n            lastChunk,\r\n            currentChunk,\r\n            prevPositions,\r\n            positionIsDifferent,\r\n            previousElements,\r\n            menuIsDifferent = true,\r\n            isVirtual = that.isVirtual();\r\n\r\n        that.selectpicker.view.scrollTop = scrollTop;\r\n\r\n        chunkSize = Math.ceil(that.sizeInfo.menuInnerHeight / that.sizeInfo.liHeight * 1.5); // number of options in a chunk\r\n        chunkCount = Math.round(size / chunkSize) || 1; // number of chunks\r\n\r\n        for (var i = 0; i < chunkCount; i++) {\r\n          var endOfChunk = (i + 1) * chunkSize;\r\n\r\n          if (i === chunkCount - 1) {\r\n            endOfChunk = size;\r\n          }\r\n\r\n          chunks[i] = [\r\n            (i) * chunkSize + (!i ? 0 : 1),\r\n            endOfChunk\r\n          ];\r\n\r\n          if (!size) break;\r\n\r\n          if (currentChunk === undefined && scrollTop - 1 <= that.selectpicker.current.data[endOfChunk - 1].position - that.sizeInfo.menuInnerHeight) {\r\n            currentChunk = i;\r\n          }\r\n        }\r\n\r\n        if (currentChunk === undefined) currentChunk = 0;\r\n\r\n        prevPositions = [that.selectpicker.view.position0, that.selectpicker.view.position1];\r\n\r\n        // always display previous, current, and next chunks\r\n        firstChunk = Math.max(0, currentChunk - 1);\r\n        lastChunk = Math.min(chunkCount - 1, currentChunk + 1);\r\n\r\n        that.selectpicker.view.position0 = isVirtual === false ? 0 : (Math.max(0, chunks[firstChunk][0]) || 0);\r\n        that.selectpicker.view.position1 = isVirtual === false ? size : (Math.min(size, chunks[lastChunk][1]) || 0);\r\n\r\n        positionIsDifferent = prevPositions[0] !== that.selectpicker.view.position0 || prevPositions[1] !== that.selectpicker.view.position1;\r\n\r\n        if (that.activeIndex !== undefined) {\r\n          prevActive = that.selectpicker.main.elements[that.prevActiveIndex];\r\n          active = that.selectpicker.main.elements[that.activeIndex];\r\n          selected = that.selectpicker.main.elements[that.selectedIndex];\r\n\r\n          if (init) {\r\n            if (that.activeIndex !== that.selectedIndex) {\r\n              that.defocusItem(active);\r\n            }\r\n            that.activeIndex = undefined;\r\n          }\r\n\r\n          if (that.activeIndex && that.activeIndex !== that.selectedIndex) {\r\n            that.defocusItem(selected);\r\n          }\r\n        }\r\n\r\n        if (that.prevActiveIndex !== undefined && that.prevActiveIndex !== that.activeIndex && that.prevActiveIndex !== that.selectedIndex) {\r\n          that.defocusItem(prevActive);\r\n        }\r\n\r\n        if (init || positionIsDifferent) {\r\n          previousElements = that.selectpicker.view.visibleElements ? that.selectpicker.view.visibleElements.slice() : [];\r\n\r\n          if (isVirtual === false) {\r\n            that.selectpicker.view.visibleElements = that.selectpicker.current.elements;\r\n          } else {\r\n            that.selectpicker.view.visibleElements = that.selectpicker.current.elements.slice(that.selectpicker.view.position0, that.selectpicker.view.position1);\r\n          }\r\n\r\n          that.setOptionStatus();\r\n\r\n          // if searching, check to make sure the list has actually been updated before updating DOM\r\n          // this prevents unnecessary repaints\r\n          if (isSearching || (isVirtual === false && init)) menuIsDifferent = !isEqual(previousElements, that.selectpicker.view.visibleElements);\r\n\r\n          // if virtual scroll is disabled and not searching,\r\n          // menu should never need to be updated more than once\r\n          if ((init || isVirtual === true) && menuIsDifferent) {\r\n            var menuInner = that.$menuInner[0],\r\n                menuFragment = document.createDocumentFragment(),\r\n                emptyMenu = menuInner.firstChild.cloneNode(false),\r\n                marginTop,\r\n                marginBottom,\r\n                elements = that.selectpicker.view.visibleElements,\r\n                toSanitize = [];\r\n\r\n            // replace the existing UL with an empty one - this is faster than $.empty()\r\n            menuInner.replaceChild(emptyMenu, menuInner.firstChild);\r\n\r\n            for (var i = 0, visibleElementsLen = elements.length; i < visibleElementsLen; i++) {\r\n              var element = elements[i],\r\n                  elText,\r\n                  elementData;\r\n\r\n              if (that.options.sanitize) {\r\n                elText = element.lastChild;\r\n\r\n                if (elText) {\r\n                  elementData = that.selectpicker.current.data[i + that.selectpicker.view.position0];\r\n\r\n                  if (elementData && elementData.content && !elementData.sanitized) {\r\n                    toSanitize.push(elText);\r\n                    elementData.sanitized = true;\r\n                  }\r\n                }\r\n              }\r\n\r\n              menuFragment.appendChild(element);\r\n            }\r\n\r\n            if (that.options.sanitize && toSanitize.length) {\r\n              sanitizeHtml(toSanitize, that.options.whiteList, that.options.sanitizeFn);\r\n            }\r\n\r\n            if (isVirtual === true) {\r\n              marginTop = (that.selectpicker.view.position0 === 0 ? 0 : that.selectpicker.current.data[that.selectpicker.view.position0 - 1].position);\r\n              marginBottom = (that.selectpicker.view.position1 > size - 1 ? 0 : that.selectpicker.current.data[size - 1].position - that.selectpicker.current.data[that.selectpicker.view.position1 - 1].position);\r\n\r\n              menuInner.firstChild.style.marginTop = marginTop + 'px';\r\n              menuInner.firstChild.style.marginBottom = marginBottom + 'px';\r\n            } else {\r\n              menuInner.firstChild.style.marginTop = 0;\r\n              menuInner.firstChild.style.marginBottom = 0;\r\n            }\r\n\r\n            menuInner.firstChild.appendChild(menuFragment);\r\n\r\n            // if an option is encountered that is wider than the current menu width, update the menu width accordingly\r\n            // switch to ResizeObserver with increased browser support\r\n            if (isVirtual === true && that.sizeInfo.hasScrollBar) {\r\n              var menuInnerInnerWidth = menuInner.firstChild.offsetWidth;\r\n\r\n              if (init && menuInnerInnerWidth < that.sizeInfo.menuInnerInnerWidth && that.sizeInfo.totalMenuWidth > that.sizeInfo.selectWidth) {\r\n                menuInner.firstChild.style.minWidth = that.sizeInfo.menuInnerInnerWidth + 'px';\r\n              } else if (menuInnerInnerWidth > that.sizeInfo.menuInnerInnerWidth) {\r\n                // set to 0 to get actual width of menu\r\n                that.$menu[0].style.minWidth = 0;\r\n\r\n                var actualMenuWidth = menuInner.firstChild.offsetWidth;\r\n\r\n                if (actualMenuWidth > that.sizeInfo.menuInnerInnerWidth) {\r\n                  that.sizeInfo.menuInnerInnerWidth = actualMenuWidth;\r\n                  menuInner.firstChild.style.minWidth = that.sizeInfo.menuInnerInnerWidth + 'px';\r\n                }\r\n\r\n                // reset to default CSS styling\r\n                that.$menu[0].style.minWidth = '';\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        that.prevActiveIndex = that.activeIndex;\r\n\r\n        if (!that.options.liveSearch) {\r\n          that.$menuInner.trigger('focus');\r\n        } else if (isSearching && init) {\r\n          var index = 0,\r\n              newActive;\r\n\r\n          if (!that.selectpicker.view.canHighlight[index]) {\r\n            index = 1 + that.selectpicker.view.canHighlight.slice(1).indexOf(true);\r\n          }\r\n\r\n          newActive = that.selectpicker.view.visibleElements[index];\r\n\r\n          that.defocusItem(that.selectpicker.view.currentActive);\r\n\r\n          that.activeIndex = (that.selectpicker.current.data[index] || {}).index;\r\n\r\n          that.focusItem(newActive);\r\n        }\r\n      }\r\n\r\n      $(window)\r\n        .off('resize' + EVENT_KEY + '.' + this.selectId + '.createView')\r\n        .on('resize' + EVENT_KEY + '.' + this.selectId + '.createView', function () {\r\n          var isActive = that.$newElement.hasClass(classNames.SHOW);\r\n\r\n          if (isActive) scroll(that.$menuInner[0].scrollTop);\r\n        });\r\n    },\r\n\r\n    focusItem: function (li, liData, noStyle) {\r\n      if (li) {\r\n        liData = liData || this.selectpicker.main.data[this.activeIndex];\r\n        var a = li.firstChild;\r\n\r\n        if (a) {\r\n          a.setAttribute('aria-setsize', this.selectpicker.view.size);\r\n          a.setAttribute('aria-posinset', liData.posinset);\r\n\r\n          if (noStyle !== true) {\r\n            this.focusedParent.setAttribute('aria-activedescendant', a.id);\r\n            li.classList.add('active');\r\n            a.classList.add('active');\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    defocusItem: function (li) {\r\n      if (li) {\r\n        li.classList.remove('active');\r\n        if (li.firstChild) li.firstChild.classList.remove('active');\r\n      }\r\n    },\r\n\r\n    setPlaceholder: function () {\r\n      var that = this,\r\n          updateIndex = false;\r\n\r\n      if (this.options.title && !this.multiple) {\r\n        if (!this.selectpicker.view.titleOption) this.selectpicker.view.titleOption = document.createElement('option');\r\n\r\n        // this option doesn't create a new <li> element, but does add a new option at the start,\r\n        // so startIndex should increase to prevent having to check every option for the bs-title-option class\r\n        updateIndex = true;\r\n\r\n        var element = this.$element[0],\r\n            selectTitleOption = false,\r\n            titleNotAppended = !this.selectpicker.view.titleOption.parentNode,\r\n            selectedIndex = element.selectedIndex,\r\n            selectedOption = element.options[selectedIndex],\r\n            navigation = window.performance && window.performance.getEntriesByType('navigation'),\r\n            // Safari doesn't support getEntriesByType('navigation') - fall back to performance.navigation\r\n            isNotBackForward = (navigation && navigation.length) ? navigation[0].type !== 'back_forward' : window.performance.navigation.type !== 2;\r\n\r\n        if (titleNotAppended) {\r\n          // Use native JS to prepend option (faster)\r\n          this.selectpicker.view.titleOption.className = 'bs-title-option';\r\n          this.selectpicker.view.titleOption.value = '';\r\n\r\n          // Check if selected or data-selected attribute is already set on an option. If not, select the titleOption option.\r\n          // the selected item may have been changed by user or programmatically before the bootstrap select plugin runs,\r\n          // if so, the select will have the data-selected attribute\r\n          selectTitleOption = !selectedOption || (selectedIndex === 0 && selectedOption.defaultSelected === false && this.$element.data('selected') === undefined);\r\n        }\r\n\r\n        if (titleNotAppended || this.selectpicker.view.titleOption.index !== 0) {\r\n          element.insertBefore(this.selectpicker.view.titleOption, element.firstChild);\r\n        }\r\n\r\n        // Set selected *after* appending to select,\r\n        // otherwise the option doesn't get selected in IE\r\n        // set using selectedIndex, as setting the selected attr to true here doesn't work in IE11\r\n        if (selectTitleOption && isNotBackForward) {\r\n          element.selectedIndex = 0;\r\n        } else if (document.readyState !== 'complete') {\r\n          // if navigation type is back_forward, there's a chance the select will have its value set by BFCache\r\n          // wait for that value to be set, then run render again\r\n          window.addEventListener('pageshow', function () {\r\n            if (that.selectpicker.view.displayedValue !== element.value) that.render();\r\n          });\r\n        }\r\n      }\r\n\r\n      return updateIndex;\r\n    },\r\n\r\n    buildData: function () {\r\n      var optionSelector = ':not([hidden]):not([data-hidden=\"true\"])',\r\n          mainData = [],\r\n          optID = 0,\r\n          startIndex = this.setPlaceholder() ? 1 : 0; // append the titleOption if necessary and skip the first option in the loop\r\n\r\n      if (this.options.hideDisabled) optionSelector += ':not(:disabled)';\r\n\r\n      var selectOptions = this.$element[0].querySelectorAll('select > *' + optionSelector);\r\n\r\n      function addDivider (config) {\r\n        var previousData = mainData[mainData.length - 1];\r\n\r\n        // ensure optgroup doesn't create back-to-back dividers\r\n        if (\r\n          previousData &&\r\n          previousData.type === 'divider' &&\r\n          (previousData.optID || config.optID)\r\n        ) {\r\n          return;\r\n        }\r\n\r\n        config = config || {};\r\n        config.type = 'divider';\r\n\r\n        mainData.push(config);\r\n      }\r\n\r\n      function addOption (option, config) {\r\n        config = config || {};\r\n\r\n        config.divider = option.getAttribute('data-divider') === 'true';\r\n\r\n        if (config.divider) {\r\n          addDivider({\r\n            optID: config.optID\r\n          });\r\n        } else {\r\n          var liIndex = mainData.length,\r\n              cssText = option.style.cssText,\r\n              inlineStyle = cssText ? htmlEscape(cssText) : '',\r\n              optionClass = (option.className || '') + (config.optgroupClass || '');\r\n\r\n          if (config.optID) optionClass = 'opt ' + optionClass;\r\n\r\n          config.optionClass = optionClass.trim();\r\n          config.inlineStyle = inlineStyle;\r\n          config.text = option.textContent;\r\n\r\n          config.content = option.getAttribute('data-content');\r\n          config.tokens = option.getAttribute('data-tokens');\r\n          config.subtext = option.getAttribute('data-subtext');\r\n          config.icon = option.getAttribute('data-icon');\r\n\r\n          option.liIndex = liIndex;\r\n\r\n          config.display = config.content || config.text;\r\n          config.type = 'option';\r\n          config.index = liIndex;\r\n          config.option = option;\r\n          config.selected = !!option.selected;\r\n          config.disabled = config.disabled || !!option.disabled;\r\n\r\n          mainData.push(config);\r\n        }\r\n      }\r\n\r\n      function addOptgroup (index, selectOptions) {\r\n        var optgroup = selectOptions[index],\r\n            // skip placeholder option\r\n            previous = index - 1 < startIndex ? false : selectOptions[index - 1],\r\n            next = selectOptions[index + 1],\r\n            options = optgroup.querySelectorAll('option' + optionSelector);\r\n\r\n        if (!options.length) return;\r\n\r\n        var config = {\r\n              display: htmlEscape(optgroup.label),\r\n              subtext: optgroup.getAttribute('data-subtext'),\r\n              icon: optgroup.getAttribute('data-icon'),\r\n              type: 'optgroup-label',\r\n              optgroupClass: ' ' + (optgroup.className || '')\r\n            },\r\n            headerIndex,\r\n            lastIndex;\r\n\r\n        optID++;\r\n\r\n        if (previous) {\r\n          addDivider({ optID: optID });\r\n        }\r\n\r\n        config.optID = optID;\r\n\r\n        mainData.push(config);\r\n\r\n        for (var j = 0, len = options.length; j < len; j++) {\r\n          var option = options[j];\r\n\r\n          if (j === 0) {\r\n            headerIndex = mainData.length - 1;\r\n            lastIndex = headerIndex + len;\r\n          }\r\n\r\n          addOption(option, {\r\n            headerIndex: headerIndex,\r\n            lastIndex: lastIndex,\r\n            optID: config.optID,\r\n            optgroupClass: config.optgroupClass,\r\n            disabled: optgroup.disabled\r\n          });\r\n        }\r\n\r\n        if (next) {\r\n          addDivider({ optID: optID });\r\n        }\r\n      }\r\n\r\n      for (var len = selectOptions.length, i = startIndex; i < len; i++) {\r\n        var item = selectOptions[i];\r\n\r\n        if (item.tagName !== 'OPTGROUP') {\r\n          addOption(item, {});\r\n        } else {\r\n          addOptgroup(i, selectOptions);\r\n        }\r\n      }\r\n\r\n      this.selectpicker.main.data = this.selectpicker.current.data = mainData;\r\n    },\r\n\r\n    buildList: function () {\r\n      var that = this,\r\n          selectData = this.selectpicker.main.data,\r\n          mainElements = [],\r\n          widestOptionLength = 0;\r\n\r\n      if ((that.options.showTick || that.multiple) && !elementTemplates.checkMark.parentNode) {\r\n        elementTemplates.checkMark.className = this.options.iconBase + ' ' + that.options.tickIcon + ' check-mark';\r\n        elementTemplates.a.appendChild(elementTemplates.checkMark);\r\n      }\r\n\r\n      function buildElement (item) {\r\n        var liElement,\r\n            combinedLength = 0;\r\n\r\n        switch (item.type) {\r\n          case 'divider':\r\n            liElement = generateOption.li(\r\n              false,\r\n              classNames.DIVIDER,\r\n              (item.optID ? item.optID + 'div' : undefined)\r\n            );\r\n\r\n            break;\r\n\r\n          case 'option':\r\n            liElement = generateOption.li(\r\n              generateOption.a(\r\n                generateOption.text.call(that, item),\r\n                item.optionClass,\r\n                item.inlineStyle\r\n              ),\r\n              '',\r\n              item.optID\r\n            );\r\n\r\n            if (liElement.firstChild) {\r\n              liElement.firstChild.id = that.selectId + '-' + item.index;\r\n            }\r\n\r\n            break;\r\n\r\n          case 'optgroup-label':\r\n            liElement = generateOption.li(\r\n              generateOption.label.call(that, item),\r\n              'dropdown-header' + item.optgroupClass,\r\n              item.optID\r\n            );\r\n\r\n            break;\r\n        }\r\n\r\n        item.element = liElement;\r\n        mainElements.push(liElement);\r\n\r\n        // count the number of characters in the option - not perfect, but should work in most cases\r\n        if (item.display) combinedLength += item.display.length;\r\n        if (item.subtext) combinedLength += item.subtext.length;\r\n        // if there is an icon, ensure this option's width is checked\r\n        if (item.icon) combinedLength += 1;\r\n\r\n        if (combinedLength > widestOptionLength) {\r\n          widestOptionLength = combinedLength;\r\n\r\n          // guess which option is the widest\r\n          // use this when calculating menu width\r\n          // not perfect, but it's fast, and the width will be updating accordingly when scrolling\r\n          that.selectpicker.view.widestOption = mainElements[mainElements.length - 1];\r\n        }\r\n      }\r\n\r\n      for (var len = selectData.length, i = 0; i < len; i++) {\r\n        var item = selectData[i];\r\n\r\n        buildElement(item);\r\n      }\r\n\r\n      this.selectpicker.main.elements = this.selectpicker.current.elements = mainElements;\r\n    },\r\n\r\n    findLis: function () {\r\n      return this.$menuInner.find('.inner > li');\r\n    },\r\n\r\n    render: function () {\r\n      var that = this,\r\n          element = this.$element[0],\r\n          // ensure titleOption is appended and selected (if necessary) before getting selectedOptions\r\n          placeholderSelected = this.setPlaceholder() && element.selectedIndex === 0,\r\n          selectedOptions = getSelectedOptions(element, this.options.hideDisabled),\r\n          selectedCount = selectedOptions.length,\r\n          button = this.$button[0],\r\n          buttonInner = button.querySelector('.filter-option-inner-inner'),\r\n          multipleSeparator = document.createTextNode(this.options.multipleSeparator),\r\n          titleFragment = elementTemplates.fragment.cloneNode(false),\r\n          showCount,\r\n          countMax,\r\n          hasContent = false;\r\n\r\n      button.classList.toggle('bs-placeholder', that.multiple ? !selectedCount : !getSelectValues(element, selectedOptions));\r\n\r\n      if (!that.multiple && selectedOptions.length === 1) {\r\n        that.selectpicker.view.displayedValue = getSelectValues(element, selectedOptions);\r\n      }\r\n\r\n      if (this.options.selectedTextFormat === 'static') {\r\n        titleFragment = generateOption.text.call(this, { text: this.options.title }, true);\r\n      } else {\r\n        showCount = this.multiple && this.options.selectedTextFormat.indexOf('count') !== -1 && selectedCount > 1;\r\n\r\n        // determine if the number of selected options will be shown (showCount === true)\r\n        if (showCount) {\r\n          countMax = this.options.selectedTextFormat.split('>');\r\n          showCount = (countMax.length > 1 && selectedCount > countMax[1]) || (countMax.length === 1 && selectedCount >= 2);\r\n        }\r\n\r\n        // only loop through all selected options if the count won't be shown\r\n        if (showCount === false) {\r\n          if (!placeholderSelected) {\r\n            for (var selectedIndex = 0; selectedIndex < selectedCount; selectedIndex++) {\r\n              if (selectedIndex < 50) {\r\n                var option = selectedOptions[selectedIndex],\r\n                    thisData = this.selectpicker.main.data[option.liIndex],\r\n                    titleOptions = {};\r\n\r\n                if (this.multiple && selectedIndex > 0) {\r\n                  titleFragment.appendChild(multipleSeparator.cloneNode(false));\r\n                }\r\n\r\n                if (option.title) {\r\n                  titleOptions.text = option.title;\r\n                } else if (thisData) {\r\n                  if (thisData.content && that.options.showContent) {\r\n                    titleOptions.content = thisData.content.toString();\r\n                    hasContent = true;\r\n                  } else {\r\n                    if (that.options.showIcon) {\r\n                      titleOptions.icon = thisData.icon;\r\n                    }\r\n                    if (that.options.showSubtext && !that.multiple && thisData.subtext) titleOptions.subtext = ' ' + thisData.subtext;\r\n                    titleOptions.text = option.textContent.trim();\r\n                  }\r\n                }\r\n\r\n                titleFragment.appendChild(generateOption.text.call(this, titleOptions, true));\r\n              } else {\r\n                break;\r\n              }\r\n            }\r\n\r\n            // add ellipsis\r\n            if (selectedCount > 49) {\r\n              titleFragment.appendChild(document.createTextNode('...'));\r\n            }\r\n          }\r\n        } else {\r\n          var optionSelector = ':not([hidden]):not([data-hidden=\"true\"]):not([data-divider=\"true\"])';\r\n          if (this.options.hideDisabled) optionSelector += ':not(:disabled)';\r\n\r\n          // If this is a multiselect, and selectedTextFormat is count, then show 1 of 2 selected, etc.\r\n          var totalCount = this.$element[0].querySelectorAll('select > option' + optionSelector + ', optgroup' + optionSelector + ' option' + optionSelector).length,\r\n              tr8nText = (typeof this.options.countSelectedText === 'function') ? this.options.countSelectedText(selectedCount, totalCount) : this.options.countSelectedText;\r\n\r\n          titleFragment = generateOption.text.call(this, {\r\n            text: tr8nText.replace('{0}', selectedCount.toString()).replace('{1}', totalCount.toString())\r\n          }, true);\r\n        }\r\n      }\r\n\r\n      if (this.options.title == undefined) {\r\n        // use .attr to ensure undefined is returned if title attribute is not set\r\n        this.options.title = this.$element.attr('title');\r\n      }\r\n\r\n      // If the select doesn't have a title, then use the default, or if nothing is set at all, use noneSelectedText\r\n      if (!titleFragment.childNodes.length) {\r\n        titleFragment = generateOption.text.call(this, {\r\n          text: typeof this.options.title !== 'undefined' ? this.options.title : this.options.noneSelectedText\r\n        }, true);\r\n      }\r\n\r\n      // strip all HTML tags and trim the result, then unescape any escaped tags\r\n      button.title = titleFragment.textContent.replace(/<[^>]*>?/g, '').trim();\r\n\r\n      if (this.options.sanitize && hasContent) {\r\n        sanitizeHtml([titleFragment], that.options.whiteList, that.options.sanitizeFn);\r\n      }\r\n\r\n      buttonInner.innerHTML = '';\r\n      buttonInner.appendChild(titleFragment);\r\n\r\n      if (version.major < 4 && this.$newElement[0].classList.contains('bs3-has-addon')) {\r\n        var filterExpand = button.querySelector('.filter-expand'),\r\n            clone = buttonInner.cloneNode(true);\r\n\r\n        clone.className = 'filter-expand';\r\n\r\n        if (filterExpand) {\r\n          button.replaceChild(clone, filterExpand);\r\n        } else {\r\n          button.appendChild(clone);\r\n        }\r\n      }\r\n\r\n      this.$element.trigger('rendered' + EVENT_KEY);\r\n    },\r\n\r\n    /**\r\n     * @param [style]\r\n     * @param [status]\r\n     */\r\n    setStyle: function (newStyle, status) {\r\n      var button = this.$button[0],\r\n          newElement = this.$newElement[0],\r\n          style = this.options.style.trim(),\r\n          buttonClass;\r\n\r\n      if (this.$element.attr('class')) {\r\n        this.$newElement.addClass(this.$element.attr('class').replace(/selectpicker|mobile-device|bs-select-hidden|validate\\[.*\\]/gi, ''));\r\n      }\r\n\r\n      if (version.major < 4) {\r\n        newElement.classList.add('bs3');\r\n\r\n        if (newElement.parentNode.classList && newElement.parentNode.classList.contains('input-group') &&\r\n            (newElement.previousElementSibling || newElement.nextElementSibling) &&\r\n            (newElement.previousElementSibling || newElement.nextElementSibling).classList.contains('input-group-addon')\r\n        ) {\r\n          newElement.classList.add('bs3-has-addon');\r\n        }\r\n      }\r\n\r\n      if (newStyle) {\r\n        buttonClass = newStyle.trim();\r\n      } else {\r\n        buttonClass = style;\r\n      }\r\n\r\n      if (status == 'add') {\r\n        if (buttonClass) button.classList.add.apply(button.classList, buttonClass.split(' '));\r\n      } else if (status == 'remove') {\r\n        if (buttonClass) button.classList.remove.apply(button.classList, buttonClass.split(' '));\r\n      } else {\r\n        if (style) button.classList.remove.apply(button.classList, style.split(' '));\r\n        if (buttonClass) button.classList.add.apply(button.classList, buttonClass.split(' '));\r\n      }\r\n    },\r\n\r\n    liHeight: function (refresh) {\r\n      if (!refresh && (this.options.size === false || Object.keys(this.sizeInfo).length)) return;\r\n\r\n      var newElement = elementTemplates.div.cloneNode(false),\r\n          menu = elementTemplates.div.cloneNode(false),\r\n          menuInner = elementTemplates.div.cloneNode(false),\r\n          menuInnerInner = document.createElement('ul'),\r\n          divider = elementTemplates.li.cloneNode(false),\r\n          dropdownHeader = elementTemplates.li.cloneNode(false),\r\n          li,\r\n          a = elementTemplates.a.cloneNode(false),\r\n          text = elementTemplates.span.cloneNode(false),\r\n          header = this.options.header && this.$menu.find('.' + classNames.POPOVERHEADER).length > 0 ? this.$menu.find('.' + classNames.POPOVERHEADER)[0].cloneNode(true) : null,\r\n          search = this.options.liveSearch ? elementTemplates.div.cloneNode(false) : null,\r\n          actions = this.options.actionsBox && this.multiple && this.$menu.find('.bs-actionsbox').length > 0 ? this.$menu.find('.bs-actionsbox')[0].cloneNode(true) : null,\r\n          doneButton = this.options.doneButton && this.multiple && this.$menu.find('.bs-donebutton').length > 0 ? this.$menu.find('.bs-donebutton')[0].cloneNode(true) : null,\r\n          firstOption = this.$element.find('option')[0];\r\n\r\n      this.sizeInfo.selectWidth = this.$newElement[0].offsetWidth;\r\n\r\n      text.className = 'text';\r\n      a.className = 'dropdown-item ' + (firstOption ? firstOption.className : '');\r\n      newElement.className = this.$menu[0].parentNode.className + ' ' + classNames.SHOW;\r\n      newElement.style.width = 0; // ensure button width doesn't affect natural width of menu when calculating\r\n      if (this.options.width === 'auto') menu.style.minWidth = 0;\r\n      menu.className = classNames.MENU + ' ' + classNames.SHOW;\r\n      menuInner.className = 'inner ' + classNames.SHOW;\r\n      menuInnerInner.className = classNames.MENU + ' inner ' + (version.major === '4' ? classNames.SHOW : '');\r\n      divider.className = classNames.DIVIDER;\r\n      dropdownHeader.className = 'dropdown-header';\r\n\r\n      text.appendChild(document.createTextNode('\\u200b'));\r\n\r\n      if (this.selectpicker.current.data.length) {\r\n        for (var i = 0; i < this.selectpicker.current.data.length; i++) {\r\n          var data = this.selectpicker.current.data[i];\r\n          if (data.type === 'option') {\r\n            li = data.element;\r\n            break;\r\n          }\r\n        }\r\n      } else {\r\n        li = elementTemplates.li.cloneNode(false);\r\n        a.appendChild(text);\r\n        li.appendChild(a);\r\n      }\r\n\r\n      dropdownHeader.appendChild(text.cloneNode(true));\r\n\r\n      if (this.selectpicker.view.widestOption) {\r\n        menuInnerInner.appendChild(this.selectpicker.view.widestOption.cloneNode(true));\r\n      }\r\n\r\n      menuInnerInner.appendChild(li);\r\n      menuInnerInner.appendChild(divider);\r\n      menuInnerInner.appendChild(dropdownHeader);\r\n      if (header) menu.appendChild(header);\r\n      if (search) {\r\n        var input = document.createElement('input');\r\n        search.className = 'bs-searchbox';\r\n        input.className = 'form-control';\r\n        search.appendChild(input);\r\n        menu.appendChild(search);\r\n      }\r\n      if (actions) menu.appendChild(actions);\r\n      menuInner.appendChild(menuInnerInner);\r\n      menu.appendChild(menuInner);\r\n      if (doneButton) menu.appendChild(doneButton);\r\n      newElement.appendChild(menu);\r\n\r\n      document.body.appendChild(newElement);\r\n\r\n      var liHeight = li.offsetHeight,\r\n          dropdownHeaderHeight = dropdownHeader ? dropdownHeader.offsetHeight : 0,\r\n          headerHeight = header ? header.offsetHeight : 0,\r\n          searchHeight = search ? search.offsetHeight : 0,\r\n          actionsHeight = actions ? actions.offsetHeight : 0,\r\n          doneButtonHeight = doneButton ? doneButton.offsetHeight : 0,\r\n          dividerHeight = $(divider).outerHeight(true),\r\n          // fall back to jQuery if getComputedStyle is not supported\r\n          menuStyle = window.getComputedStyle ? window.getComputedStyle(menu) : false,\r\n          menuWidth = menu.offsetWidth,\r\n          $menu = menuStyle ? null : $(menu),\r\n          menuPadding = {\r\n            vert: toInteger(menuStyle ? menuStyle.paddingTop : $menu.css('paddingTop')) +\r\n                  toInteger(menuStyle ? menuStyle.paddingBottom : $menu.css('paddingBottom')) +\r\n                  toInteger(menuStyle ? menuStyle.borderTopWidth : $menu.css('borderTopWidth')) +\r\n                  toInteger(menuStyle ? menuStyle.borderBottomWidth : $menu.css('borderBottomWidth')),\r\n            horiz: toInteger(menuStyle ? menuStyle.paddingLeft : $menu.css('paddingLeft')) +\r\n                  toInteger(menuStyle ? menuStyle.paddingRight : $menu.css('paddingRight')) +\r\n                  toInteger(menuStyle ? menuStyle.borderLeftWidth : $menu.css('borderLeftWidth')) +\r\n                  toInteger(menuStyle ? menuStyle.borderRightWidth : $menu.css('borderRightWidth'))\r\n          },\r\n          menuExtras = {\r\n            vert: menuPadding.vert +\r\n                  toInteger(menuStyle ? menuStyle.marginTop : $menu.css('marginTop')) +\r\n                  toInteger(menuStyle ? menuStyle.marginBottom : $menu.css('marginBottom')) + 2,\r\n            horiz: menuPadding.horiz +\r\n                  toInteger(menuStyle ? menuStyle.marginLeft : $menu.css('marginLeft')) +\r\n                  toInteger(menuStyle ? menuStyle.marginRight : $menu.css('marginRight')) + 2\r\n          },\r\n          scrollBarWidth;\r\n\r\n      menuInner.style.overflowY = 'scroll';\r\n\r\n      scrollBarWidth = menu.offsetWidth - menuWidth;\r\n\r\n      document.body.removeChild(newElement);\r\n\r\n      this.sizeInfo.liHeight = liHeight;\r\n      this.sizeInfo.dropdownHeaderHeight = dropdownHeaderHeight;\r\n      this.sizeInfo.headerHeight = headerHeight;\r\n      this.sizeInfo.searchHeight = searchHeight;\r\n      this.sizeInfo.actionsHeight = actionsHeight;\r\n      this.sizeInfo.doneButtonHeight = doneButtonHeight;\r\n      this.sizeInfo.dividerHeight = dividerHeight;\r\n      this.sizeInfo.menuPadding = menuPadding;\r\n      this.sizeInfo.menuExtras = menuExtras;\r\n      this.sizeInfo.menuWidth = menuWidth;\r\n      this.sizeInfo.menuInnerInnerWidth = menuWidth - menuPadding.horiz;\r\n      this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth;\r\n      this.sizeInfo.scrollBarWidth = scrollBarWidth;\r\n      this.sizeInfo.selectHeight = this.$newElement[0].offsetHeight;\r\n\r\n      this.setPositionData();\r\n    },\r\n\r\n    getSelectPosition: function () {\r\n      var that = this,\r\n          $window = $(window),\r\n          pos = that.$newElement.offset(),\r\n          $container = $(that.options.container),\r\n          containerPos;\r\n\r\n      if (that.options.container && $container.length && !$container.is('body')) {\r\n        containerPos = $container.offset();\r\n        containerPos.top += parseInt($container.css('borderTopWidth'));\r\n        containerPos.left += parseInt($container.css('borderLeftWidth'));\r\n      } else {\r\n        containerPos = { top: 0, left: 0 };\r\n      }\r\n\r\n      var winPad = that.options.windowPadding;\r\n\r\n      this.sizeInfo.selectOffsetTop = pos.top - containerPos.top - $window.scrollTop();\r\n      this.sizeInfo.selectOffsetBot = $window.height() - this.sizeInfo.selectOffsetTop - this.sizeInfo.selectHeight - containerPos.top - winPad[2];\r\n      this.sizeInfo.selectOffsetLeft = pos.left - containerPos.left - $window.scrollLeft();\r\n      this.sizeInfo.selectOffsetRight = $window.width() - this.sizeInfo.selectOffsetLeft - this.sizeInfo.selectWidth - containerPos.left - winPad[1];\r\n      this.sizeInfo.selectOffsetTop -= winPad[0];\r\n      this.sizeInfo.selectOffsetLeft -= winPad[3];\r\n    },\r\n\r\n    setMenuSize: function (isAuto) {\r\n      this.getSelectPosition();\r\n\r\n      var selectWidth = this.sizeInfo.selectWidth,\r\n          liHeight = this.sizeInfo.liHeight,\r\n          headerHeight = this.sizeInfo.headerHeight,\r\n          searchHeight = this.sizeInfo.searchHeight,\r\n          actionsHeight = this.sizeInfo.actionsHeight,\r\n          doneButtonHeight = this.sizeInfo.doneButtonHeight,\r\n          divHeight = this.sizeInfo.dividerHeight,\r\n          menuPadding = this.sizeInfo.menuPadding,\r\n          menuInnerHeight,\r\n          menuHeight,\r\n          divLength = 0,\r\n          minHeight,\r\n          _minHeight,\r\n          maxHeight,\r\n          menuInnerMinHeight,\r\n          estimate,\r\n          isDropup;\r\n\r\n      if (this.options.dropupAuto) {\r\n        // Get the estimated height of the menu without scrollbars.\r\n        // This is useful for smaller menus, where there might be plenty of room\r\n        // below the button without setting dropup, but we can't know\r\n        // the exact height of the menu until createView is called later\r\n        estimate = liHeight * this.selectpicker.current.elements.length + menuPadding.vert;\r\n\r\n        isDropup = this.sizeInfo.selectOffsetTop - this.sizeInfo.selectOffsetBot > this.sizeInfo.menuExtras.vert && estimate + this.sizeInfo.menuExtras.vert + 50 > this.sizeInfo.selectOffsetBot;\r\n\r\n        // ensure dropup doesn't change while searching (so menu doesn't bounce back and forth)\r\n        if (this.selectpicker.isSearching === true) {\r\n          isDropup = this.selectpicker.dropup;\r\n        }\r\n\r\n        this.$newElement.toggleClass(classNames.DROPUP, isDropup);\r\n        this.selectpicker.dropup = isDropup;\r\n      }\r\n\r\n      if (this.options.size === 'auto') {\r\n        _minHeight = this.selectpicker.current.elements.length > 3 ? this.sizeInfo.liHeight * 3 + this.sizeInfo.menuExtras.vert - 2 : 0;\r\n        menuHeight = this.sizeInfo.selectOffsetBot - this.sizeInfo.menuExtras.vert;\r\n        minHeight = _minHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight;\r\n        menuInnerMinHeight = Math.max(_minHeight - menuPadding.vert, 0);\r\n\r\n        if (this.$newElement.hasClass(classNames.DROPUP)) {\r\n          menuHeight = this.sizeInfo.selectOffsetTop - this.sizeInfo.menuExtras.vert;\r\n        }\r\n\r\n        maxHeight = menuHeight;\r\n        menuInnerHeight = menuHeight - headerHeight - searchHeight - actionsHeight - doneButtonHeight - menuPadding.vert;\r\n      } else if (this.options.size && this.options.size != 'auto' && this.selectpicker.current.elements.length > this.options.size) {\r\n        for (var i = 0; i < this.options.size; i++) {\r\n          if (this.selectpicker.current.data[i].type === 'divider') divLength++;\r\n        }\r\n\r\n        menuHeight = liHeight * this.options.size + divLength * divHeight + menuPadding.vert;\r\n        menuInnerHeight = menuHeight - menuPadding.vert;\r\n        maxHeight = menuHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight;\r\n        minHeight = menuInnerMinHeight = '';\r\n      }\r\n\r\n      this.$menu.css({\r\n        'max-height': maxHeight + 'px',\r\n        'overflow': 'hidden',\r\n        'min-height': minHeight + 'px'\r\n      });\r\n\r\n      this.$menuInner.css({\r\n        'max-height': menuInnerHeight + 'px',\r\n        'overflow-y': 'auto',\r\n        'min-height': menuInnerMinHeight + 'px'\r\n      });\r\n\r\n      // ensure menuInnerHeight is always a positive number to prevent issues calculating chunkSize in createView\r\n      this.sizeInfo.menuInnerHeight = Math.max(menuInnerHeight, 1);\r\n\r\n      if (this.selectpicker.current.data.length && this.selectpicker.current.data[this.selectpicker.current.data.length - 1].position > this.sizeInfo.menuInnerHeight) {\r\n        this.sizeInfo.hasScrollBar = true;\r\n        this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth + this.sizeInfo.scrollBarWidth;\r\n      }\r\n\r\n      if (this.options.dropdownAlignRight === 'auto') {\r\n        this.$menu.toggleClass(classNames.MENURIGHT, this.sizeInfo.selectOffsetLeft > this.sizeInfo.selectOffsetRight && this.sizeInfo.selectOffsetRight < (this.sizeInfo.totalMenuWidth - selectWidth));\r\n      }\r\n\r\n      if (this.dropdown && this.dropdown._popper) this.dropdown._popper.update();\r\n    },\r\n\r\n    setSize: function (refresh) {\r\n      this.liHeight(refresh);\r\n\r\n      if (this.options.header) this.$menu.css('padding-top', 0);\r\n\r\n      if (this.options.size !== false) {\r\n        var that = this,\r\n            $window = $(window);\r\n\r\n        this.setMenuSize();\r\n\r\n        if (this.options.liveSearch) {\r\n          this.$searchbox\r\n            .off('input.setMenuSize propertychange.setMenuSize')\r\n            .on('input.setMenuSize propertychange.setMenuSize', function () {\r\n              return that.setMenuSize();\r\n            });\r\n        }\r\n\r\n        if (this.options.size === 'auto') {\r\n          $window\r\n            .off('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize')\r\n            .on('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize', function () {\r\n              return that.setMenuSize();\r\n            });\r\n        } else if (this.options.size && this.options.size != 'auto' && this.selectpicker.current.elements.length > this.options.size) {\r\n          $window.off('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize');\r\n        }\r\n      }\r\n\r\n      this.createView(false, true, refresh);\r\n    },\r\n\r\n    setWidth: function () {\r\n      var that = this;\r\n\r\n      if (this.options.width === 'auto') {\r\n        requestAnimationFrame(function () {\r\n          that.$menu.css('min-width', '0');\r\n\r\n          that.$element.on('loaded' + EVENT_KEY, function () {\r\n            that.liHeight();\r\n            that.setMenuSize();\r\n\r\n            // Get correct width if element is hidden\r\n            var $selectClone = that.$newElement.clone().appendTo('body'),\r\n                btnWidth = $selectClone.css('width', 'auto').children('button').outerWidth();\r\n\r\n            $selectClone.remove();\r\n\r\n            // Set width to whatever's larger, button title or longest option\r\n            that.sizeInfo.selectWidth = Math.max(that.sizeInfo.totalMenuWidth, btnWidth);\r\n            that.$newElement.css('width', that.sizeInfo.selectWidth + 'px');\r\n          });\r\n        });\r\n      } else if (this.options.width === 'fit') {\r\n        // Remove inline min-width so width can be changed from 'auto'\r\n        this.$menu.css('min-width', '');\r\n        this.$newElement.css('width', '').addClass('fit-width');\r\n      } else if (this.options.width) {\r\n        // Remove inline min-width so width can be changed from 'auto'\r\n        this.$menu.css('min-width', '');\r\n        this.$newElement.css('width', this.options.width);\r\n      } else {\r\n        // Remove inline min-width/width so width can be changed\r\n        this.$menu.css('min-width', '');\r\n        this.$newElement.css('width', '');\r\n      }\r\n      // Remove fit-width class if width is changed programmatically\r\n      if (this.$newElement.hasClass('fit-width') && this.options.width !== 'fit') {\r\n        this.$newElement[0].classList.remove('fit-width');\r\n      }\r\n    },\r\n\r\n    selectPosition: function () {\r\n      this.$bsContainer = $('<div class=\"bs-container\" />');\r\n\r\n      var that = this,\r\n          $container = $(this.options.container),\r\n          pos,\r\n          containerPos,\r\n          actualHeight,\r\n          getPlacement = function ($element) {\r\n            var containerPosition = {},\r\n                // fall back to dropdown's default display setting if display is not manually set\r\n                display = that.options.display || (\r\n                  // Bootstrap 3 doesn't have $.fn.dropdown.Constructor.Default\r\n                  $.fn.dropdown.Constructor.Default ? $.fn.dropdown.Constructor.Default.display\r\n                  : false\r\n                );\r\n\r\n            that.$bsContainer.addClass($element.attr('class').replace(/form-control|fit-width/gi, '')).toggleClass(classNames.DROPUP, $element.hasClass(classNames.DROPUP));\r\n            pos = $element.offset();\r\n\r\n            if (!$container.is('body')) {\r\n              containerPos = $container.offset();\r\n              containerPos.top += parseInt($container.css('borderTopWidth')) - $container.scrollTop();\r\n              containerPos.left += parseInt($container.css('borderLeftWidth')) - $container.scrollLeft();\r\n            } else {\r\n              containerPos = { top: 0, left: 0 };\r\n            }\r\n\r\n            actualHeight = $element.hasClass(classNames.DROPUP) ? 0 : $element[0].offsetHeight;\r\n\r\n            // Bootstrap 4+ uses Popper for menu positioning\r\n            if (version.major < 4 || display === 'static') {\r\n              containerPosition.top = pos.top - containerPos.top + actualHeight;\r\n              containerPosition.left = pos.left - containerPos.left;\r\n            }\r\n\r\n            containerPosition.width = $element[0].offsetWidth;\r\n\r\n            that.$bsContainer.css(containerPosition);\r\n          };\r\n\r\n      this.$button.on('click.bs.dropdown.data-api', function () {\r\n        if (that.isDisabled()) {\r\n          return;\r\n        }\r\n\r\n        getPlacement(that.$newElement);\r\n\r\n        that.$bsContainer\r\n          .appendTo(that.options.container)\r\n          .toggleClass(classNames.SHOW, !that.$button.hasClass(classNames.SHOW))\r\n          .append(that.$menu);\r\n      });\r\n\r\n      $(window)\r\n        .off('resize' + EVENT_KEY + '.' + this.selectId + ' scroll' + EVENT_KEY + '.' + this.selectId)\r\n        .on('resize' + EVENT_KEY + '.' + this.selectId + ' scroll' + EVENT_KEY + '.' + this.selectId, function () {\r\n          var isActive = that.$newElement.hasClass(classNames.SHOW);\r\n\r\n          if (isActive) getPlacement(that.$newElement);\r\n        });\r\n\r\n      this.$element.on('hide' + EVENT_KEY, function () {\r\n        that.$menu.data('height', that.$menu.height());\r\n        that.$bsContainer.detach();\r\n      });\r\n    },\r\n\r\n    setOptionStatus: function (selectedOnly) {\r\n      var that = this;\r\n\r\n      that.noScroll = false;\r\n\r\n      if (that.selectpicker.view.visibleElements && that.selectpicker.view.visibleElements.length) {\r\n        for (var i = 0; i < that.selectpicker.view.visibleElements.length; i++) {\r\n          var liData = that.selectpicker.current.data[i + that.selectpicker.view.position0],\r\n              option = liData.option;\r\n\r\n          if (option) {\r\n            if (selectedOnly !== true) {\r\n              that.setDisabled(\r\n                liData.index,\r\n                liData.disabled\r\n              );\r\n            }\r\n\r\n            that.setSelected(\r\n              liData.index,\r\n              option.selected\r\n            );\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @param {number} index - the index of the option that is being changed\r\n     * @param {boolean} selected - true if the option is being selected, false if being deselected\r\n     */\r\n    setSelected: function (index, selected) {\r\n      var li = this.selectpicker.main.elements[index],\r\n          liData = this.selectpicker.main.data[index],\r\n          activeIndexIsSet = this.activeIndex !== undefined,\r\n          thisIsActive = this.activeIndex === index,\r\n          prevActive,\r\n          a,\r\n          // if current option is already active\r\n          // OR\r\n          // if the current option is being selected, it's NOT multiple, and\r\n          // activeIndex is undefined:\r\n          //  - when the menu is first being opened, OR\r\n          //  - after a search has been performed, OR\r\n          //  - when retainActive is false when selecting a new option (i.e. index of the newly selected option is not the same as the current activeIndex)\r\n          keepActive = thisIsActive || (selected && !this.multiple && !activeIndexIsSet);\r\n\r\n      liData.selected = selected;\r\n\r\n      a = li.firstChild;\r\n\r\n      if (selected) {\r\n        this.selectedIndex = index;\r\n      }\r\n\r\n      li.classList.toggle('selected', selected);\r\n\r\n      if (keepActive) {\r\n        this.focusItem(li, liData);\r\n        this.selectpicker.view.currentActive = li;\r\n        this.activeIndex = index;\r\n      } else {\r\n        this.defocusItem(li);\r\n      }\r\n\r\n      if (a) {\r\n        a.classList.toggle('selected', selected);\r\n\r\n        if (selected) {\r\n          a.setAttribute('aria-selected', true);\r\n        } else {\r\n          if (this.multiple) {\r\n            a.setAttribute('aria-selected', false);\r\n          } else {\r\n            a.removeAttribute('aria-selected');\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!keepActive && !activeIndexIsSet && selected && this.prevActiveIndex !== undefined) {\r\n        prevActive = this.selectpicker.main.elements[this.prevActiveIndex];\r\n\r\n        this.defocusItem(prevActive);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * @param {number} index - the index of the option that is being disabled\r\n     * @param {boolean} disabled - true if the option is being disabled, false if being enabled\r\n     */\r\n    setDisabled: function (index, disabled) {\r\n      var li = this.selectpicker.main.elements[index],\r\n          a;\r\n\r\n      this.selectpicker.main.data[index].disabled = disabled;\r\n\r\n      a = li.firstChild;\r\n\r\n      li.classList.toggle(classNames.DISABLED, disabled);\r\n\r\n      if (a) {\r\n        if (version.major === '4') a.classList.toggle(classNames.DISABLED, disabled);\r\n\r\n        if (disabled) {\r\n          a.setAttribute('aria-disabled', disabled);\r\n          a.setAttribute('tabindex', -1);\r\n        } else {\r\n          a.removeAttribute('aria-disabled');\r\n          a.setAttribute('tabindex', 0);\r\n        }\r\n      }\r\n    },\r\n\r\n    isDisabled: function () {\r\n      return this.$element[0].disabled;\r\n    },\r\n\r\n    checkDisabled: function () {\r\n      if (this.isDisabled()) {\r\n        this.$newElement[0].classList.add(classNames.DISABLED);\r\n        this.$button.addClass(classNames.DISABLED).attr('aria-disabled', true);\r\n      } else {\r\n        if (this.$button[0].classList.contains(classNames.DISABLED)) {\r\n          this.$newElement[0].classList.remove(classNames.DISABLED);\r\n          this.$button.removeClass(classNames.DISABLED).attr('aria-disabled', false);\r\n        }\r\n      }\r\n    },\r\n\r\n    clickListener: function () {\r\n      var that = this,\r\n          $document = $(document);\r\n\r\n      $document.data('spaceSelect', false);\r\n\r\n      this.$button.on('keyup', function (e) {\r\n        if (/(32)/.test(e.keyCode.toString(10)) && $document.data('spaceSelect')) {\r\n          e.preventDefault();\r\n          $document.data('spaceSelect', false);\r\n        }\r\n      });\r\n\r\n      this.$newElement.on('show.bs.dropdown', function () {\r\n        if (version.major > 3 && !that.dropdown) {\r\n          that.dropdown = that.$button.data('bs.dropdown');\r\n          that.dropdown._menu = that.$menu[0];\r\n        }\r\n      });\r\n\r\n      this.$button.on('click.bs.dropdown.data-api', function () {\r\n        if (!that.$newElement.hasClass(classNames.SHOW)) {\r\n          that.setSize();\r\n        }\r\n      });\r\n\r\n      function setFocus () {\r\n        if (that.options.liveSearch) {\r\n          that.$searchbox.trigger('focus');\r\n        } else {\r\n          that.$menuInner.trigger('focus');\r\n        }\r\n      }\r\n\r\n      function checkPopperExists () {\r\n        if (that.dropdown && that.dropdown._popper && that.dropdown._popper.state.isCreated) {\r\n          setFocus();\r\n        } else {\r\n          requestAnimationFrame(checkPopperExists);\r\n        }\r\n      }\r\n\r\n      this.$element.on('shown' + EVENT_KEY, function () {\r\n        if (that.$menuInner[0].scrollTop !== that.selectpicker.view.scrollTop) {\r\n          that.$menuInner[0].scrollTop = that.selectpicker.view.scrollTop;\r\n        }\r\n\r\n        if (version.major > 3) {\r\n          requestAnimationFrame(checkPopperExists);\r\n        } else {\r\n          setFocus();\r\n        }\r\n      });\r\n\r\n      // ensure posinset and setsize are correct before selecting an option via a click\r\n      this.$menuInner.on('mouseenter', 'li a', function (e) {\r\n        var hoverLi = this.parentElement,\r\n            position0 = that.isVirtual() ? that.selectpicker.view.position0 : 0,\r\n            index = Array.prototype.indexOf.call(hoverLi.parentElement.children, hoverLi),\r\n            hoverData = that.selectpicker.current.data[index + position0];\r\n\r\n        that.focusItem(hoverLi, hoverData, true);\r\n      });\r\n\r\n      this.$menuInner.on('click', 'li a', function (e, retainActive) {\r\n        var $this = $(this),\r\n            element = that.$element[0],\r\n            position0 = that.isVirtual() ? that.selectpicker.view.position0 : 0,\r\n            clickedData = that.selectpicker.current.data[$this.parent().index() + position0],\r\n            clickedIndex = clickedData.index,\r\n            prevValue = getSelectValues(element),\r\n            prevIndex = element.selectedIndex,\r\n            prevOption = element.options[prevIndex],\r\n            triggerChange = true;\r\n\r\n        // Don't close on multi choice menu\r\n        if (that.multiple && that.options.maxOptions !== 1) {\r\n          e.stopPropagation();\r\n        }\r\n\r\n        e.preventDefault();\r\n\r\n        // Don't run if the select is disabled\r\n        if (!that.isDisabled() && !$this.parent().hasClass(classNames.DISABLED)) {\r\n          var option = clickedData.option,\r\n              $option = $(option),\r\n              state = option.selected,\r\n              $optgroup = $option.parent('optgroup'),\r\n              $optgroupOptions = $optgroup.find('option'),\r\n              maxOptions = that.options.maxOptions,\r\n              maxOptionsGrp = $optgroup.data('maxOptions') || false;\r\n\r\n          if (clickedIndex === that.activeIndex) retainActive = true;\r\n\r\n          if (!retainActive) {\r\n            that.prevActiveIndex = that.activeIndex;\r\n            that.activeIndex = undefined;\r\n          }\r\n\r\n          if (!that.multiple) { // Deselect all others if not multi select box\r\n            if (prevOption) prevOption.selected = false;\r\n            option.selected = true;\r\n            that.setSelected(clickedIndex, true);\r\n          } else { // Toggle the one we have chosen if we are multi select.\r\n            option.selected = !state;\r\n\r\n            that.setSelected(clickedIndex, !state);\r\n            that.focusedParent.focus();\r\n\r\n            if (maxOptions !== false || maxOptionsGrp !== false) {\r\n              var maxReached = maxOptions < getSelectedOptions(element).length,\r\n                  maxReachedGrp = maxOptionsGrp < $optgroup.find('option:selected').length;\r\n\r\n              if ((maxOptions && maxReached) || (maxOptionsGrp && maxReachedGrp)) {\r\n                if (maxOptions && maxOptions == 1) {\r\n                  element.selectedIndex = -1;\r\n                  option.selected = true;\r\n                  that.setOptionStatus(true);\r\n                } else if (maxOptionsGrp && maxOptionsGrp == 1) {\r\n                  for (var i = 0; i < $optgroupOptions.length; i++) {\r\n                    var _option = $optgroupOptions[i];\r\n                    _option.selected = false;\r\n                    that.setSelected(_option.liIndex, false);\r\n                  }\r\n\r\n                  option.selected = true;\r\n                  that.setSelected(clickedIndex, true);\r\n                } else {\r\n                  var maxOptionsText = typeof that.options.maxOptionsText === 'string' ? [that.options.maxOptionsText, that.options.maxOptionsText] : that.options.maxOptionsText,\r\n                      maxOptionsArr = typeof maxOptionsText === 'function' ? maxOptionsText(maxOptions, maxOptionsGrp) : maxOptionsText,\r\n                      maxTxt = maxOptionsArr[0].replace('{n}', maxOptions),\r\n                      maxTxtGrp = maxOptionsArr[1].replace('{n}', maxOptionsGrp),\r\n                      $notify = $('<div class=\"notify\"></div>');\r\n                  // If {var} is set in array, replace it\r\n                  /** @deprecated */\r\n                  if (maxOptionsArr[2]) {\r\n                    maxTxt = maxTxt.replace('{var}', maxOptionsArr[2][maxOptions > 1 ? 0 : 1]);\r\n                    maxTxtGrp = maxTxtGrp.replace('{var}', maxOptionsArr[2][maxOptionsGrp > 1 ? 0 : 1]);\r\n                  }\r\n\r\n                  option.selected = false;\r\n\r\n                  that.$menu.append($notify);\r\n\r\n                  if (maxOptions && maxReached) {\r\n                    $notify.append($('<div>' + maxTxt + '</div>'));\r\n                    triggerChange = false;\r\n                    that.$element.trigger('maxReached' + EVENT_KEY);\r\n                  }\r\n\r\n                  if (maxOptionsGrp && maxReachedGrp) {\r\n                    $notify.append($('<div>' + maxTxtGrp + '</div>'));\r\n                    triggerChange = false;\r\n                    that.$element.trigger('maxReachedGrp' + EVENT_KEY);\r\n                  }\r\n\r\n                  setTimeout(function () {\r\n                    that.setSelected(clickedIndex, false);\r\n                  }, 10);\r\n\r\n                  $notify[0].classList.add('fadeOut');\r\n\r\n                  setTimeout(function () {\r\n                    $notify.remove();\r\n                  }, 1050);\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          if (!that.multiple || (that.multiple && that.options.maxOptions === 1)) {\r\n            that.$button.trigger('focus');\r\n          } else if (that.options.liveSearch) {\r\n            that.$searchbox.trigger('focus');\r\n          }\r\n\r\n          // Trigger select 'change'\r\n          if (triggerChange) {\r\n            if (that.multiple || prevIndex !== element.selectedIndex) {\r\n              // $option.prop('selected') is current option state (selected/unselected). prevValue is the value of the select prior to being changed.\r\n              changedArguments = [option.index, $option.prop('selected'), prevValue];\r\n              that.$element\r\n                .triggerNative('change');\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      this.$menu.on('click', 'li.' + classNames.DISABLED + ' a, .' + classNames.POPOVERHEADER + ', .' + classNames.POPOVERHEADER + ' :not(.close)', function (e) {\r\n        if (e.currentTarget == this) {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          if (that.options.liveSearch && !$(e.target).hasClass('close')) {\r\n            that.$searchbox.trigger('focus');\r\n          } else {\r\n            that.$button.trigger('focus');\r\n          }\r\n        }\r\n      });\r\n\r\n      this.$menuInner.on('click', '.divider, .dropdown-header', function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        if (that.options.liveSearch) {\r\n          that.$searchbox.trigger('focus');\r\n        } else {\r\n          that.$button.trigger('focus');\r\n        }\r\n      });\r\n\r\n      this.$menu.on('click', '.' + classNames.POPOVERHEADER + ' .close', function () {\r\n        that.$button.trigger('click');\r\n      });\r\n\r\n      this.$searchbox.on('click', function (e) {\r\n        e.stopPropagation();\r\n      });\r\n\r\n      this.$menu.on('click', '.actions-btn', function (e) {\r\n        if (that.options.liveSearch) {\r\n          that.$searchbox.trigger('focus');\r\n        } else {\r\n          that.$button.trigger('focus');\r\n        }\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        if ($(this).hasClass('bs-select-all')) {\r\n          that.selectAll();\r\n        } else {\r\n          that.deselectAll();\r\n        }\r\n      });\r\n\r\n      this.$button\r\n        .on('focus' + EVENT_KEY, function (e) {\r\n          var tabindex = that.$element[0].getAttribute('tabindex');\r\n\r\n          // only change when button is actually focused\r\n          if (tabindex !== undefined && e.originalEvent && e.originalEvent.isTrusted) {\r\n            // apply select element's tabindex to ensure correct order is followed when tabbing to the next element\r\n            this.setAttribute('tabindex', tabindex);\r\n            // set element's tabindex to -1 to allow for reverse tabbing\r\n            that.$element[0].setAttribute('tabindex', -1);\r\n            that.selectpicker.view.tabindex = tabindex;\r\n          }\r\n        })\r\n        .on('blur' + EVENT_KEY, function (e) {\r\n          // revert everything to original tabindex\r\n          if (that.selectpicker.view.tabindex !== undefined && e.originalEvent && e.originalEvent.isTrusted) {\r\n            that.$element[0].setAttribute('tabindex', that.selectpicker.view.tabindex);\r\n            this.setAttribute('tabindex', -1);\r\n            that.selectpicker.view.tabindex = undefined;\r\n          }\r\n        });\r\n\r\n      this.$element\r\n        .on('change' + EVENT_KEY, function () {\r\n          that.render();\r\n          that.$element.trigger('changed' + EVENT_KEY, changedArguments);\r\n          changedArguments = null;\r\n        })\r\n        .on('focus' + EVENT_KEY, function () {\r\n          if (!that.options.mobile) that.$button[0].focus();\r\n        });\r\n    },\r\n\r\n    liveSearchListener: function () {\r\n      var that = this;\r\n\r\n      this.$button.on('click.bs.dropdown.data-api', function () {\r\n        if (!!that.$searchbox.val()) {\r\n          that.$searchbox.val('');\r\n          that.selectpicker.search.previousValue = undefined;\r\n        }\r\n      });\r\n\r\n      this.$searchbox.on('click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api', function (e) {\r\n        e.stopPropagation();\r\n      });\r\n\r\n      this.$searchbox.on('input propertychange', function () {\r\n        var searchValue = that.$searchbox[0].value;\r\n\r\n        that.selectpicker.search.elements = [];\r\n        that.selectpicker.search.data = [];\r\n\r\n        if (searchValue) {\r\n          var i,\r\n              searchMatch = [],\r\n              q = searchValue.toUpperCase(),\r\n              cache = {},\r\n              cacheArr = [],\r\n              searchStyle = that._searchStyle(),\r\n              normalizeSearch = that.options.liveSearchNormalize;\r\n\r\n          if (normalizeSearch) q = normalizeToBase(q);\r\n\r\n          for (var i = 0; i < that.selectpicker.main.data.length; i++) {\r\n            var li = that.selectpicker.main.data[i];\r\n\r\n            if (!cache[i]) {\r\n              cache[i] = stringSearch(li, q, searchStyle, normalizeSearch);\r\n            }\r\n\r\n            if (cache[i] && li.headerIndex !== undefined && cacheArr.indexOf(li.headerIndex) === -1) {\r\n              if (li.headerIndex > 0) {\r\n                cache[li.headerIndex - 1] = true;\r\n                cacheArr.push(li.headerIndex - 1);\r\n              }\r\n\r\n              cache[li.headerIndex] = true;\r\n              cacheArr.push(li.headerIndex);\r\n\r\n              cache[li.lastIndex + 1] = true;\r\n            }\r\n\r\n            if (cache[i] && li.type !== 'optgroup-label') cacheArr.push(i);\r\n          }\r\n\r\n          for (var i = 0, cacheLen = cacheArr.length; i < cacheLen; i++) {\r\n            var index = cacheArr[i],\r\n                prevIndex = cacheArr[i - 1],\r\n                li = that.selectpicker.main.data[index],\r\n                liPrev = that.selectpicker.main.data[prevIndex];\r\n\r\n            if (li.type !== 'divider' || (li.type === 'divider' && liPrev && liPrev.type !== 'divider' && cacheLen - 1 !== i)) {\r\n              that.selectpicker.search.data.push(li);\r\n              searchMatch.push(that.selectpicker.main.elements[index]);\r\n            }\r\n          }\r\n\r\n          that.activeIndex = undefined;\r\n          that.noScroll = true;\r\n          that.$menuInner.scrollTop(0);\r\n          that.selectpicker.search.elements = searchMatch;\r\n          that.createView(true);\r\n          showNoResults.call(that, searchMatch, searchValue);\r\n        } else if (that.selectpicker.search.previousValue) { // for IE11 (#2402)\r\n          that.$menuInner.scrollTop(0);\r\n          that.createView(false);\r\n        }\r\n\r\n        that.selectpicker.search.previousValue =  searchValue;\r\n      });\r\n    },\r\n\r\n    _searchStyle: function () {\r\n      return this.options.liveSearchStyle || 'contains';\r\n    },\r\n\r\n    val: function (value) {\r\n      var element = this.$element[0];\r\n\r\n      if (typeof value !== 'undefined') {\r\n        var prevValue = getSelectValues(element);\r\n\r\n        changedArguments = [null, null, prevValue];\r\n\r\n        this.$element\r\n          .val(value)\r\n          .trigger('changed' + EVENT_KEY, changedArguments);\r\n\r\n        if (this.$newElement.hasClass(classNames.SHOW)) {\r\n          if (this.multiple) {\r\n            this.setOptionStatus(true);\r\n          } else {\r\n            var liSelectedIndex = (element.options[element.selectedIndex] || {}).liIndex;\r\n\r\n            if (typeof liSelectedIndex === 'number') {\r\n              this.setSelected(this.selectedIndex, false);\r\n              this.setSelected(liSelectedIndex, true);\r\n            }\r\n          }\r\n        }\r\n\r\n        this.render();\r\n\r\n        changedArguments = null;\r\n\r\n        return this.$element;\r\n      } else {\r\n        return this.$element.val();\r\n      }\r\n    },\r\n\r\n    changeAll: function (status) {\r\n      if (!this.multiple) return;\r\n      if (typeof status === 'undefined') status = true;\r\n\r\n      var element = this.$element[0],\r\n          previousSelected = 0,\r\n          currentSelected = 0,\r\n          prevValue = getSelectValues(element);\r\n\r\n      element.classList.add('bs-select-hidden');\r\n\r\n      for (var i = 0, data = this.selectpicker.current.data, len = data.length; i < len; i++) {\r\n        var liData = data[i],\r\n            option = liData.option;\r\n\r\n        if (option && !liData.disabled && liData.type !== 'divider') {\r\n          if (liData.selected) previousSelected++;\r\n          option.selected = status;\r\n          if (status === true) currentSelected++;\r\n        }\r\n      }\r\n\r\n      element.classList.remove('bs-select-hidden');\r\n\r\n      if (previousSelected === currentSelected) return;\r\n\r\n      this.setOptionStatus();\r\n\r\n      changedArguments = [null, null, prevValue];\r\n\r\n      this.$element\r\n        .triggerNative('change');\r\n    },\r\n\r\n    selectAll: function () {\r\n      return this.changeAll(true);\r\n    },\r\n\r\n    deselectAll: function () {\r\n      return this.changeAll(false);\r\n    },\r\n\r\n    toggle: function (e) {\r\n      e = e || window.event;\r\n\r\n      if (e) e.stopPropagation();\r\n\r\n      this.$button.trigger('click.bs.dropdown.data-api');\r\n    },\r\n\r\n    keydown: function (e) {\r\n      var $this = $(this),\r\n          isToggle = $this.hasClass('dropdown-toggle'),\r\n          $parent = isToggle ? $this.closest('.dropdown') : $this.closest(Selector.MENU),\r\n          that = $parent.data('this'),\r\n          $items = that.findLis(),\r\n          index,\r\n          isActive,\r\n          liActive,\r\n          activeLi,\r\n          offset,\r\n          updateScroll = false,\r\n          downOnTab = e.which === keyCodes.TAB && !isToggle && !that.options.selectOnTab,\r\n          isArrowKey = REGEXP_ARROW.test(e.which) || downOnTab,\r\n          scrollTop = that.$menuInner[0].scrollTop,\r\n          isVirtual = that.isVirtual(),\r\n          position0 = isVirtual === true ? that.selectpicker.view.position0 : 0;\r\n\r\n      // do nothing if a function key is pressed\r\n      if (e.which >= 112 && e.which <= 123) return;\r\n\r\n      isActive = that.$newElement.hasClass(classNames.SHOW);\r\n\r\n      if (\r\n        !isActive &&\r\n        (\r\n          isArrowKey ||\r\n          (e.which >= 48 && e.which <= 57) ||\r\n          (e.which >= 96 && e.which <= 105) ||\r\n          (e.which >= 65 && e.which <= 90)\r\n        )\r\n      ) {\r\n        that.$button.trigger('click.bs.dropdown.data-api');\r\n\r\n        if (that.options.liveSearch) {\r\n          that.$searchbox.trigger('focus');\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (e.which === keyCodes.ESCAPE && isActive) {\r\n        e.preventDefault();\r\n        that.$button.trigger('click.bs.dropdown.data-api').trigger('focus');\r\n      }\r\n\r\n      if (isArrowKey) { // if up or down\r\n        if (!$items.length) return;\r\n\r\n        liActive = that.selectpicker.main.elements[that.activeIndex];\r\n        index = liActive ? Array.prototype.indexOf.call(liActive.parentElement.children, liActive) : -1;\r\n\r\n        if (index !== -1) {\r\n          that.defocusItem(liActive);\r\n        }\r\n\r\n        if (e.which === keyCodes.ARROW_UP) { // up\r\n          if (index !== -1) index--;\r\n          if (index + position0 < 0) index += $items.length;\r\n\r\n          if (!that.selectpicker.view.canHighlight[index + position0]) {\r\n            index = that.selectpicker.view.canHighlight.slice(0, index + position0).lastIndexOf(true) - position0;\r\n            if (index === -1) index = $items.length - 1;\r\n          }\r\n        } else if (e.which === keyCodes.ARROW_DOWN || downOnTab) { // down\r\n          index++;\r\n          if (index + position0 >= that.selectpicker.view.canHighlight.length) index = that.selectpicker.view.firstHighlightIndex;\r\n\r\n          if (!that.selectpicker.view.canHighlight[index + position0]) {\r\n            index = index + 1 + that.selectpicker.view.canHighlight.slice(index + position0 + 1).indexOf(true);\r\n          }\r\n        }\r\n\r\n        e.preventDefault();\r\n\r\n        var liActiveIndex = position0 + index;\r\n\r\n        if (e.which === keyCodes.ARROW_UP) { // up\r\n          // scroll to bottom and highlight last option\r\n          if (position0 === 0 && index === $items.length - 1) {\r\n            that.$menuInner[0].scrollTop = that.$menuInner[0].scrollHeight;\r\n\r\n            liActiveIndex = that.selectpicker.current.elements.length - 1;\r\n          } else {\r\n            activeLi = that.selectpicker.current.data[liActiveIndex];\r\n            offset = activeLi.position - activeLi.height;\r\n\r\n            updateScroll = offset < scrollTop;\r\n          }\r\n        } else if (e.which === keyCodes.ARROW_DOWN || downOnTab) { // down\r\n          // scroll to top and highlight first option\r\n          if (index === that.selectpicker.view.firstHighlightIndex) {\r\n            that.$menuInner[0].scrollTop = 0;\r\n\r\n            liActiveIndex = that.selectpicker.view.firstHighlightIndex;\r\n          } else {\r\n            activeLi = that.selectpicker.current.data[liActiveIndex];\r\n            offset = activeLi.position - that.sizeInfo.menuInnerHeight;\r\n\r\n            updateScroll = offset > scrollTop;\r\n          }\r\n        }\r\n\r\n        liActive = that.selectpicker.current.elements[liActiveIndex];\r\n\r\n        that.activeIndex = that.selectpicker.current.data[liActiveIndex].index;\r\n\r\n        that.focusItem(liActive);\r\n\r\n        that.selectpicker.view.currentActive = liActive;\r\n\r\n        if (updateScroll) that.$menuInner[0].scrollTop = offset;\r\n\r\n        if (that.options.liveSearch) {\r\n          that.$searchbox.trigger('focus');\r\n        } else {\r\n          $this.trigger('focus');\r\n        }\r\n      } else if (\r\n        (!$this.is('input') && !REGEXP_TAB_OR_ESCAPE.test(e.which)) ||\r\n        (e.which === keyCodes.SPACE && that.selectpicker.keydown.keyHistory)\r\n      ) {\r\n        var searchMatch,\r\n            matches = [],\r\n            keyHistory;\r\n\r\n        e.preventDefault();\r\n\r\n        that.selectpicker.keydown.keyHistory += keyCodeMap[e.which];\r\n\r\n        if (that.selectpicker.keydown.resetKeyHistory.cancel) clearTimeout(that.selectpicker.keydown.resetKeyHistory.cancel);\r\n        that.selectpicker.keydown.resetKeyHistory.cancel = that.selectpicker.keydown.resetKeyHistory.start();\r\n\r\n        keyHistory = that.selectpicker.keydown.keyHistory;\r\n\r\n        // if all letters are the same, set keyHistory to just the first character when searching\r\n        if (/^(.)\\1+$/.test(keyHistory)) {\r\n          keyHistory = keyHistory.charAt(0);\r\n        }\r\n\r\n        // find matches\r\n        for (var i = 0; i < that.selectpicker.current.data.length; i++) {\r\n          var li = that.selectpicker.current.data[i],\r\n              hasMatch;\r\n\r\n          hasMatch = stringSearch(li, keyHistory, 'startsWith', true);\r\n\r\n          if (hasMatch && that.selectpicker.view.canHighlight[i]) {\r\n            matches.push(li.index);\r\n          }\r\n        }\r\n\r\n        if (matches.length) {\r\n          var matchIndex = 0;\r\n\r\n          $items.removeClass('active').find('a').removeClass('active');\r\n\r\n          // either only one key has been pressed or they are all the same key\r\n          if (keyHistory.length === 1) {\r\n            matchIndex = matches.indexOf(that.activeIndex);\r\n\r\n            if (matchIndex === -1 || matchIndex === matches.length - 1) {\r\n              matchIndex = 0;\r\n            } else {\r\n              matchIndex++;\r\n            }\r\n          }\r\n\r\n          searchMatch = matches[matchIndex];\r\n\r\n          activeLi = that.selectpicker.main.data[searchMatch];\r\n\r\n          if (scrollTop - activeLi.position > 0) {\r\n            offset = activeLi.position - activeLi.height;\r\n            updateScroll = true;\r\n          } else {\r\n            offset = activeLi.position - that.sizeInfo.menuInnerHeight;\r\n            // if the option is already visible at the current scroll position, just keep it the same\r\n            updateScroll = activeLi.position > scrollTop + that.sizeInfo.menuInnerHeight;\r\n          }\r\n\r\n          liActive = that.selectpicker.main.elements[searchMatch];\r\n\r\n          that.activeIndex = matches[matchIndex];\r\n\r\n          that.focusItem(liActive);\r\n\r\n          if (liActive) liActive.firstChild.focus();\r\n\r\n          if (updateScroll) that.$menuInner[0].scrollTop = offset;\r\n\r\n          $this.trigger('focus');\r\n        }\r\n      }\r\n\r\n      // Select focused option if \"Enter\", \"Spacebar\" or \"Tab\" (when selectOnTab is true) are pressed inside the menu.\r\n      if (\r\n        isActive &&\r\n        (\r\n          (e.which === keyCodes.SPACE && !that.selectpicker.keydown.keyHistory) ||\r\n          e.which === keyCodes.ENTER ||\r\n          (e.which === keyCodes.TAB && that.options.selectOnTab)\r\n        )\r\n      ) {\r\n        if (e.which !== keyCodes.SPACE) e.preventDefault();\r\n\r\n        if (!that.options.liveSearch || e.which !== keyCodes.SPACE) {\r\n          that.$menuInner.find('.active a').trigger('click', true); // retain active class\r\n          $this.trigger('focus');\r\n\r\n          if (!that.options.liveSearch) {\r\n            // Prevent screen from scrolling if the user hits the spacebar\r\n            e.preventDefault();\r\n            // Fixes spacebar selection of dropdown items in FF & IE\r\n            $(document).data('spaceSelect', true);\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    mobile: function () {\r\n      // ensure mobile is set to true if mobile function is called after init\r\n      this.options.mobile = true;\r\n      this.$element[0].classList.add('mobile-device');\r\n    },\r\n\r\n    refresh: function () {\r\n      // update options if data attributes have been changed\r\n      var config = $.extend({}, this.options, this.$element.data());\r\n      this.options = config;\r\n\r\n      this.checkDisabled();\r\n      this.buildData();\r\n      this.setStyle();\r\n      this.render();\r\n      this.buildList();\r\n      this.setWidth();\r\n\r\n      this.setSize(true);\r\n\r\n      this.$element.trigger('refreshed' + EVENT_KEY);\r\n    },\r\n\r\n    hide: function () {\r\n      this.$newElement.hide();\r\n    },\r\n\r\n    show: function () {\r\n      this.$newElement.show();\r\n    },\r\n\r\n    remove: function () {\r\n      this.$newElement.remove();\r\n      this.$element.remove();\r\n    },\r\n\r\n    destroy: function () {\r\n      this.$newElement.before(this.$element).remove();\r\n\r\n      if (this.$bsContainer) {\r\n        this.$bsContainer.remove();\r\n      } else {\r\n        this.$menu.remove();\r\n      }\r\n\r\n      if (this.selectpicker.view.titleOption && this.selectpicker.view.titleOption.parentNode) {\r\n        this.selectpicker.view.titleOption.parentNode.removeChild(this.selectpicker.view.titleOption);\r\n      }\r\n\r\n      this.$element\r\n        .off(EVENT_KEY)\r\n        .removeData('selectpicker')\r\n        .removeClass('bs-select-hidden selectpicker');\r\n\r\n      $(window).off(EVENT_KEY + '.' + this.selectId);\r\n    }\r\n  };\r\n\r\n  // SELECTPICKER PLUGIN DEFINITION\r\n  // ==============================\r\n  function Plugin (option) {\r\n    // get the args of the outer function..\r\n    var args = arguments;\r\n    // The arguments of the function are explicitly re-defined from the argument list, because the shift causes them\r\n    // to get lost/corrupted in android 2.3 and IE9 #715 #775\r\n    var _option = option;\r\n\r\n    [].shift.apply(args);\r\n\r\n    // if the version was not set successfully\r\n    if (!version.success) {\r\n      // try to retreive it again\r\n      try {\r\n        version.full = ($.fn.dropdown.Constructor.VERSION || '').split(' ')[0].split('.');\r\n      } catch (err) {\r\n        // fall back to use BootstrapVersion if set\r\n        if (Selectpicker.BootstrapVersion) {\r\n          version.full = Selectpicker.BootstrapVersion.split(' ')[0].split('.');\r\n        } else {\r\n          version.full = [version.major, '0', '0'];\r\n\r\n          console.warn(\r\n            'There was an issue retrieving Bootstrap\\'s version. ' +\r\n            'Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. ' +\r\n            'If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.',\r\n            err\r\n          );\r\n        }\r\n      }\r\n\r\n      version.major = version.full[0];\r\n      version.success = true;\r\n    }\r\n\r\n    if (version.major === '4') {\r\n      // some defaults need to be changed if using Bootstrap 4\r\n      // check to see if they have already been manually changed before forcing them to update\r\n      var toUpdate = [];\r\n\r\n      if (Selectpicker.DEFAULTS.style === classNames.BUTTONCLASS) toUpdate.push({ name: 'style', className: 'BUTTONCLASS' });\r\n      if (Selectpicker.DEFAULTS.iconBase === classNames.ICONBASE) toUpdate.push({ name: 'iconBase', className: 'ICONBASE' });\r\n      if (Selectpicker.DEFAULTS.tickIcon === classNames.TICKICON) toUpdate.push({ name: 'tickIcon', className: 'TICKICON' });\r\n\r\n      classNames.DIVIDER = 'dropdown-divider';\r\n      classNames.SHOW = 'show';\r\n      classNames.BUTTONCLASS = 'btn-light';\r\n      classNames.POPOVERHEADER = 'popover-header';\r\n      classNames.ICONBASE = '';\r\n      classNames.TICKICON = 'bs-ok-default';\r\n\r\n      for (var i = 0; i < toUpdate.length; i++) {\r\n        var option = toUpdate[i];\r\n        Selectpicker.DEFAULTS[option.name] = classNames[option.className];\r\n      }\r\n    }\r\n\r\n    var value;\r\n    var chain = this.each(function () {\r\n      var $this = $(this);\r\n      if ($this.is('select')) {\r\n        var data = $this.data('selectpicker'),\r\n            options = typeof _option == 'object' && _option;\r\n\r\n        if (!data) {\r\n          var dataAttributes = $this.data();\r\n\r\n          for (var dataAttr in dataAttributes) {\r\n            if (Object.prototype.hasOwnProperty.call(dataAttributes, dataAttr) && $.inArray(dataAttr, DISALLOWED_ATTRIBUTES) !== -1) {\r\n              delete dataAttributes[dataAttr];\r\n            }\r\n          }\r\n\r\n          var config = $.extend({}, Selectpicker.DEFAULTS, $.fn.selectpicker.defaults || {}, dataAttributes, options);\r\n          config.template = $.extend({}, Selectpicker.DEFAULTS.template, ($.fn.selectpicker.defaults ? $.fn.selectpicker.defaults.template : {}), dataAttributes.template, options.template);\r\n          $this.data('selectpicker', (data = new Selectpicker(this, config)));\r\n        } else if (options) {\r\n          for (var i in options) {\r\n            if (Object.prototype.hasOwnProperty.call(options, i)) {\r\n              data.options[i] = options[i];\r\n            }\r\n          }\r\n        }\r\n\r\n        if (typeof _option == 'string') {\r\n          if (data[_option] instanceof Function) {\r\n            value = data[_option].apply(data, args);\r\n          } else {\r\n            value = data.options[_option];\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    if (typeof value !== 'undefined') {\r\n      // noinspection JSUnusedAssignment\r\n      return value;\r\n    } else {\r\n      return chain;\r\n    }\r\n  }\r\n\r\n  var old = $.fn.selectpicker;\r\n  $.fn.selectpicker = Plugin;\r\n  $.fn.selectpicker.Constructor = Selectpicker;\r\n\r\n  // SELECTPICKER NO CONFLICT\r\n  // ========================\r\n  $.fn.selectpicker.noConflict = function () {\r\n    $.fn.selectpicker = old;\r\n    return this;\r\n  };\r\n\r\n  // get Bootstrap's keydown event handler for either Bootstrap 4 or Bootstrap 3\r\n  function keydownHandler () {\r\n    if ($.fn.dropdown) {\r\n      // wait to define until function is called in case Bootstrap isn't loaded yet\r\n      var bootstrapKeydown = $.fn.dropdown.Constructor._dataApiKeydownHandler || $.fn.dropdown.Constructor.prototype.keydown;\r\n      return bootstrapKeydown.apply(this, arguments);\r\n    }\r\n  }\r\n\r\n  $(document)\r\n    .off('keydown.bs.dropdown.data-api')\r\n    .on('keydown.bs.dropdown.data-api', ':not(.bootstrap-select) > [data-toggle=\"dropdown\"]', keydownHandler)\r\n    .on('keydown.bs.dropdown.data-api', ':not(.bootstrap-select) > .dropdown-menu', keydownHandler)\r\n    .on('keydown' + EVENT_KEY, '.bootstrap-select [data-toggle=\"dropdown\"], .bootstrap-select [role=\"listbox\"], .bootstrap-select .bs-searchbox input', Selectpicker.prototype.keydown)\r\n    .on('focusin.modal', '.bootstrap-select [data-toggle=\"dropdown\"], .bootstrap-select [role=\"listbox\"], .bootstrap-select .bs-searchbox input', function (e) {\r\n      e.stopPropagation();\r\n    });\r\n\r\n  // SELECTPICKER DATA-API\r\n  // =====================\r\n  $(window).on('load' + EVENT_KEY + '.data-api', function () {\r\n    $('.selectpicker').each(function () {\r\n      var $selectpicker = $(this);\r\n      Plugin.call($selectpicker, $selectpicker.data());\r\n    })\r\n  });\r\n})(jQuery);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}